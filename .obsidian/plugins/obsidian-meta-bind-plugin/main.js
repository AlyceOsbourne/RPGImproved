/*
-------------------------------------------
Meta Bind - Release Build
-------------------------------------------
By: Moritz Jung (https://mprojectscode.github.io/)
Time: Sun, 24 Mar 2024 20:10:52 GMT
Version: 0.12.5
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
-------------------------------------------
Copyright (C) 2024 Moritz Jung
-------------------------------------------
This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/

"use strict";var _7=Object.create;var Zl=Object.defineProperty;var S7=Object.getOwnPropertyDescriptor;var A7=Object.getOwnPropertyNames;var D7=Object.getPrototypeOf,E7=Object.prototype.hasOwnProperty;var N7=(r,e,t)=>e in r?Zl(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ln=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),C7=(r,e)=>{for(var t in e)Zl(r,t,{get:e[t],enumerable:!0})},nE=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of A7(e))!E7.call(r,i)&&i!==t&&Zl(r,i,{get:()=>e[i],enumerable:!(n=S7(e,i))||n.enumerable});return r};var hr=(r,e,t)=>(t=r!=null?_7(D7(r)):{},nE(e||!r||!r.__esModule?Zl(t,"default",{value:r,enumerable:!0}):t,r)),T7=r=>nE(Zl({},"__esModule",{value:!0}),r);var an=(r,e,t)=>(N7(r,typeof e!="symbol"?e+"":e,t),t);var tc=ln((Cg,Cu)=>{(function(r,e){typeof Cg=="object"&&typeof Cu!="undefined"?Cu.exports=e():typeof define=="function"&&define.amd?define(e):r.moment=e()})(Cg,function(){"use strict";var r;function e(){return r.apply(null,arguments)}function t(v){r=v}function n(v){return v instanceof Array||Object.prototype.toString.call(v)==="[object Array]"}function i(v){return v!=null&&Object.prototype.toString.call(v)==="[object Object]"}function a(v,A){return Object.prototype.hasOwnProperty.call(v,A)}function o(v){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(v).length===0;var A;for(A in v)if(a(v,A))return!1;return!0}function u(v){return v===void 0}function s(v){return typeof v=="number"||Object.prototype.toString.call(v)==="[object Number]"}function l(v){return v instanceof Date||Object.prototype.toString.call(v)==="[object Date]"}function c(v,A){var F=[],R,z=v.length;for(R=0;R<z;++R)F.push(A(v[R],R));return F}function f(v,A){for(var F in A)a(A,F)&&(v[F]=A[F]);return a(A,"toString")&&(v.toString=A.toString),a(A,"valueOf")&&(v.valueOf=A.valueOf),v}function p(v,A,F,R){return PD(v,A,F,R,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(v){return v._pf==null&&(v._pf=m()),v._pf}var d;Array.prototype.some?d=Array.prototype.some:d=function(v){var A=Object(this),F=A.length>>>0,R;for(R=0;R<F;R++)if(R in A&&v.call(this,A[R],R,A))return!0;return!1};function g(v){var A=null,F=!1,R=v._d&&!isNaN(v._d.getTime());if(R&&(A=h(v),F=d.call(A.parsedDateParts,function(z){return z!=null}),R=A.overflow<0&&!A.empty&&!A.invalidEra&&!A.invalidMonth&&!A.invalidWeekday&&!A.weekdayMismatch&&!A.nullInput&&!A.invalidFormat&&!A.userInvalidated&&(!A.meridiem||A.meridiem&&F),v._strict&&(R=R&&A.charsLeftOver===0&&A.unusedTokens.length===0&&A.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(v))v._isValid=R;else return R;return v._isValid}function y(v){var A=p(NaN);return v!=null?f(h(A),v):h(A).userInvalidated=!0,A}var _=e.momentProperties=[],b=!1;function w(v,A){var F,R,z,ue=_.length;if(u(A._isAMomentObject)||(v._isAMomentObject=A._isAMomentObject),u(A._i)||(v._i=A._i),u(A._f)||(v._f=A._f),u(A._l)||(v._l=A._l),u(A._strict)||(v._strict=A._strict),u(A._tzm)||(v._tzm=A._tzm),u(A._isUTC)||(v._isUTC=A._isUTC),u(A._offset)||(v._offset=A._offset),u(A._pf)||(v._pf=h(A)),u(A._locale)||(v._locale=A._locale),ue>0)for(F=0;F<ue;F++)R=_[F],z=A[R],u(z)||(v[R]=z);return v}function S(v){w(this,v),this._d=new Date(v._d!=null?v._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),b===!1&&(b=!0,e.updateOffset(this),b=!1)}function x(v){return v instanceof S||v!=null&&v._isAMomentObject!=null}function C(v){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+v)}function E(v,A){var F=!0;return f(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,v),F){var R=[],z,ue,Fe,mt=arguments.length;for(ue=0;ue<mt;ue++){if(z="",typeof arguments[ue]=="object"){z+=`
[`+ue+"] ";for(Fe in arguments[0])a(arguments[0],Fe)&&(z+=Fe+": "+arguments[0][Fe]+", ");z=z.slice(0,-2)}else z=arguments[ue];R.push(z)}C(v+`
Arguments: `+Array.prototype.slice.call(R).join("")+`
`+new Error().stack),F=!1}return A.apply(this,arguments)},A)}var D={};function N(v,A){e.deprecationHandler!=null&&e.deprecationHandler(v,A),D[v]||(C(A),D[v]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function I(v){return typeof Function!="undefined"&&v instanceof Function||Object.prototype.toString.call(v)==="[object Function]"}function O(v){var A,F;for(F in v)a(v,F)&&(A=v[F],I(A)?this[F]=A:this["_"+F]=A);this._config=v,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function V(v,A){var F=f({},v),R;for(R in A)a(A,R)&&(i(v[R])&&i(A[R])?(F[R]={},f(F[R],v[R]),f(F[R],A[R])):A[R]!=null?F[R]=A[R]:delete F[R]);for(R in v)a(v,R)&&!a(A,R)&&i(v[R])&&(F[R]=f({},F[R]));return F}function q(v){v!=null&&this.set(v)}var L;Object.keys?L=Object.keys:L=function(v){var A,F=[];for(A in v)a(v,A)&&F.push(A);return F};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function k(v,A,F){var R=this._calendar[v]||this._calendar.sameElse;return I(R)?R.call(A,F):R}function Y(v,A,F){var R=""+Math.abs(v),z=A-R.length,ue=v>=0;return(ue?F?"+":"":"-")+Math.pow(10,Math.max(0,z)).toString().substr(1)+R}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oe={},ne={};function U(v,A,F,R){var z=R;typeof R=="string"&&(z=function(){return this[R]()}),v&&(ne[v]=z),A&&(ne[A[0]]=function(){return Y(z.apply(this,arguments),A[1],A[2])}),F&&(ne[F]=function(){return this.localeData().ordinal(z.apply(this,arguments),v)})}function fe(v){return v.match(/\[[\s\S]/)?v.replace(/^\[|\]$/g,""):v.replace(/\\/g,"")}function Ee(v){var A=v.match(B),F,R;for(F=0,R=A.length;F<R;F++)ne[A[F]]?A[F]=ne[A[F]]:A[F]=fe(A[F]);return function(z){var ue="",Fe;for(Fe=0;Fe<R;Fe++)ue+=I(A[Fe])?A[Fe].call(z,v):A[Fe];return ue}}function pe(v,A){return v.isValid()?(A=he(A,v.localeData()),oe[A]=oe[A]||Ee(A),oe[A](v)):v.localeData().invalidDate()}function he(v,A){var F=5;function R(z){return A.longDateFormat(z)||z}for(Z.lastIndex=0;F>=0&&Z.test(v);)v=v.replace(Z,R),Z.lastIndex=0,F-=1;return v}var De={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ve(v){var A=this._longDateFormat[v],F=this._longDateFormat[v.toUpperCase()];return A||!F?A:(this._longDateFormat[v]=F.match(B).map(function(R){return R==="MMMM"||R==="MM"||R==="DD"||R==="dddd"?R.slice(1):R}).join(""),this._longDateFormat[v])}var de="Invalid date";function Ae(){return this._invalidDate}var Ne="%d",ke=/\d{1,2}/;function nt(v){return this._ordinal.replace("%d",v)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ee(v,A,F,R){var z=this._relativeTime[F];return I(z)?z(v,A,F,R):z.replace(/%d/i,v)}function ye(v,A){var F=this._relativeTime[v>0?"future":"past"];return I(F)?F(A):F.replace(/%s/i,A)}var H={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function te(v){return typeof v=="string"?H[v]||H[v.toLowerCase()]:void 0}function se(v){var A={},F,R;for(R in v)a(v,R)&&(F=te(R),F&&(A[F]=v[R]));return A}var Ce={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Te(v){var A=[],F;for(F in v)a(v,F)&&A.push({unit:F,priority:Ce[F]});return A.sort(function(R,z){return R.priority-z.priority}),A}var Ye=/\d/,Me=/\d\d/,et=/\d{3}/,At=/\d{4}/,_e=/[+-]?\d{6}/,Ue=/\d\d?/,re=/\d\d\d\d?/,me=/\d\d\d\d\d\d?/,Se=/\d{1,3}/,Re=/\d{1,4}/,$e=/[+-]?\d{1,6}/,Pe=/\d+/,Ve=/[+-]?\d+/,je=/Z|[+-]\d\d:?\d\d/gi,M=/Z|[+-]\d\d(?::?\d\d)?/gi,j=/[+-]?\d+(\.\d{1,3})?/,ge=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Oe=/^[1-9]\d?/,ct=/^([1-9]\d|\d)/,_t;_t={};function Je(v,A,F){_t[v]=I(A)?A:function(R,z){return R&&F?F:A}}function Zn(v,A){return a(_t,v)?_t[v](A._strict,A._locale):new RegExp(xi(v))}function xi(v){return Pn(v.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(A,F,R,z,ue){return F||R||z||ue}))}function Pn(v){return v.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Nn(v){return v<0?Math.ceil(v)||0:Math.floor(v)}function rr(v){var A=+v,F=0;return A!==0&&isFinite(A)&&(F=Nn(A)),F}var ql={};function Dr(v,A){var F,R=A,z;for(typeof v=="string"&&(v=[v]),s(A)&&(R=function(ue,Fe){Fe[A]=rr(ue)}),z=v.length,F=0;F<z;F++)ql[v[F]]=R}function xs(v,A){Dr(v,function(F,R,z,ue){z._w=z._w||{},A(F,z._w,z,ue)})}function Jh(v,A,F){A!=null&&a(ql,v)&&ql[v](A,F._a,F,v)}function vu(v){return v%4===0&&v%100!==0||v%400===0}var xn=0,na=1,Vi=2,nn=3,wi=4,ia=5,Ha=6,Xh=7,Qh=8;U("Y",0,0,function(){var v=this.year();return v<=9999?Y(v,4):"+"+v}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),Je("Y",Ve),Je("YY",Ue,Me),Je("YYYY",Re,At),Je("YYYYY",$e,_e),Je("YYYYYY",$e,_e),Dr(["YYYYY","YYYYYY"],xn),Dr("YYYY",function(v,A){A[xn]=v.length===2?e.parseTwoDigitYear(v):rr(v)}),Dr("YY",function(v,A){A[xn]=e.parseTwoDigitYear(v)}),Dr("Y",function(v,A){A[xn]=parseInt(v,10)});function ws(v){return vu(v)?366:365}e.parseTwoDigitYear=function(v){return rr(v)+(rr(v)>68?1900:2e3)};var vf=Ao("FullYear",!0);function Kh(){return vu(this.year())}function Ao(v,A){return function(F){return F!=null?(yf(this,v,F),e.updateOffset(this,A),this):_s(this,v)}}function _s(v,A){if(!v.isValid())return NaN;var F=v._d,R=v._isUTC;switch(A){case"Milliseconds":return R?F.getUTCMilliseconds():F.getMilliseconds();case"Seconds":return R?F.getUTCSeconds():F.getSeconds();case"Minutes":return R?F.getUTCMinutes():F.getMinutes();case"Hours":return R?F.getUTCHours():F.getHours();case"Date":return R?F.getUTCDate():F.getDate();case"Day":return R?F.getUTCDay():F.getDay();case"Month":return R?F.getUTCMonth():F.getMonth();case"FullYear":return R?F.getUTCFullYear():F.getFullYear();default:return NaN}}function yf(v,A,F){var R,z,ue,Fe,mt;if(!(!v.isValid()||isNaN(F))){switch(R=v._d,z=v._isUTC,A){case"Milliseconds":return void(z?R.setUTCMilliseconds(F):R.setMilliseconds(F));case"Seconds":return void(z?R.setUTCSeconds(F):R.setSeconds(F));case"Minutes":return void(z?R.setUTCMinutes(F):R.setMinutes(F));case"Hours":return void(z?R.setUTCHours(F):R.setHours(F));case"Date":return void(z?R.setUTCDate(F):R.setDate(F));case"FullYear":break;default:return}ue=F,Fe=v.month(),mt=v.date(),mt=mt===29&&Fe===1&&!vu(ue)?28:mt,z?R.setUTCFullYear(ue,Fe,mt):R.setFullYear(ue,Fe,mt)}}function eg(v){return v=te(v),I(this[v])?this[v]():this}function tg(v,A){if(typeof v=="object"){v=se(v);var F=Te(v),R,z=F.length;for(R=0;R<z;R++)this[F[R].unit](v[F[R].unit])}else if(v=te(v),I(this[v]))return this[v](A);return this}function rg(v,A){return(v%A+A)%A}var jr;Array.prototype.indexOf?jr=Array.prototype.indexOf:jr=function(v){var A;for(A=0;A<this.length;++A)if(this[A]===v)return A;return-1};function zl(v,A){if(isNaN(v)||isNaN(A))return NaN;var F=rg(A,12);return v+=(A-F)/12,F===1?vu(v)?29:28:31-F%7%2}U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(v){return this.localeData().monthsShort(this,v)}),U("MMMM",0,0,function(v){return this.localeData().months(this,v)}),Je("M",Ue,Oe),Je("MM",Ue,Me),Je("MMM",function(v,A){return A.monthsShortRegex(v)}),Je("MMMM",function(v,A){return A.monthsRegex(v)}),Dr(["M","MM"],function(v,A){A[na]=rr(v)-1}),Dr(["MMM","MMMM"],function(v,A,F,R){var z=F._locale.monthsParse(v,R,F._strict);z!=null?A[na]=z:h(F).invalidMonth=v});var ng="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),bf="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Do=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,wr=ge,On=ge;function ig(v,A){return v?n(this._months)?this._months[v.month()]:this._months[(this._months.isFormat||Do).test(A)?"format":"standalone"][v.month()]:n(this._months)?this._months:this._months.standalone}function yu(v,A){return v?n(this._monthsShort)?this._monthsShort[v.month()]:this._monthsShort[Do.test(A)?"format":"standalone"][v.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ss(v,A,F){var R,z,ue,Fe=v.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],R=0;R<12;++R)ue=p([2e3,R]),this._shortMonthsParse[R]=this.monthsShort(ue,"").toLocaleLowerCase(),this._longMonthsParse[R]=this.months(ue,"").toLocaleLowerCase();return F?A==="MMM"?(z=jr.call(this._shortMonthsParse,Fe),z!==-1?z:null):(z=jr.call(this._longMonthsParse,Fe),z!==-1?z:null):A==="MMM"?(z=jr.call(this._shortMonthsParse,Fe),z!==-1?z:(z=jr.call(this._longMonthsParse,Fe),z!==-1?z:null)):(z=jr.call(this._longMonthsParse,Fe),z!==-1?z:(z=jr.call(this._shortMonthsParse,Fe),z!==-1?z:null))}function ag(v,A,F){var R,z,ue;if(this._monthsParseExact)return Ss.call(this,v,A,F);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),R=0;R<12;R++){if(z=p([2e3,R]),F&&!this._longMonthsParse[R]&&(this._longMonthsParse[R]=new RegExp("^"+this.months(z,"").replace(".","")+"$","i"),this._shortMonthsParse[R]=new RegExp("^"+this.monthsShort(z,"").replace(".","")+"$","i")),!F&&!this._monthsParse[R]&&(ue="^"+this.months(z,"")+"|^"+this.monthsShort(z,""),this._monthsParse[R]=new RegExp(ue.replace(".",""),"i")),F&&A==="MMMM"&&this._longMonthsParse[R].test(v))return R;if(F&&A==="MMM"&&this._shortMonthsParse[R].test(v))return R;if(!F&&this._monthsParse[R].test(v))return R}}function _D(v,A){if(!v.isValid())return v;if(typeof A=="string"){if(/^\d+$/.test(A))A=rr(A);else if(A=v.localeData().monthsParse(A),!s(A))return v}var F=A,R=v.date();return R=R<29?R:Math.min(R,zl(v.year(),F)),v._isUTC?v._d.setUTCMonth(F,R):v._d.setMonth(F,R),v}function SD(v){return v!=null?(_D(this,v),e.updateOffset(this,!0),this):_s(this,"Month")}function a8(){return zl(this.year(),this.month())}function o8(v){return this._monthsParseExact?(a(this,"_monthsRegex")||AD.call(this),v?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=wr),this._monthsShortStrictRegex&&v?this._monthsShortStrictRegex:this._monthsShortRegex)}function s8(v){return this._monthsParseExact?(a(this,"_monthsRegex")||AD.call(this),v?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=On),this._monthsStrictRegex&&v?this._monthsStrictRegex:this._monthsRegex)}function AD(){function v(Ut,ur){return ur.length-Ut.length}var A=[],F=[],R=[],z,ue,Fe,mt;for(z=0;z<12;z++)ue=p([2e3,z]),Fe=Pn(this.monthsShort(ue,"")),mt=Pn(this.months(ue,"")),A.push(Fe),F.push(mt),R.push(mt),R.push(Fe);A.sort(v),F.sort(v),R.sort(v),this._monthsRegex=new RegExp("^("+R.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+F.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+A.join("|")+")","i")}function u8(v,A,F,R,z,ue,Fe){var mt;return v<100&&v>=0?(mt=new Date(v+400,A,F,R,z,ue,Fe),isFinite(mt.getFullYear())&&mt.setFullYear(v)):mt=new Date(v,A,F,R,z,ue,Fe),mt}function Hl(v){var A,F;return v<100&&v>=0?(F=Array.prototype.slice.call(arguments),F[0]=v+400,A=new Date(Date.UTC.apply(null,F)),isFinite(A.getUTCFullYear())&&A.setUTCFullYear(v)):A=new Date(Date.UTC.apply(null,arguments)),A}function xf(v,A,F){var R=7+A-F,z=(7+Hl(v,0,R).getUTCDay()-A)%7;return-z+R-1}function DD(v,A,F,R,z){var ue=(7+F-R)%7,Fe=xf(v,R,z),mt=1+7*(A-1)+ue+Fe,Ut,ur;return mt<=0?(Ut=v-1,ur=ws(Ut)+mt):mt>ws(v)?(Ut=v+1,ur=mt-ws(v)):(Ut=v,ur=mt),{year:Ut,dayOfYear:ur}}function Gl(v,A,F){var R=xf(v.year(),A,F),z=Math.floor((v.dayOfYear()-R-1)/7)+1,ue,Fe;return z<1?(Fe=v.year()-1,ue=z+Ga(Fe,A,F)):z>Ga(v.year(),A,F)?(ue=z-Ga(v.year(),A,F),Fe=v.year()+1):(Fe=v.year(),ue=z),{week:ue,year:Fe}}function Ga(v,A,F){var R=xf(v,A,F),z=xf(v+1,A,F);return(ws(v)-R+z)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),Je("w",Ue,Oe),Je("ww",Ue,Me),Je("W",Ue,Oe),Je("WW",Ue,Me),xs(["w","ww","W","WW"],function(v,A,F,R){A[R.substr(0,1)]=rr(v)});function l8(v){return Gl(v,this._week.dow,this._week.doy).week}var c8={dow:0,doy:6};function f8(){return this._week.dow}function p8(){return this._week.doy}function m8(v){var A=this.localeData().week(this);return v==null?A:this.add((v-A)*7,"d")}function d8(v){var A=Gl(this,1,4).week;return v==null?A:this.add((v-A)*7,"d")}U("d",0,"do","day"),U("dd",0,0,function(v){return this.localeData().weekdaysMin(this,v)}),U("ddd",0,0,function(v){return this.localeData().weekdaysShort(this,v)}),U("dddd",0,0,function(v){return this.localeData().weekdays(this,v)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),Je("d",Ue),Je("e",Ue),Je("E",Ue),Je("dd",function(v,A){return A.weekdaysMinRegex(v)}),Je("ddd",function(v,A){return A.weekdaysShortRegex(v)}),Je("dddd",function(v,A){return A.weekdaysRegex(v)}),xs(["dd","ddd","dddd"],function(v,A,F,R){var z=F._locale.weekdaysParse(v,R,F._strict);z!=null?A.d=z:h(F).invalidWeekday=v}),xs(["d","e","E"],function(v,A,F,R){A[R]=rr(v)});function h8(v,A){return typeof v!="string"?v:isNaN(v)?(v=A.weekdaysParse(v),typeof v=="number"?v:null):parseInt(v,10)}function g8(v,A){return typeof v=="string"?A.weekdaysParse(v)%7||7:isNaN(v)?null:v}function og(v,A){return v.slice(A,7).concat(v.slice(0,A))}var v8="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ED="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),y8="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),b8=ge,x8=ge,w8=ge;function _8(v,A){var F=n(this._weekdays)?this._weekdays:this._weekdays[v&&v!==!0&&this._weekdays.isFormat.test(A)?"format":"standalone"];return v===!0?og(F,this._week.dow):v?F[v.day()]:F}function S8(v){return v===!0?og(this._weekdaysShort,this._week.dow):v?this._weekdaysShort[v.day()]:this._weekdaysShort}function A8(v){return v===!0?og(this._weekdaysMin,this._week.dow):v?this._weekdaysMin[v.day()]:this._weekdaysMin}function D8(v,A,F){var R,z,ue,Fe=v.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],R=0;R<7;++R)ue=p([2e3,1]).day(R),this._minWeekdaysParse[R]=this.weekdaysMin(ue,"").toLocaleLowerCase(),this._shortWeekdaysParse[R]=this.weekdaysShort(ue,"").toLocaleLowerCase(),this._weekdaysParse[R]=this.weekdays(ue,"").toLocaleLowerCase();return F?A==="dddd"?(z=jr.call(this._weekdaysParse,Fe),z!==-1?z:null):A==="ddd"?(z=jr.call(this._shortWeekdaysParse,Fe),z!==-1?z:null):(z=jr.call(this._minWeekdaysParse,Fe),z!==-1?z:null):A==="dddd"?(z=jr.call(this._weekdaysParse,Fe),z!==-1||(z=jr.call(this._shortWeekdaysParse,Fe),z!==-1)?z:(z=jr.call(this._minWeekdaysParse,Fe),z!==-1?z:null)):A==="ddd"?(z=jr.call(this._shortWeekdaysParse,Fe),z!==-1||(z=jr.call(this._weekdaysParse,Fe),z!==-1)?z:(z=jr.call(this._minWeekdaysParse,Fe),z!==-1?z:null)):(z=jr.call(this._minWeekdaysParse,Fe),z!==-1||(z=jr.call(this._weekdaysParse,Fe),z!==-1)?z:(z=jr.call(this._shortWeekdaysParse,Fe),z!==-1?z:null))}function E8(v,A,F){var R,z,ue;if(this._weekdaysParseExact)return D8.call(this,v,A,F);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),R=0;R<7;R++){if(z=p([2e3,1]).day(R),F&&!this._fullWeekdaysParse[R]&&(this._fullWeekdaysParse[R]=new RegExp("^"+this.weekdays(z,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[R]=new RegExp("^"+this.weekdaysShort(z,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[R]=new RegExp("^"+this.weekdaysMin(z,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[R]||(ue="^"+this.weekdays(z,"")+"|^"+this.weekdaysShort(z,"")+"|^"+this.weekdaysMin(z,""),this._weekdaysParse[R]=new RegExp(ue.replace(".",""),"i")),F&&A==="dddd"&&this._fullWeekdaysParse[R].test(v))return R;if(F&&A==="ddd"&&this._shortWeekdaysParse[R].test(v))return R;if(F&&A==="dd"&&this._minWeekdaysParse[R].test(v))return R;if(!F&&this._weekdaysParse[R].test(v))return R}}function N8(v){if(!this.isValid())return v!=null?this:NaN;var A=_s(this,"Day");return v!=null?(v=h8(v,this.localeData()),this.add(v-A,"d")):A}function C8(v){if(!this.isValid())return v!=null?this:NaN;var A=(this.day()+7-this.localeData()._week.dow)%7;return v==null?A:this.add(v-A,"d")}function T8(v){if(!this.isValid())return v!=null?this:NaN;if(v!=null){var A=g8(v,this.localeData());return this.day(this.day()%7?A:A-7)}else return this.day()||7}function M8(v){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||sg.call(this),v?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=b8),this._weekdaysStrictRegex&&v?this._weekdaysStrictRegex:this._weekdaysRegex)}function F8(v){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||sg.call(this),v?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=x8),this._weekdaysShortStrictRegex&&v?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function I8(v){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||sg.call(this),v?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=w8),this._weekdaysMinStrictRegex&&v?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function sg(){function v(Jn,Ja){return Ja.length-Jn.length}var A=[],F=[],R=[],z=[],ue,Fe,mt,Ut,ur;for(ue=0;ue<7;ue++)Fe=p([2e3,1]).day(ue),mt=Pn(this.weekdaysMin(Fe,"")),Ut=Pn(this.weekdaysShort(Fe,"")),ur=Pn(this.weekdays(Fe,"")),A.push(mt),F.push(Ut),R.push(ur),z.push(mt),z.push(Ut),z.push(ur);A.sort(v),F.sort(v),R.sort(v),z.sort(v),this._weekdaysRegex=new RegExp("^("+z.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+R.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+F.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+A.join("|")+")","i")}function ug(){return this.hours()%12||12}function B8(){return this.hours()||24}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,ug),U("k",["kk",2],0,B8),U("hmm",0,0,function(){return""+ug.apply(this)+Y(this.minutes(),2)}),U("hmmss",0,0,function(){return""+ug.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+Y(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)});function ND(v,A){U(v,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),A)})}ND("a",!0),ND("A",!1);function CD(v,A){return A._meridiemParse}Je("a",CD),Je("A",CD),Je("H",Ue,ct),Je("h",Ue,Oe),Je("k",Ue,Oe),Je("HH",Ue,Me),Je("hh",Ue,Me),Je("kk",Ue,Me),Je("hmm",re),Je("hmmss",me),Je("Hmm",re),Je("Hmmss",me),Dr(["H","HH"],nn),Dr(["k","kk"],function(v,A,F){var R=rr(v);A[nn]=R===24?0:R}),Dr(["a","A"],function(v,A,F){F._isPm=F._locale.isPM(v),F._meridiem=v}),Dr(["h","hh"],function(v,A,F){A[nn]=rr(v),h(F).bigHour=!0}),Dr("hmm",function(v,A,F){var R=v.length-2;A[nn]=rr(v.substr(0,R)),A[wi]=rr(v.substr(R)),h(F).bigHour=!0}),Dr("hmmss",function(v,A,F){var R=v.length-4,z=v.length-2;A[nn]=rr(v.substr(0,R)),A[wi]=rr(v.substr(R,2)),A[ia]=rr(v.substr(z)),h(F).bigHour=!0}),Dr("Hmm",function(v,A,F){var R=v.length-2;A[nn]=rr(v.substr(0,R)),A[wi]=rr(v.substr(R))}),Dr("Hmmss",function(v,A,F){var R=v.length-4,z=v.length-2;A[nn]=rr(v.substr(0,R)),A[wi]=rr(v.substr(R,2)),A[ia]=rr(v.substr(z))});function P8(v){return(v+"").toLowerCase().charAt(0)==="p"}var O8=/[ap]\.?m?\.?/i,k8=Ao("Hours",!0);function R8(v,A,F){return v>11?F?"pm":"PM":F?"am":"AM"}var TD={calendar:P,longDateFormat:De,invalidDate:de,ordinal:Ne,dayOfMonthOrdinalParse:ke,relativeTime:J,months:ng,monthsShort:bf,week:c8,weekdays:v8,weekdaysMin:y8,weekdaysShort:ED,meridiemParse:O8},zr={},Wl={},Yl;function L8(v,A){var F,R=Math.min(v.length,A.length);for(F=0;F<R;F+=1)if(v[F]!==A[F])return F;return R}function MD(v){return v&&v.toLowerCase().replace("_","-")}function V8(v){for(var A=0,F,R,z,ue;A<v.length;){for(ue=MD(v[A]).split("-"),F=ue.length,R=MD(v[A+1]),R=R?R.split("-"):null;F>0;){if(z=wf(ue.slice(0,F).join("-")),z)return z;if(R&&R.length>=F&&L8(ue,R)>=F-1)break;F--}A++}return Yl}function U8(v){return!!(v&&v.match("^[^/\\\\]*$"))}function wf(v){var A=null,F;if(zr[v]===void 0&&typeof Cu!="undefined"&&Cu&&Cu.exports&&U8(v))try{A=Yl._abbr,F=require,F("./locale/"+v),Eo(A)}catch(R){zr[v]=null}return zr[v]}function Eo(v,A){var F;return v&&(u(A)?F=Wa(v):F=lg(v,A),F?Yl=F:typeof console!="undefined"&&console.warn&&console.warn("Locale "+v+" not found. Did you forget to load it?")),Yl._abbr}function lg(v,A){if(A!==null){var F,R=TD;if(A.abbr=v,zr[v]!=null)N("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),R=zr[v]._config;else if(A.parentLocale!=null)if(zr[A.parentLocale]!=null)R=zr[A.parentLocale]._config;else if(F=wf(A.parentLocale),F!=null)R=F._config;else return Wl[A.parentLocale]||(Wl[A.parentLocale]=[]),Wl[A.parentLocale].push({name:v,config:A}),null;return zr[v]=new q(V(R,A)),Wl[v]&&Wl[v].forEach(function(z){lg(z.name,z.config)}),Eo(v),zr[v]}else return delete zr[v],null}function $8(v,A){if(A!=null){var F,R,z=TD;zr[v]!=null&&zr[v].parentLocale!=null?zr[v].set(V(zr[v]._config,A)):(R=wf(v),R!=null&&(z=R._config),A=V(z,A),R==null&&(A.abbr=v),F=new q(A),F.parentLocale=zr[v],zr[v]=F),Eo(v)}else zr[v]!=null&&(zr[v].parentLocale!=null?(zr[v]=zr[v].parentLocale,v===Eo()&&Eo(v)):zr[v]!=null&&delete zr[v]);return zr[v]}function Wa(v){var A;if(v&&v._locale&&v._locale._abbr&&(v=v._locale._abbr),!v)return Yl;if(!n(v)){if(A=wf(v),A)return A;v=[v]}return V8(v)}function q8(){return L(zr)}function cg(v){var A,F=v._a;return F&&h(v).overflow===-2&&(A=F[na]<0||F[na]>11?na:F[Vi]<1||F[Vi]>zl(F[xn],F[na])?Vi:F[nn]<0||F[nn]>24||F[nn]===24&&(F[wi]!==0||F[ia]!==0||F[Ha]!==0)?nn:F[wi]<0||F[wi]>59?wi:F[ia]<0||F[ia]>59?ia:F[Ha]<0||F[Ha]>999?Ha:-1,h(v)._overflowDayOfYear&&(A<xn||A>Vi)&&(A=Vi),h(v)._overflowWeeks&&A===-1&&(A=Xh),h(v)._overflowWeekday&&A===-1&&(A=Qh),h(v).overflow=A),v}var z8=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,H8=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,G8=/Z|[+-]\d\d(?::?\d\d)?/,_f=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],fg=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],W8=/^\/?Date\((-?\d+)/i,Y8=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,j8={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function FD(v){var A,F,R=v._i,z=z8.exec(R)||H8.exec(R),ue,Fe,mt,Ut,ur=_f.length,Jn=fg.length;if(z){for(h(v).iso=!0,A=0,F=ur;A<F;A++)if(_f[A][1].exec(z[1])){Fe=_f[A][0],ue=_f[A][2]!==!1;break}if(Fe==null){v._isValid=!1;return}if(z[3]){for(A=0,F=Jn;A<F;A++)if(fg[A][1].exec(z[3])){mt=(z[2]||" ")+fg[A][0];break}if(mt==null){v._isValid=!1;return}}if(!ue&&mt!=null){v._isValid=!1;return}if(z[4])if(G8.exec(z[4]))Ut="Z";else{v._isValid=!1;return}v._f=Fe+(mt||"")+(Ut||""),mg(v)}else v._isValid=!1}function Z8(v,A,F,R,z,ue){var Fe=[J8(v),bf.indexOf(A),parseInt(F,10),parseInt(R,10),parseInt(z,10)];return ue&&Fe.push(parseInt(ue,10)),Fe}function J8(v){var A=parseInt(v,10);return A<=49?2e3+A:A<=999?1900+A:A}function X8(v){return v.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Q8(v,A,F){if(v){var R=ED.indexOf(v),z=new Date(A[0],A[1],A[2]).getDay();if(R!==z)return h(F).weekdayMismatch=!0,F._isValid=!1,!1}return!0}function K8(v,A,F){if(v)return j8[v];if(A)return 0;var R=parseInt(F,10),z=R%100,ue=(R-z)/100;return ue*60+z}function ID(v){var A=Y8.exec(X8(v._i)),F;if(A){if(F=Z8(A[4],A[3],A[2],A[5],A[6],A[7]),!Q8(A[1],F,v))return;v._a=F,v._tzm=K8(A[8],A[9],A[10]),v._d=Hl.apply(null,v._a),v._d.setUTCMinutes(v._d.getUTCMinutes()-v._tzm),h(v).rfc2822=!0}else v._isValid=!1}function e$(v){var A=W8.exec(v._i);if(A!==null){v._d=new Date(+A[1]);return}if(FD(v),v._isValid===!1)delete v._isValid;else return;if(ID(v),v._isValid===!1)delete v._isValid;else return;v._strict?v._isValid=!1:e.createFromInputFallback(v)}e.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(v){v._d=new Date(v._i+(v._useUTC?" UTC":""))});function bu(v,A,F){return v!=null?v:A!=null?A:F}function t$(v){var A=new Date(e.now());return v._useUTC?[A.getUTCFullYear(),A.getUTCMonth(),A.getUTCDate()]:[A.getFullYear(),A.getMonth(),A.getDate()]}function pg(v){var A,F,R=[],z,ue,Fe;if(!v._d){for(z=t$(v),v._w&&v._a[Vi]==null&&v._a[na]==null&&r$(v),v._dayOfYear!=null&&(Fe=bu(v._a[xn],z[xn]),(v._dayOfYear>ws(Fe)||v._dayOfYear===0)&&(h(v)._overflowDayOfYear=!0),F=Hl(Fe,0,v._dayOfYear),v._a[na]=F.getUTCMonth(),v._a[Vi]=F.getUTCDate()),A=0;A<3&&v._a[A]==null;++A)v._a[A]=R[A]=z[A];for(;A<7;A++)v._a[A]=R[A]=v._a[A]==null?A===2?1:0:v._a[A];v._a[nn]===24&&v._a[wi]===0&&v._a[ia]===0&&v._a[Ha]===0&&(v._nextDay=!0,v._a[nn]=0),v._d=(v._useUTC?Hl:u8).apply(null,R),ue=v._useUTC?v._d.getUTCDay():v._d.getDay(),v._tzm!=null&&v._d.setUTCMinutes(v._d.getUTCMinutes()-v._tzm),v._nextDay&&(v._a[nn]=24),v._w&&typeof v._w.d!="undefined"&&v._w.d!==ue&&(h(v).weekdayMismatch=!0)}}function r$(v){var A,F,R,z,ue,Fe,mt,Ut,ur;A=v._w,A.GG!=null||A.W!=null||A.E!=null?(ue=1,Fe=4,F=bu(A.GG,v._a[xn],Gl(Vr(),1,4).year),R=bu(A.W,1),z=bu(A.E,1),(z<1||z>7)&&(Ut=!0)):(ue=v._locale._week.dow,Fe=v._locale._week.doy,ur=Gl(Vr(),ue,Fe),F=bu(A.gg,v._a[xn],ur.year),R=bu(A.w,ur.week),A.d!=null?(z=A.d,(z<0||z>6)&&(Ut=!0)):A.e!=null?(z=A.e+ue,(A.e<0||A.e>6)&&(Ut=!0)):z=ue),R<1||R>Ga(F,ue,Fe)?h(v)._overflowWeeks=!0:Ut!=null?h(v)._overflowWeekday=!0:(mt=DD(F,R,z,ue,Fe),v._a[xn]=mt.year,v._dayOfYear=mt.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function mg(v){if(v._f===e.ISO_8601){FD(v);return}if(v._f===e.RFC_2822){ID(v);return}v._a=[],h(v).empty=!0;var A=""+v._i,F,R,z,ue,Fe,mt=A.length,Ut=0,ur,Jn;for(z=he(v._f,v._locale).match(B)||[],Jn=z.length,F=0;F<Jn;F++)ue=z[F],R=(A.match(Zn(ue,v))||[])[0],R&&(Fe=A.substr(0,A.indexOf(R)),Fe.length>0&&h(v).unusedInput.push(Fe),A=A.slice(A.indexOf(R)+R.length),Ut+=R.length),ne[ue]?(R?h(v).empty=!1:h(v).unusedTokens.push(ue),Jh(ue,R,v)):v._strict&&!R&&h(v).unusedTokens.push(ue);h(v).charsLeftOver=mt-Ut,A.length>0&&h(v).unusedInput.push(A),v._a[nn]<=12&&h(v).bigHour===!0&&v._a[nn]>0&&(h(v).bigHour=void 0),h(v).parsedDateParts=v._a.slice(0),h(v).meridiem=v._meridiem,v._a[nn]=n$(v._locale,v._a[nn],v._meridiem),ur=h(v).era,ur!==null&&(v._a[xn]=v._locale.erasConvertYear(ur,v._a[xn])),pg(v),cg(v)}function n$(v,A,F){var R;return F==null?A:v.meridiemHour!=null?v.meridiemHour(A,F):(v.isPM!=null&&(R=v.isPM(F),R&&A<12&&(A+=12),!R&&A===12&&(A=0)),A)}function i$(v){var A,F,R,z,ue,Fe,mt=!1,Ut=v._f.length;if(Ut===0){h(v).invalidFormat=!0,v._d=new Date(NaN);return}for(z=0;z<Ut;z++)ue=0,Fe=!1,A=w({},v),v._useUTC!=null&&(A._useUTC=v._useUTC),A._f=v._f[z],mg(A),g(A)&&(Fe=!0),ue+=h(A).charsLeftOver,ue+=h(A).unusedTokens.length*10,h(A).score=ue,mt?ue<R&&(R=ue,F=A):(R==null||ue<R||Fe)&&(R=ue,F=A,Fe&&(mt=!0));f(v,F||A)}function a$(v){if(!v._d){var A=se(v._i),F=A.day===void 0?A.date:A.day;v._a=c([A.year,A.month,F,A.hour,A.minute,A.second,A.millisecond],function(R){return R&&parseInt(R,10)}),pg(v)}}function o$(v){var A=new S(cg(BD(v)));return A._nextDay&&(A.add(1,"d"),A._nextDay=void 0),A}function BD(v){var A=v._i,F=v._f;return v._locale=v._locale||Wa(v._l),A===null||F===void 0&&A===""?y({nullInput:!0}):(typeof A=="string"&&(v._i=A=v._locale.preparse(A)),x(A)?new S(cg(A)):(l(A)?v._d=A:n(F)?i$(v):F?mg(v):s$(v),g(v)||(v._d=null),v))}function s$(v){var A=v._i;u(A)?v._d=new Date(e.now()):l(A)?v._d=new Date(A.valueOf()):typeof A=="string"?e$(v):n(A)?(v._a=c(A.slice(0),function(F){return parseInt(F,10)}),pg(v)):i(A)?a$(v):s(A)?v._d=new Date(A):e.createFromInputFallback(v)}function PD(v,A,F,R,z){var ue={};return(A===!0||A===!1)&&(R=A,A=void 0),(F===!0||F===!1)&&(R=F,F=void 0),(i(v)&&o(v)||n(v)&&v.length===0)&&(v=void 0),ue._isAMomentObject=!0,ue._useUTC=ue._isUTC=z,ue._l=F,ue._i=v,ue._f=A,ue._strict=R,o$(ue)}function Vr(v,A,F,R){return PD(v,A,F,R,!1)}var u$=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var v=Vr.apply(null,arguments);return this.isValid()&&v.isValid()?v<this?this:v:y()}),l$=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var v=Vr.apply(null,arguments);return this.isValid()&&v.isValid()?v>this?this:v:y()});function OD(v,A){var F,R;if(A.length===1&&n(A[0])&&(A=A[0]),!A.length)return Vr();for(F=A[0],R=1;R<A.length;++R)(!A[R].isValid()||A[R][v](F))&&(F=A[R]);return F}function c$(){var v=[].slice.call(arguments,0);return OD("isBefore",v)}function f$(){var v=[].slice.call(arguments,0);return OD("isAfter",v)}var p$=function(){return Date.now?Date.now():+new Date},jl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function m$(v){var A,F=!1,R,z=jl.length;for(A in v)if(a(v,A)&&!(jr.call(jl,A)!==-1&&(v[A]==null||!isNaN(v[A]))))return!1;for(R=0;R<z;++R)if(v[jl[R]]){if(F)return!1;parseFloat(v[jl[R]])!==rr(v[jl[R]])&&(F=!0)}return!0}function d$(){return this._isValid}function h$(){return aa(NaN)}function Sf(v){var A=se(v),F=A.year||0,R=A.quarter||0,z=A.month||0,ue=A.week||A.isoWeek||0,Fe=A.day||0,mt=A.hour||0,Ut=A.minute||0,ur=A.second||0,Jn=A.millisecond||0;this._isValid=m$(A),this._milliseconds=+Jn+ur*1e3+Ut*6e4+mt*1e3*60*60,this._days=+Fe+ue*7,this._months=+z+R*3+F*12,this._data={},this._locale=Wa(),this._bubble()}function Af(v){return v instanceof Sf}function dg(v){return v<0?Math.round(-1*v)*-1:Math.round(v)}function g$(v,A,F){var R=Math.min(v.length,A.length),z=Math.abs(v.length-A.length),ue=0,Fe;for(Fe=0;Fe<R;Fe++)(F&&v[Fe]!==A[Fe]||!F&&rr(v[Fe])!==rr(A[Fe]))&&ue++;return ue+z}function kD(v,A){U(v,0,0,function(){var F=this.utcOffset(),R="+";return F<0&&(F=-F,R="-"),R+Y(~~(F/60),2)+A+Y(~~F%60,2)})}kD("Z",":"),kD("ZZ",""),Je("Z",M),Je("ZZ",M),Dr(["Z","ZZ"],function(v,A,F){F._useUTC=!0,F._tzm=hg(M,v)});var v$=/([\+\-]|\d\d)/gi;function hg(v,A){var F=(A||"").match(v),R,z,ue;return F===null?null:(R=F[F.length-1]||[],z=(R+"").match(v$)||["-",0,0],ue=+(z[1]*60)+rr(z[2]),ue===0?0:z[0]==="+"?ue:-ue)}function gg(v,A){var F,R;return A._isUTC?(F=A.clone(),R=(x(v)||l(v)?v.valueOf():Vr(v).valueOf())-F.valueOf(),F._d.setTime(F._d.valueOf()+R),e.updateOffset(F,!1),F):Vr(v).local()}function vg(v){return-Math.round(v._d.getTimezoneOffset())}e.updateOffset=function(){};function y$(v,A,F){var R=this._offset||0,z;if(!this.isValid())return v!=null?this:NaN;if(v!=null){if(typeof v=="string"){if(v=hg(M,v),v===null)return this}else Math.abs(v)<16&&!F&&(v=v*60);return!this._isUTC&&A&&(z=vg(this)),this._offset=v,this._isUTC=!0,z!=null&&this.add(z,"m"),R!==v&&(!A||this._changeInProgress?UD(this,aa(v-R,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?R:vg(this)}function b$(v,A){return v!=null?(typeof v!="string"&&(v=-v),this.utcOffset(v,A),this):-this.utcOffset()}function x$(v){return this.utcOffset(0,v)}function w$(v){return this._isUTC&&(this.utcOffset(0,v),this._isUTC=!1,v&&this.subtract(vg(this),"m")),this}function _$(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var v=hg(je,this._i);v!=null?this.utcOffset(v):this.utcOffset(0,!0)}return this}function S$(v){return this.isValid()?(v=v?Vr(v).utcOffset():0,(this.utcOffset()-v)%60===0):!1}function A$(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function D$(){if(!u(this._isDSTShifted))return this._isDSTShifted;var v={},A;return w(v,this),v=BD(v),v._a?(A=v._isUTC?p(v._a):Vr(v._a),this._isDSTShifted=this.isValid()&&g$(v._a,A.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function E$(){return this.isValid()?!this._isUTC:!1}function N$(){return this.isValid()?this._isUTC:!1}function RD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var C$=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,T$=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function aa(v,A){var F=v,R=null,z,ue,Fe;return Af(v)?F={ms:v._milliseconds,d:v._days,M:v._months}:s(v)||!isNaN(+v)?(F={},A?F[A]=+v:F.milliseconds=+v):(R=C$.exec(v))?(z=R[1]==="-"?-1:1,F={y:0,d:rr(R[Vi])*z,h:rr(R[nn])*z,m:rr(R[wi])*z,s:rr(R[ia])*z,ms:rr(dg(R[Ha]*1e3))*z}):(R=T$.exec(v))?(z=R[1]==="-"?-1:1,F={y:As(R[2],z),M:As(R[3],z),w:As(R[4],z),d:As(R[5],z),h:As(R[6],z),m:As(R[7],z),s:As(R[8],z)}):F==null?F={}:typeof F=="object"&&("from"in F||"to"in F)&&(Fe=M$(Vr(F.from),Vr(F.to)),F={},F.ms=Fe.milliseconds,F.M=Fe.months),ue=new Sf(F),Af(v)&&a(v,"_locale")&&(ue._locale=v._locale),Af(v)&&a(v,"_isValid")&&(ue._isValid=v._isValid),ue}aa.fn=Sf.prototype,aa.invalid=h$;function As(v,A){var F=v&&parseFloat(v.replace(",","."));return(isNaN(F)?0:F)*A}function LD(v,A){var F={};return F.months=A.month()-v.month()+(A.year()-v.year())*12,v.clone().add(F.months,"M").isAfter(A)&&--F.months,F.milliseconds=+A-+v.clone().add(F.months,"M"),F}function M$(v,A){var F;return v.isValid()&&A.isValid()?(A=gg(A,v),v.isBefore(A)?F=LD(v,A):(F=LD(A,v),F.milliseconds=-F.milliseconds,F.months=-F.months),F):{milliseconds:0,months:0}}function VD(v,A){return function(F,R){var z,ue;return R!==null&&!isNaN(+R)&&(N(A,"moment()."+A+"(period, number) is deprecated. Please use moment()."+A+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ue=F,F=R,R=ue),z=aa(F,R),UD(this,z,v),this}}function UD(v,A,F,R){var z=A._milliseconds,ue=dg(A._days),Fe=dg(A._months);v.isValid()&&(R=R==null?!0:R,Fe&&_D(v,_s(v,"Month")+Fe*F),ue&&yf(v,"Date",_s(v,"Date")+ue*F),z&&v._d.setTime(v._d.valueOf()+z*F),R&&e.updateOffset(v,ue||Fe))}var F$=VD(1,"add"),I$=VD(-1,"subtract");function $D(v){return typeof v=="string"||v instanceof String}function B$(v){return x(v)||l(v)||$D(v)||s(v)||O$(v)||P$(v)||v===null||v===void 0}function P$(v){var A=i(v)&&!o(v),F=!1,R=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],z,ue,Fe=R.length;for(z=0;z<Fe;z+=1)ue=R[z],F=F||a(v,ue);return A&&F}function O$(v){var A=n(v),F=!1;return A&&(F=v.filter(function(R){return!s(R)&&$D(v)}).length===0),A&&F}function k$(v){var A=i(v)&&!o(v),F=!1,R=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],z,ue;for(z=0;z<R.length;z+=1)ue=R[z],F=F||a(v,ue);return A&&F}function R$(v,A){var F=v.diff(A,"days",!0);return F<-6?"sameElse":F<-1?"lastWeek":F<0?"lastDay":F<1?"sameDay":F<2?"nextDay":F<7?"nextWeek":"sameElse"}function L$(v,A){arguments.length===1&&(arguments[0]?B$(arguments[0])?(v=arguments[0],A=void 0):k$(arguments[0])&&(A=arguments[0],v=void 0):(v=void 0,A=void 0));var F=v||Vr(),R=gg(F,this).startOf("day"),z=e.calendarFormat(this,R)||"sameElse",ue=A&&(I(A[z])?A[z].call(this,F):A[z]);return this.format(ue||this.localeData().calendar(z,this,Vr(F)))}function V$(){return new S(this)}function U$(v,A){var F=x(v)?v:Vr(v);return this.isValid()&&F.isValid()?(A=te(A)||"millisecond",A==="millisecond"?this.valueOf()>F.valueOf():F.valueOf()<this.clone().startOf(A).valueOf()):!1}function $$(v,A){var F=x(v)?v:Vr(v);return this.isValid()&&F.isValid()?(A=te(A)||"millisecond",A==="millisecond"?this.valueOf()<F.valueOf():this.clone().endOf(A).valueOf()<F.valueOf()):!1}function q$(v,A,F,R){var z=x(v)?v:Vr(v),ue=x(A)?A:Vr(A);return this.isValid()&&z.isValid()&&ue.isValid()?(R=R||"()",(R[0]==="("?this.isAfter(z,F):!this.isBefore(z,F))&&(R[1]===")"?this.isBefore(ue,F):!this.isAfter(ue,F))):!1}function z$(v,A){var F=x(v)?v:Vr(v),R;return this.isValid()&&F.isValid()?(A=te(A)||"millisecond",A==="millisecond"?this.valueOf()===F.valueOf():(R=F.valueOf(),this.clone().startOf(A).valueOf()<=R&&R<=this.clone().endOf(A).valueOf())):!1}function H$(v,A){return this.isSame(v,A)||this.isAfter(v,A)}function G$(v,A){return this.isSame(v,A)||this.isBefore(v,A)}function W$(v,A,F){var R,z,ue;if(!this.isValid())return NaN;if(R=gg(v,this),!R.isValid())return NaN;switch(z=(R.utcOffset()-this.utcOffset())*6e4,A=te(A),A){case"year":ue=Df(this,R)/12;break;case"month":ue=Df(this,R);break;case"quarter":ue=Df(this,R)/3;break;case"second":ue=(this-R)/1e3;break;case"minute":ue=(this-R)/6e4;break;case"hour":ue=(this-R)/36e5;break;case"day":ue=(this-R-z)/864e5;break;case"week":ue=(this-R-z)/6048e5;break;default:ue=this-R}return F?ue:Nn(ue)}function Df(v,A){if(v.date()<A.date())return-Df(A,v);var F=(A.year()-v.year())*12+(A.month()-v.month()),R=v.clone().add(F,"months"),z,ue;return A-R<0?(z=v.clone().add(F-1,"months"),ue=(A-R)/(R-z)):(z=v.clone().add(F+1,"months"),ue=(A-R)/(z-R)),-(F+ue)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Y$(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function j$(v){if(!this.isValid())return null;var A=v!==!0,F=A?this.clone().utc():this;return F.year()<0||F.year()>9999?pe(F,A?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):I(Date.prototype.toISOString)?A?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",pe(F,"Z")):pe(F,A?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Z$(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var v="moment",A="",F,R,z,ue;return this.isLocal()||(v=this.utcOffset()===0?"moment.utc":"moment.parseZone",A="Z"),F="["+v+'("]',R=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",z="-MM-DD[T]HH:mm:ss.SSS",ue=A+'[")]',this.format(F+R+z+ue)}function J$(v){v||(v=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var A=pe(this,v);return this.localeData().postformat(A)}function X$(v,A){return this.isValid()&&(x(v)&&v.isValid()||Vr(v).isValid())?aa({to:this,from:v}).locale(this.locale()).humanize(!A):this.localeData().invalidDate()}function Q$(v){return this.from(Vr(),v)}function K$(v,A){return this.isValid()&&(x(v)&&v.isValid()||Vr(v).isValid())?aa({from:this,to:v}).locale(this.locale()).humanize(!A):this.localeData().invalidDate()}function e9(v){return this.to(Vr(),v)}function qD(v){var A;return v===void 0?this._locale._abbr:(A=Wa(v),A!=null&&(this._locale=A),this)}var zD=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(v){return v===void 0?this.localeData():this.locale(v)});function HD(){return this._locale}var Ef=1e3,xu=60*Ef,Nf=60*xu,GD=(365*400+97)*24*Nf;function wu(v,A){return(v%A+A)%A}function WD(v,A,F){return v<100&&v>=0?new Date(v+400,A,F)-GD:new Date(v,A,F).valueOf()}function YD(v,A,F){return v<100&&v>=0?Date.UTC(v+400,A,F)-GD:Date.UTC(v,A,F)}function t9(v){var A,F;if(v=te(v),v===void 0||v==="millisecond"||!this.isValid())return this;switch(F=this._isUTC?YD:WD,v){case"year":A=F(this.year(),0,1);break;case"quarter":A=F(this.year(),this.month()-this.month()%3,1);break;case"month":A=F(this.year(),this.month(),1);break;case"week":A=F(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":A=F(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":A=F(this.year(),this.month(),this.date());break;case"hour":A=this._d.valueOf(),A-=wu(A+(this._isUTC?0:this.utcOffset()*xu),Nf);break;case"minute":A=this._d.valueOf(),A-=wu(A,xu);break;case"second":A=this._d.valueOf(),A-=wu(A,Ef);break}return this._d.setTime(A),e.updateOffset(this,!0),this}function r9(v){var A,F;if(v=te(v),v===void 0||v==="millisecond"||!this.isValid())return this;switch(F=this._isUTC?YD:WD,v){case"year":A=F(this.year()+1,0,1)-1;break;case"quarter":A=F(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":A=F(this.year(),this.month()+1,1)-1;break;case"week":A=F(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":A=F(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":A=F(this.year(),this.month(),this.date()+1)-1;break;case"hour":A=this._d.valueOf(),A+=Nf-wu(A+(this._isUTC?0:this.utcOffset()*xu),Nf)-1;break;case"minute":A=this._d.valueOf(),A+=xu-wu(A,xu)-1;break;case"second":A=this._d.valueOf(),A+=Ef-wu(A,Ef)-1;break}return this._d.setTime(A),e.updateOffset(this,!0),this}function n9(){return this._d.valueOf()-(this._offset||0)*6e4}function i9(){return Math.floor(this.valueOf()/1e3)}function a9(){return new Date(this.valueOf())}function o9(){var v=this;return[v.year(),v.month(),v.date(),v.hour(),v.minute(),v.second(),v.millisecond()]}function s9(){var v=this;return{years:v.year(),months:v.month(),date:v.date(),hours:v.hours(),minutes:v.minutes(),seconds:v.seconds(),milliseconds:v.milliseconds()}}function u9(){return this.isValid()?this.toISOString():null}function l9(){return g(this)}function c9(){return f({},h(this))}function f9(){return h(this).overflow}function p9(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}U("N",0,0,"eraAbbr"),U("NN",0,0,"eraAbbr"),U("NNN",0,0,"eraAbbr"),U("NNNN",0,0,"eraName"),U("NNNNN",0,0,"eraNarrow"),U("y",["y",1],"yo","eraYear"),U("y",["yy",2],0,"eraYear"),U("y",["yyy",3],0,"eraYear"),U("y",["yyyy",4],0,"eraYear"),Je("N",yg),Je("NN",yg),Je("NNN",yg),Je("NNNN",S9),Je("NNNNN",A9),Dr(["N","NN","NNN","NNNN","NNNNN"],function(v,A,F,R){var z=F._locale.erasParse(v,R,F._strict);z?h(F).era=z:h(F).invalidEra=v}),Je("y",Pe),Je("yy",Pe),Je("yyy",Pe),Je("yyyy",Pe),Je("yo",D9),Dr(["y","yy","yyy","yyyy"],xn),Dr(["yo"],function(v,A,F,R){var z;F._locale._eraYearOrdinalRegex&&(z=v.match(F._locale._eraYearOrdinalRegex)),F._locale.eraYearOrdinalParse?A[xn]=F._locale.eraYearOrdinalParse(v,z):A[xn]=parseInt(v,10)});function m9(v,A){var F,R,z,ue=this._eras||Wa("en")._eras;for(F=0,R=ue.length;F<R;++F){switch(typeof ue[F].since){case"string":z=e(ue[F].since).startOf("day"),ue[F].since=z.valueOf();break}switch(typeof ue[F].until){case"undefined":ue[F].until=1/0;break;case"string":z=e(ue[F].until).startOf("day").valueOf(),ue[F].until=z.valueOf();break}}return ue}function d9(v,A,F){var R,z,ue=this.eras(),Fe,mt,Ut;for(v=v.toUpperCase(),R=0,z=ue.length;R<z;++R)if(Fe=ue[R].name.toUpperCase(),mt=ue[R].abbr.toUpperCase(),Ut=ue[R].narrow.toUpperCase(),F)switch(A){case"N":case"NN":case"NNN":if(mt===v)return ue[R];break;case"NNNN":if(Fe===v)return ue[R];break;case"NNNNN":if(Ut===v)return ue[R];break}else if([Fe,mt,Ut].indexOf(v)>=0)return ue[R]}function h9(v,A){var F=v.since<=v.until?1:-1;return A===void 0?e(v.since).year():e(v.since).year()+(A-v.offset)*F}function g9(){var v,A,F,R=this.localeData().eras();for(v=0,A=R.length;v<A;++v)if(F=this.clone().startOf("day").valueOf(),R[v].since<=F&&F<=R[v].until||R[v].until<=F&&F<=R[v].since)return R[v].name;return""}function v9(){var v,A,F,R=this.localeData().eras();for(v=0,A=R.length;v<A;++v)if(F=this.clone().startOf("day").valueOf(),R[v].since<=F&&F<=R[v].until||R[v].until<=F&&F<=R[v].since)return R[v].narrow;return""}function y9(){var v,A,F,R=this.localeData().eras();for(v=0,A=R.length;v<A;++v)if(F=this.clone().startOf("day").valueOf(),R[v].since<=F&&F<=R[v].until||R[v].until<=F&&F<=R[v].since)return R[v].abbr;return""}function b9(){var v,A,F,R,z=this.localeData().eras();for(v=0,A=z.length;v<A;++v)if(F=z[v].since<=z[v].until?1:-1,R=this.clone().startOf("day").valueOf(),z[v].since<=R&&R<=z[v].until||z[v].until<=R&&R<=z[v].since)return(this.year()-e(z[v].since).year())*F+z[v].offset;return this.year()}function x9(v){return a(this,"_erasNameRegex")||bg.call(this),v?this._erasNameRegex:this._erasRegex}function w9(v){return a(this,"_erasAbbrRegex")||bg.call(this),v?this._erasAbbrRegex:this._erasRegex}function _9(v){return a(this,"_erasNarrowRegex")||bg.call(this),v?this._erasNarrowRegex:this._erasRegex}function yg(v,A){return A.erasAbbrRegex(v)}function S9(v,A){return A.erasNameRegex(v)}function A9(v,A){return A.erasNarrowRegex(v)}function D9(v,A){return A._eraYearOrdinalRegex||Pe}function bg(){var v=[],A=[],F=[],R=[],z,ue,Fe,mt,Ut,ur=this.eras();for(z=0,ue=ur.length;z<ue;++z)Fe=Pn(ur[z].name),mt=Pn(ur[z].abbr),Ut=Pn(ur[z].narrow),A.push(Fe),v.push(mt),F.push(Ut),R.push(Fe),R.push(mt),R.push(Ut);this._erasRegex=new RegExp("^("+R.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+A.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+v.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+F.join("|")+")","i")}U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Cf(v,A){U(0,[v,v.length],0,A)}Cf("gggg","weekYear"),Cf("ggggg","weekYear"),Cf("GGGG","isoWeekYear"),Cf("GGGGG","isoWeekYear"),Je("G",Ve),Je("g",Ve),Je("GG",Ue,Me),Je("gg",Ue,Me),Je("GGGG",Re,At),Je("gggg",Re,At),Je("GGGGG",$e,_e),Je("ggggg",$e,_e),xs(["gggg","ggggg","GGGG","GGGGG"],function(v,A,F,R){A[R.substr(0,2)]=rr(v)}),xs(["gg","GG"],function(v,A,F,R){A[R]=e.parseTwoDigitYear(v)});function E9(v){return jD.call(this,v,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function N9(v){return jD.call(this,v,this.isoWeek(),this.isoWeekday(),1,4)}function C9(){return Ga(this.year(),1,4)}function T9(){return Ga(this.isoWeekYear(),1,4)}function M9(){var v=this.localeData()._week;return Ga(this.year(),v.dow,v.doy)}function F9(){var v=this.localeData()._week;return Ga(this.weekYear(),v.dow,v.doy)}function jD(v,A,F,R,z){var ue;return v==null?Gl(this,R,z).year:(ue=Ga(v,R,z),A>ue&&(A=ue),I9.call(this,v,A,F,R,z))}function I9(v,A,F,R,z){var ue=DD(v,A,F,R,z),Fe=Hl(ue.year,0,ue.dayOfYear);return this.year(Fe.getUTCFullYear()),this.month(Fe.getUTCMonth()),this.date(Fe.getUTCDate()),this}U("Q",0,"Qo","quarter"),Je("Q",Ye),Dr("Q",function(v,A){A[na]=(rr(v)-1)*3});function B9(v){return v==null?Math.ceil((this.month()+1)/3):this.month((v-1)*3+this.month()%3)}U("D",["DD",2],"Do","date"),Je("D",Ue,Oe),Je("DD",Ue,Me),Je("Do",function(v,A){return v?A._dayOfMonthOrdinalParse||A._ordinalParse:A._dayOfMonthOrdinalParseLenient}),Dr(["D","DD"],Vi),Dr("Do",function(v,A){A[Vi]=rr(v.match(Ue)[0])});var ZD=Ao("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),Je("DDD",Se),Je("DDDD",et),Dr(["DDD","DDDD"],function(v,A,F){F._dayOfYear=rr(v)});function P9(v){var A=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return v==null?A:this.add(v-A,"d")}U("m",["mm",2],0,"minute"),Je("m",Ue,ct),Je("mm",Ue,Me),Dr(["m","mm"],wi);var O9=Ao("Minutes",!1);U("s",["ss",2],0,"second"),Je("s",Ue,ct),Je("ss",Ue,Me),Dr(["s","ss"],ia);var k9=Ao("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return this.millisecond()*10}),U(0,["SSSSS",5],0,function(){return this.millisecond()*100}),U(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),U(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),U(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),U(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Je("S",Se,Ye),Je("SS",Se,Me),Je("SSS",Se,et);var No,JD;for(No="SSSS";No.length<=9;No+="S")Je(No,Pe);function R9(v,A){A[Ha]=rr(("0."+v)*1e3)}for(No="S";No.length<=9;No+="S")Dr(No,R9);JD=Ao("Milliseconds",!1),U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");function L9(){return this._isUTC?"UTC":""}function V9(){return this._isUTC?"Coordinated Universal Time":""}var Qe=S.prototype;Qe.add=F$,Qe.calendar=L$,Qe.clone=V$,Qe.diff=W$,Qe.endOf=r9,Qe.format=J$,Qe.from=X$,Qe.fromNow=Q$,Qe.to=K$,Qe.toNow=e9,Qe.get=eg,Qe.invalidAt=f9,Qe.isAfter=U$,Qe.isBefore=$$,Qe.isBetween=q$,Qe.isSame=z$,Qe.isSameOrAfter=H$,Qe.isSameOrBefore=G$,Qe.isValid=l9,Qe.lang=zD,Qe.locale=qD,Qe.localeData=HD,Qe.max=l$,Qe.min=u$,Qe.parsingFlags=c9,Qe.set=tg,Qe.startOf=t9,Qe.subtract=I$,Qe.toArray=o9,Qe.toObject=s9,Qe.toDate=a9,Qe.toISOString=j$,Qe.inspect=Z$,typeof Symbol!="undefined"&&Symbol.for!=null&&(Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Qe.toJSON=u9,Qe.toString=Y$,Qe.unix=i9,Qe.valueOf=n9,Qe.creationData=p9,Qe.eraName=g9,Qe.eraNarrow=v9,Qe.eraAbbr=y9,Qe.eraYear=b9,Qe.year=vf,Qe.isLeapYear=Kh,Qe.weekYear=E9,Qe.isoWeekYear=N9,Qe.quarter=Qe.quarters=B9,Qe.month=SD,Qe.daysInMonth=a8,Qe.week=Qe.weeks=m8,Qe.isoWeek=Qe.isoWeeks=d8,Qe.weeksInYear=M9,Qe.weeksInWeekYear=F9,Qe.isoWeeksInYear=C9,Qe.isoWeeksInISOWeekYear=T9,Qe.date=ZD,Qe.day=Qe.days=N8,Qe.weekday=C8,Qe.isoWeekday=T8,Qe.dayOfYear=P9,Qe.hour=Qe.hours=k8,Qe.minute=Qe.minutes=O9,Qe.second=Qe.seconds=k9,Qe.millisecond=Qe.milliseconds=JD,Qe.utcOffset=y$,Qe.utc=x$,Qe.local=w$,Qe.parseZone=_$,Qe.hasAlignedHourOffset=S$,Qe.isDST=A$,Qe.isLocal=E$,Qe.isUtcOffset=N$,Qe.isUtc=RD,Qe.isUTC=RD,Qe.zoneAbbr=L9,Qe.zoneName=V9,Qe.dates=E("dates accessor is deprecated. Use date instead.",ZD),Qe.months=E("months accessor is deprecated. Use month instead",SD),Qe.years=E("years accessor is deprecated. Use year instead",vf),Qe.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",b$),Qe.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",D$);function U9(v){return Vr(v*1e3)}function $9(){return Vr.apply(null,arguments).parseZone()}function XD(v){return v}var vr=q.prototype;vr.calendar=k,vr.longDateFormat=ve,vr.invalidDate=Ae,vr.ordinal=nt,vr.preparse=XD,vr.postformat=XD,vr.relativeTime=ee,vr.pastFuture=ye,vr.set=O,vr.eras=m9,vr.erasParse=d9,vr.erasConvertYear=h9,vr.erasAbbrRegex=w9,vr.erasNameRegex=x9,vr.erasNarrowRegex=_9,vr.months=ig,vr.monthsShort=yu,vr.monthsParse=ag,vr.monthsRegex=s8,vr.monthsShortRegex=o8,vr.week=l8,vr.firstDayOfYear=p8,vr.firstDayOfWeek=f8,vr.weekdays=_8,vr.weekdaysMin=A8,vr.weekdaysShort=S8,vr.weekdaysParse=E8,vr.weekdaysRegex=M8,vr.weekdaysShortRegex=F8,vr.weekdaysMinRegex=I8,vr.isPM=P8,vr.meridiem=R8;function Tf(v,A,F,R){var z=Wa(),ue=p().set(R,A);return z[F](ue,v)}function QD(v,A,F){if(s(v)&&(A=v,v=void 0),v=v||"",A!=null)return Tf(v,A,F,"month");var R,z=[];for(R=0;R<12;R++)z[R]=Tf(v,R,F,"month");return z}function xg(v,A,F,R){typeof v=="boolean"?(s(A)&&(F=A,A=void 0),A=A||""):(A=v,F=A,v=!1,s(A)&&(F=A,A=void 0),A=A||"");var z=Wa(),ue=v?z._week.dow:0,Fe,mt=[];if(F!=null)return Tf(A,(F+ue)%7,R,"day");for(Fe=0;Fe<7;Fe++)mt[Fe]=Tf(A,(Fe+ue)%7,R,"day");return mt}function q9(v,A){return QD(v,A,"months")}function z9(v,A){return QD(v,A,"monthsShort")}function H9(v,A,F){return xg(v,A,F,"weekdays")}function G9(v,A,F){return xg(v,A,F,"weekdaysShort")}function W9(v,A,F){return xg(v,A,F,"weekdaysMin")}Eo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(v){var A=v%10,F=rr(v%100/10)===1?"th":A===1?"st":A===2?"nd":A===3?"rd":"th";return v+F}}),e.lang=E("moment.lang is deprecated. Use moment.locale instead.",Eo),e.langData=E("moment.langData is deprecated. Use moment.localeData instead.",Wa);var Ya=Math.abs;function Y9(){var v=this._data;return this._milliseconds=Ya(this._milliseconds),this._days=Ya(this._days),this._months=Ya(this._months),v.milliseconds=Ya(v.milliseconds),v.seconds=Ya(v.seconds),v.minutes=Ya(v.minutes),v.hours=Ya(v.hours),v.months=Ya(v.months),v.years=Ya(v.years),this}function KD(v,A,F,R){var z=aa(A,F);return v._milliseconds+=R*z._milliseconds,v._days+=R*z._days,v._months+=R*z._months,v._bubble()}function j9(v,A){return KD(this,v,A,1)}function Z9(v,A){return KD(this,v,A,-1)}function eE(v){return v<0?Math.floor(v):Math.ceil(v)}function J9(){var v=this._milliseconds,A=this._days,F=this._months,R=this._data,z,ue,Fe,mt,Ut;return v>=0&&A>=0&&F>=0||v<=0&&A<=0&&F<=0||(v+=eE(wg(F)+A)*864e5,A=0,F=0),R.milliseconds=v%1e3,z=Nn(v/1e3),R.seconds=z%60,ue=Nn(z/60),R.minutes=ue%60,Fe=Nn(ue/60),R.hours=Fe%24,A+=Nn(Fe/24),Ut=Nn(tE(A)),F+=Ut,A-=eE(wg(Ut)),mt=Nn(F/12),F%=12,R.days=A,R.months=F,R.years=mt,this}function tE(v){return v*4800/146097}function wg(v){return v*146097/4800}function X9(v){if(!this.isValid())return NaN;var A,F,R=this._milliseconds;if(v=te(v),v==="month"||v==="quarter"||v==="year")switch(A=this._days+R/864e5,F=this._months+tE(A),v){case"month":return F;case"quarter":return F/3;case"year":return F/12}else switch(A=this._days+Math.round(wg(this._months)),v){case"week":return A/7+R/6048e5;case"day":return A+R/864e5;case"hour":return A*24+R/36e5;case"minute":return A*1440+R/6e4;case"second":return A*86400+R/1e3;case"millisecond":return Math.floor(A*864e5)+R;default:throw new Error("Unknown unit "+v)}}function ja(v){return function(){return this.as(v)}}var rE=ja("ms"),Q9=ja("s"),K9=ja("m"),e7=ja("h"),t7=ja("d"),r7=ja("w"),n7=ja("M"),i7=ja("Q"),a7=ja("y"),o7=rE;function s7(){return aa(this)}function u7(v){return v=te(v),this.isValid()?this[v+"s"]():NaN}function Ds(v){return function(){return this.isValid()?this._data[v]:NaN}}var l7=Ds("milliseconds"),c7=Ds("seconds"),f7=Ds("minutes"),p7=Ds("hours"),m7=Ds("days"),d7=Ds("months"),h7=Ds("years");function g7(){return Nn(this.days()/7)}var Za=Math.round,_u={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function v7(v,A,F,R,z){return z.relativeTime(A||1,!!F,v,R)}function y7(v,A,F,R){var z=aa(v).abs(),ue=Za(z.as("s")),Fe=Za(z.as("m")),mt=Za(z.as("h")),Ut=Za(z.as("d")),ur=Za(z.as("M")),Jn=Za(z.as("w")),Ja=Za(z.as("y")),Co=ue<=F.ss&&["s",ue]||ue<F.s&&["ss",ue]||Fe<=1&&["m"]||Fe<F.m&&["mm",Fe]||mt<=1&&["h"]||mt<F.h&&["hh",mt]||Ut<=1&&["d"]||Ut<F.d&&["dd",Ut];return F.w!=null&&(Co=Co||Jn<=1&&["w"]||Jn<F.w&&["ww",Jn]),Co=Co||ur<=1&&["M"]||ur<F.M&&["MM",ur]||Ja<=1&&["y"]||["yy",Ja],Co[2]=A,Co[3]=+v>0,Co[4]=R,v7.apply(null,Co)}function b7(v){return v===void 0?Za:typeof v=="function"?(Za=v,!0):!1}function x7(v,A){return _u[v]===void 0?!1:A===void 0?_u[v]:(_u[v]=A,v==="s"&&(_u.ss=A-1),!0)}function w7(v,A){if(!this.isValid())return this.localeData().invalidDate();var F=!1,R=_u,z,ue;return typeof v=="object"&&(A=v,v=!1),typeof v=="boolean"&&(F=v),typeof A=="object"&&(R=Object.assign({},_u,A),A.s!=null&&A.ss==null&&(R.ss=A.s-1)),z=this.localeData(),ue=y7(this,!F,R,z),F&&(ue=z.pastFuture(+this,ue)),z.postformat(ue)}var _g=Math.abs;function Su(v){return(v>0)-(v<0)||+v}function Mf(){if(!this.isValid())return this.localeData().invalidDate();var v=_g(this._milliseconds)/1e3,A=_g(this._days),F=_g(this._months),R,z,ue,Fe,mt=this.asSeconds(),Ut,ur,Jn,Ja;return mt?(R=Nn(v/60),z=Nn(R/60),v%=60,R%=60,ue=Nn(F/12),F%=12,Fe=v?v.toFixed(3).replace(/\.?0+$/,""):"",Ut=mt<0?"-":"",ur=Su(this._months)!==Su(mt)?"-":"",Jn=Su(this._days)!==Su(mt)?"-":"",Ja=Su(this._milliseconds)!==Su(mt)?"-":"",Ut+"P"+(ue?ur+ue+"Y":"")+(F?ur+F+"M":"")+(A?Jn+A+"D":"")+(z||R||v?"T":"")+(z?Ja+z+"H":"")+(R?Ja+R+"M":"")+(v?Ja+Fe+"S":"")):"P0D"}var cr=Sf.prototype;cr.isValid=d$,cr.abs=Y9,cr.add=j9,cr.subtract=Z9,cr.as=X9,cr.asMilliseconds=rE,cr.asSeconds=Q9,cr.asMinutes=K9,cr.asHours=e7,cr.asDays=t7,cr.asWeeks=r7,cr.asMonths=n7,cr.asQuarters=i7,cr.asYears=a7,cr.valueOf=o7,cr._bubble=J9,cr.clone=s7,cr.get=u7,cr.milliseconds=l7,cr.seconds=c7,cr.minutes=f7,cr.hours=p7,cr.days=m7,cr.weeks=g7,cr.months=d7,cr.years=h7,cr.humanize=w7,cr.toISOString=Mf,cr.toString=Mf,cr.toJSON=Mf,cr.locale=qD,cr.localeData=HD,cr.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mf),cr.lang=zD,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Je("x",Ve),Je("X",j),Dr("X",function(v,A,F){F._d=new Date(parseFloat(v)*1e3)}),Dr("x",function(v,A,F){F._d=new Date(rr(v))});return e.version="2.30.1",t(Vr),e.fn=Qe,e.min=c$,e.max=f$,e.now=p$,e.utc=p,e.unix=U9,e.months=q9,e.isDate=l,e.locale=Eo,e.invalid=y,e.duration=aa,e.isMoment=x,e.weekdays=H9,e.parseZone=$9,e.localeData=Wa,e.isDuration=Af,e.monthsShort=z9,e.weekdaysMin=W9,e.defineLocale=lg,e.updateLocale=$8,e.locales=q8,e.weekdaysShort=G9,e.normalizeUnits=te,e.relativeTimeRounding=b7,e.relativeTimeThreshold=x7,e.calendarFormat=R$,e.prototype=Qe,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var ip=ln(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.P_HELPERS=ui.ParserHelpers=ui.validateRegexFlags=ui.validateRange=ui.getIndex=ui.arrayUnion=void 0;var Ug=ap();function oz(r,e){if(r===void 0&&e===void 0)return;if(r===void 0)return e;if(e===void 0)return r;let t=[...r];for(let n of e)t.includes(n)||t.push(n);return t}ui.arrayUnion=oz;function sz(r){return r===void 0?-1:r.index}ui.getIndex=sz;function uz(r,e){if(e<r)throw new Error(`Invalid Range: max might not be smaller than min. Received [${r}, ${e}].`);if(r<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${r}, ${e}].`);if(r===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${r}, ${e}].`);if(!Number.isInteger(r)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${r}, ${e}].`)}ui.validateRange=uz;function lz(r){for(let e of r)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}ui.validateRegexFlags=lz;var np=class{followedBy(e){return new Ug.Parser(function(n){return e.p(n.copy())})}notFollowedBy(e){return new Ug.Parser(function(n){let i=n.copy(),a=e.p(i),o=n.sliceTo(i.position.index);return a.success?n.fail("not '"+o+"'"):n.succeed(void 0)})}test(e){return new Ug.Parser(function(n){let i=n.input[n.position.index];return!n.atEOF()&&e(i)?n.succeedOffset(1,i):n.fail(`a character matching ${e}`)})}};ui.ParserHelpers=np;ui.P_HELPERS=new np});var KE=ln(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.ParserContext=void 0;var $g=ip(),qg=class r{constructor(e,t){this.input=e,this.position=t}moveToPosition(e){return this.position=e,this}copy(){return new r(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let t=this.position.index;t<e;t++)this.input[t]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,t){return this.succeedAt(this.position.index+e,t)}failOffset(e,t){return this.failAt(this.position.index+e,t)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,t){return this.advanceTo(e),{success:!0,value:t,furthest:void 0,expected:void 0}}failAt(e,t){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(t)?t:[t]}}merge(e,t){if(e===void 0)return t;let n=(0,$g.getIndex)(e.furthest),i=(0,$g.getIndex)(t.furthest);if(i>n)return t;let a=i===n?(0,$g.arrayUnion)(e.expected,t.expected):e.expected;return t.furthest=e.furthest,t.expected=a,t}};op.ParserContext=qg});var li=ln(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.P=void 0;var Ai=ap(),sp=ip(),zg=class r{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new Ai.Parser(function(n){let i,a=new Array(e.length);for(let o=0;o<e.length;o++){let s=e[o].p(n);if(i=n.merge(i,s),!i.success)return i;a[o]=i.value}return i.value=a,i})}static sequenceMap(e,...t){if(t.length===0)throw new Error("sequenceMap must have at least one parser argument");return new Ai.Parser(function(i){let a,o=new Array(t.length);for(let u=0;u<t.length;u++){let l=t[u].p(i);if(a=i.merge(a,l),!a.success)return a;o[u]=a.value}return a.value=e(...o),a})}static createLanguage(e){let t={},n={},i={};for(let a in e)i[a]=r.reference(()=>e[a](t,i)),Object.defineProperty(n,a,{get:()=>{if(t[a]!==void 0)return t[a];throw new Error(`Can not access rule '${a}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let a in e)t[a]=e[a](n,i);return t}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new Ai.Parser(function(n){let i;for(let a of e){let o=a,u=n.copy(),s=o.p(u);if(i=n.merge(i,s),i.success)return n.moveToPosition(u.position),i}return i})}static separateBy(e,t){return this.separateByNotEmpty(e,t).or(r.succeed([]))}static separateByNotEmpty(e,t){return this.sequenceMap(function(i,a){return a.unshift(i),a},e,t.then(e).many())}static string(e){let t="'"+e+"'";return new Ai.Parser(function(i){for(let a=0;a<e.length;a++)if(i.input[i.position.index+a]!==e[a])return i.fail(t);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,t){(0,sp.validateRegexFlags)(e.flags);let n=e.source;return t!==void 0?new Ai.Parser(function(a){let o=a.input.slice(a.position.index),u=e.exec(o);if(u!==null){let s=t!=null?t:0;if(s>=0&&s<=u.length){let c=u[0],f=u[s];return a.succeedOffset(c.length,f)}let l="expected valid match group (0 to "+u.length+") in "+n;return a.fail(l)}else return a.fail(n)}):new Ai.Parser(function(a){let o=a.input.slice(a.position.index),u=e.exec(o);if(u!==null){let s=u[0];return a.succeedOffset(s.length,s)}else return a.fail(n)})}static succeed(e){return new Ai.Parser(function(n){return n.succeed(e)})}static fail(e){return new Ai.Parser(function(n){return n.fail(e)})}static oneOf(e){return sp.P_HELPERS.test(function(n){return e.includes(n)}).describe(`one character of '${e}'`)}static noneOf(e){return sp.P_HELPERS.test(function(n){return!e.includes(n)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(t=>this.string(t))).describe(e.map(t=>`'${t}'`).join(" or "))}static manyOf(e){return new Ai.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new Ai.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new Ai.Parser(e)}static range(e,t){let n=e.charCodeAt(0),i=t.charCodeAt(0);return sp.P_HELPERS.test(function(o){let u=o.charCodeAt(0);return n<=u&&u<=i}).describe(`${e}-${t}`)}static takeWhile(e){return new Ai.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position.index,i))})}static reference(e){return new Ai.Parser(function(n){return e().p(n)})}};up.P=zg});var tN=ln(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.ParsingError=zu.createParsingErrorMessage=void 0;function eN(r,e,t){let n=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${n} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(t){let o=r.split(`
`)[e.furthest.line-1],u=`${e.furthest.line} |   `;i+=`

${u}${o}`,i+=`
${" ".repeat(e.furthest.column-1+u.length)}^ (${n})`}return i}zu.createParsingErrorMessage=eN;var Hg=class extends Error{constructor(e,t){super(eN(e,t,!0))}};zu.ParsingError=Hg});var ap=ln(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.Parser=void 0;var cz=KE(),$i=li(),Gg=ip(),Hu=Di(),fz=tN(),Wg=class r{constructor(e){this.p=e}tryParse(e){return this.p(new cz.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let t=this.tryParse(e);if(t.success)return t.value;throw new fz.ParsingError(e,t)}or(e){return $i.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim($i.P.string(e))}wrap(e,t){let n=this;return new r(function(a){let o=e.p(a);if(!o.success)return o;let u=a.merge(o,n.p(a));if(!u.success)return u;let s=a.merge(u,t.p(a));return s.success?a.merge(s,a.succeed(u.value)):s})}wrapString(e,t){return this.wrap($i.P.string(e),$i.P.string(t))}then(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success,o})}skip(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success?i.merge(o,i.succeed(a.value)):o})}and(e){return $i.P.sequence(this,e)}many(){let e=this;return new r(function(n){let i,a=n.position.index,o=[];for(;;){let u=n.copy(),s=e.p(u);if(i=n.merge(i,s),i.success){if(u.position.index===a)throw new Error("infinite loop in many() parser detected");n.moveToPosition(u.position),o.push(i.value)}else return n.merge(i,n.succeed(o))}})}repeat(e,t){(0,Gg.validateRange)(e,t);let n=this;return new r(function(a){let o,u,s=[],l=0;for(;l<e;l++)if(o=n.p(a),u=a.merge(u,o),o.success)s.push(o.value);else return u;for(;l<t;l++){let c=a.copy();if(o=n.p(c),u=a.merge(u,o),o.success)a.moveToPosition(c.position),s.push(o.value);else break}return a.merge(u,a.succeed(s))})}atMost(e){return this.repeat(0,e)}atLeast(e){return $i.P.sequenceMap((t,n)=>t.concat(n),this.repeat(e,e),this.many())}separateBy(e){return $i.P.separateBy(this,e)}separateByNotEmpty(e){return $i.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let t=this;return new r(function(i){let a=t.p(i);return a.success&&(a.value=e(a.value)),a})}marker(){return $i.P.sequenceMap(function(t,n,i){return{value:n,range:{from:t,to:i}}},Hu.P_UTILS.position(),this,Hu.P_UTILS.position())}namedMarker(e){return $i.P.sequenceMap(function(n,i,a){return{value:i,name:e,range:{from:n,to:a}}},Hu.P_UTILS.position(),this,Hu.P_UTILS.position())}node(e){return $i.P.sequenceMap(function(n,i,a){return e(i,{from:n,to:a})},Hu.P_UTILS.position(),this,Hu.P_UTILS.position())}followedBy(e){return this.skip(Gg.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(Gg.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let t=this;return new r(function(i){let a=t.p(i);return a.expected!==void 0&&a.expected.length!==0&&(a.expected=e),a})}box(e){let t=this;return new r(function(i){var a;let o=t.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=[`(${(a=o.expected)===null||a===void 0?void 0:a.join(" or ")} as part of ${e})`]),o})}optional(e){return this.or($i.P.succeed(e))}chain(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let u=e(a.value).p(i);return i.merge(a,u)})}thenEof(){let e=this;return new r(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.merge(i,n.fail("eof")):i})}memorize(){let e=this,t="",n=new Map,i=new Map;return new r(function(o){let u=o.position.index;if(o.input!==t)t=o.input,n.clear(),i.clear();else{let l=n.get(u),c=i.get(u);if(l!==void 0&&c!==void 0)return o.moveToPosition(Object.assign({},c)),Object.assign({},l)}let s=e.p(o);return n.set(u,Object.assign({},s)),i.set(u,o.getPosition()),s})}};lp.Parser=Wg});var Di=ln(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.P_UTILS=void 0;var cp=ap(),Ir=li(),Yg=class r{static position(){return new cp.Parser(e=>e.succeed(e.getPosition()))}static any(){return new cp.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new cp.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new cp.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return Ir.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return Ir.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return Ir.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return Ir.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return Ir.P.regexp(/^\p{L}/iu).describe("a unicode letter")}static unicodeLetters(){return Ir.P.regexp(/^\p{L}+/iu).describe("multiple unicode letters")}static unicodeAlphanumeric(){return Ir.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return Ir.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return Ir.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return Ir.P.regexp(/^\s+/).describe("whitespace")}static cr(){return Ir.P.string("\r")}static lf(){return Ir.P.string(`
`)}static crlf(){return Ir.P.string(`\r
`)}static newline(){return Ir.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,t,n){return Ir.P.sequenceMap((i,a)=>i.reduce((o,u)=>n(u,o),a),e.many(),t)}static postfix(e,t,n){return Ir.P.sequenceMap((i,a)=>a.reduce((o,u)=>n(u,o),i),t,e.many())}static binaryRight(e,t,n){return Ir.P.sequenceMap((i,a)=>i.reverse().reduce((o,u)=>{let[s,l]=u;return n(s,l,o)},a),Ir.P.sequence(t,e.trim(this.optionalWhitespace())).many(),t)}static binaryLeft(e,t,n){return Ir.P.sequenceMap((i,a)=>a.reduce((o,u)=>{let[s,l]=u;return n(o,s,l)},i),t,Ir.P.sequence(e.trim(this.optionalWhitespace()),t).many())}static binaryRightRange(e,t,n){return Ir.P.sequenceMap((i,a,o)=>i.reverse().reduce((u,s)=>{let[l,c,f]=s;return n({from:l,to:o},c,f,u)},a),Ir.P.sequence(r.position(),t,e.trim(this.optionalWhitespace())).many(),t,r.position())}static binaryLeftRange(e,t,n){return Ir.P.sequenceMap((i,a,o)=>o.reduce((u,s)=>{let[l,c,f]=s;return n({from:i,to:f},u,l,c)},a),r.position(),t,Ir.P.sequence(e.trim(this.optionalWhitespace()),t,r.position()).many())}static func(e,t,n){let i=typeof e=="string"?Ir.P.string(e):e;return Ir.P.sequenceMap((a,o,u,s,l,c)=>n(a,s),i,Ir.P.string("("),this.optionalWhitespace(),t,this.optionalWhitespace(),Ir.P.string(")"))}};fp.P_UTILS=Yg});var $v=ln((Vv,Uv)=>{(function(r,e){typeof Vv=="object"&&typeof Uv!="undefined"?Uv.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self,r["'typed'"]=e())})(Vv,function(){"use strict";function r(){return!0}function e(){return!1}function t(){}let n="Argument is not a typed-function.";function i(){function o(re){return typeof re=="object"&&re!==null&&re.constructor===Object}let u=[{name:"number",test:function(re){return typeof re=="number"}},{name:"string",test:function(re){return typeof re=="string"}},{name:"boolean",test:function(re){return typeof re=="boolean"}},{name:"Function",test:function(re){return typeof re=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(re){return re instanceof Date}},{name:"RegExp",test:function(re){return re instanceof RegExp}},{name:"Object",test:o},{name:"null",test:function(re){return re===null}},{name:"undefined",test:function(re){return re===void 0}}],s={name:"any",test:r,isAny:!0},l,c,f=0,p={createCount:0};function m(re){let me=l.get(re);if(me)return me;let Se='Unknown type "'+re+'"',Re=re.toLowerCase(),$e;for($e of c)if($e.toLowerCase()===Re){Se+='. Did you mean "'+$e+'" ?';break}throw new TypeError(Se)}function h(re){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",Se=me?m(me).index:c.length,Re=[];for(let Pe=0;Pe<re.length;++Pe){if(!re[Pe]||typeof re[Pe].name!="string"||typeof re[Pe].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let Ve=re[Pe].name;if(l.has(Ve))throw new TypeError('Duplicate type name "'+Ve+'"');Re.push(Ve),l.set(Ve,{name:Ve,test:re[Pe].test,isAny:re[Pe].isAny,index:Se+Pe,conversionsTo:[]})}let $e=c.slice(Se);c=c.slice(0,Se).concat(Re).concat($e);for(let Pe=Se+Re.length;Pe<c.length;++Pe)l.get(c[Pe]).index=Pe}function d(){l=new Map,c=[],f=0,h([s],!1)}d(),h(u);function g(){let re;for(re of c)l.get(re).conversionsTo=[];f=0}function y(re){let me=c.filter(Se=>{let Re=l.get(Se);return!Re.isAny&&Re.test(re)});return me.length?me:["any"]}function _(re){return re&&typeof re=="function"&&"_typedFunctionData"in re}function b(re,me,Se){if(!_(re))throw new TypeError(n);let Re=Se&&Se.exact,$e=Array.isArray(me)?me.join(","):me,Pe=N($e),Ve=x(Pe);if(!Re||Ve in re.signatures){let ge=re._typedFunctionData.signatureMap.get(Ve);if(ge)return ge}let je=Pe.length,M;if(Re){M=[];let ge;for(ge in re.signatures)M.push(re._typedFunctionData.signatureMap.get(ge))}else M=re._typedFunctionData.signatures;for(let ge=0;ge<je;++ge){let Oe=Pe[ge],ct=[],_t;for(_t of M){let Je=q(_t.params,ge);if(!(!Je||Oe.restParam&&!Je.restParam)){if(!Je.hasAny){let Zn=D(Je);if(Oe.types.some(xi=>!Zn.has(xi.name)))continue}ct.push(_t)}}if(M=ct,M.length===0)break}let j;for(j of M)if(j.params.length<=je)return j;throw new TypeError("Signature not found (signature: "+(re.name||"unnamed")+"("+x(Pe,", ")+"))")}function w(re,me,Se){return b(re,me,Se).implementation}function S(re,me){let Se=m(me);if(Se.test(re))return re;let Re=Se.conversionsTo;if(Re.length===0)throw new Error("There are no conversions to "+me+" defined.");for(let $e=0;$e<Re.length;$e++)if(m(Re[$e].from).test(re))return Re[$e].convert(re);throw new Error("Cannot convert "+re+" to "+me)}function x(re){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return re.map(Se=>Se.name).join(me)}function C(re){let me=re.indexOf("...")===0,Re=(me?re.length>3?re.slice(3):"any":re).split("|").map(je=>m(je.trim())),$e=!1,Pe=me?"...":"";return{types:Re.map(function(je){return $e=je.isAny||$e,Pe+=je.name+"|",{name:je.name,typeIndex:je.index,test:je.test,isAny:je.isAny,conversion:null,conversionIndex:-1}}),name:Pe.slice(0,-1),hasAny:$e,hasConversion:!1,restParam:me}}function E(re){let me=re.types.map(Ve=>Ve.name),Se=U(me),Re=re.hasAny,$e=re.name,Pe=Se.map(function(Ve){let je=m(Ve.from);return Re=je.isAny||Re,$e+="|"+Ve.from,{name:Ve.from,typeIndex:je.index,test:je.test,isAny:je.isAny,conversion:Ve,conversionIndex:Ve.index}});return{types:re.types.concat(Pe),name:$e,hasAny:Re,hasConversion:Pe.length>0,restParam:re.restParam}}function D(re){return re.typeSet||(re.typeSet=new Set,re.types.forEach(me=>re.typeSet.add(me.name))),re.typeSet}function N(re){let me=[];if(typeof re!="string")throw new TypeError("Signatures must be strings");let Se=re.trim();if(Se==="")return me;let Re=Se.split(",");for(let $e=0;$e<Re.length;++$e){let Pe=C(Re[$e].trim());if(Pe.restParam&&$e!==Re.length-1)throw new SyntaxError('Unexpected rest parameter "'+Re[$e]+'": only allowed for the last parameter');if(Pe.types.length===0)return null;me.push(Pe)}return me}function I(re){let me=J(re);return me?me.restParam:!1}function O(re){if(!re||re.types.length===0)return r;if(re.types.length===1)return m(re.types[0].name).test;if(re.types.length===2){let me=m(re.types[0].name).test,Se=m(re.types[1].name).test;return function($e){return me($e)||Se($e)}}else{let me=re.types.map(function(Se){return m(Se.name).test});return function(Re){for(let $e=0;$e<me.length;$e++)if(me[$e](Re))return!0;return!1}}}function V(re){let me,Se,Re;if(I(re)){me=nt(re).map(O);let $e=me.length,Pe=O(J(re)),Ve=function(je){for(let M=$e;M<je.length;M++)if(!Pe(je[M]))return!1;return!0};return function(M){for(let j=0;j<me.length;j++)if(!me[j](M[j]))return!1;return Ve(M)&&M.length>=$e+1}}else return re.length===0?function(Pe){return Pe.length===0}:re.length===1?(Se=O(re[0]),function(Pe){return Se(Pe[0])&&Pe.length===1}):re.length===2?(Se=O(re[0]),Re=O(re[1]),function(Pe){return Se(Pe[0])&&Re(Pe[1])&&Pe.length===2}):(me=re.map(O),function(Pe){for(let Ve=0;Ve<me.length;Ve++)if(!me[Ve](Pe[Ve]))return!1;return Pe.length===me.length})}function q(re,me){return me<re.length?re[me]:I(re)?J(re):null}function L(re,me){let Se=q(re,me);return Se?D(Se):new Set}function P(re){return re.conversion===null||re.conversion===void 0}function k(re,me){let Se=new Set;return re.forEach(Re=>{let $e=L(Re.params,me),Pe;for(Pe of $e)Se.add(Pe)}),Se.has("any")?["any"]:Array.from(Se)}function Y(re,me,Se){let Re,$e,Pe=re||"unnamed",Ve=Se,je;for(je=0;je<me.length;je++){let Oe=[];if(Ve.forEach(ct=>{let _t=q(ct.params,je),Je=O(_t);(je<ct.params.length||I(ct.params))&&Je(me[je])&&Oe.push(ct)}),Oe.length===0){if($e=k(Ve,je),$e.length>0){let ct=y(me[je]);return Re=new TypeError("Unexpected type of argument in function "+Pe+" (expected: "+$e.join(" or ")+", actual: "+ct.join(" | ")+", index: "+je+")"),Re.data={category:"wrongType",fn:Pe,index:je,actual:ct,expected:$e},Re}}else Ve=Oe}let M=Ve.map(function(Oe){return I(Oe.params)?1/0:Oe.params.length});if(me.length<Math.min.apply(null,M))return $e=k(Ve,je),Re=new TypeError("Too few arguments in function "+Pe+" (expected: "+$e.join(" or ")+", index: "+me.length+")"),Re.data={category:"tooFewArgs",fn:Pe,index:me.length,expected:$e},Re;let j=Math.max.apply(null,M);if(me.length>j)return Re=new TypeError("Too many arguments in function "+Pe+" (expected: "+j+", actual: "+me.length+")"),Re.data={category:"tooManyArgs",fn:Pe,index:me.length,expectedLength:j},Re;let ge=[];for(let Oe=0;Oe<me.length;++Oe)ge.push(y(me[Oe]).join("|"));return Re=new TypeError('Arguments of type "'+ge.join(", ")+'" do not match any of the defined signatures of function '+Pe+"."),Re.data={category:"mismatch",actual:ge},Re}function B(re){let me=c.length+1;for(let Se=0;Se<re.types.length;Se++)P(re.types[Se])&&(me=Math.min(me,re.types[Se].typeIndex));return me}function Z(re){let me=f+1;for(let Se=0;Se<re.types.length;Se++)P(re.types[Se])||(me=Math.min(me,re.types[Se].conversionIndex));return me}function oe(re,me){if(re.hasAny){if(!me.hasAny)return 1}else if(me.hasAny)return-1;if(re.restParam){if(!me.restParam)return 1}else if(me.restParam)return-1;if(re.hasConversion){if(!me.hasConversion)return 1}else if(me.hasConversion)return-1;let Se=B(re)-B(me);if(Se<0)return-1;if(Se>0)return 1;let Re=Z(re)-Z(me);return Re<0?-1:Re>0?1:0}function ne(re,me){let Se=re.params,Re=me.params,$e=J(Se),Pe=J(Re),Ve=I(Se),je=I(Re);if(Ve&&$e.hasAny){if(!je||!Pe.hasAny)return 1}else if(je&&Pe.hasAny)return-1;let M=0,j=0,ge;for(ge of Se)ge.hasAny&&++M,ge.hasConversion&&++j;let Oe=0,ct=0;for(ge of Re)ge.hasAny&&++Oe,ge.hasConversion&&++ct;if(M!==Oe)return M-Oe;if(Ve&&$e.hasConversion){if(!je||!Pe.hasConversion)return 1}else if(je&&Pe.hasConversion)return-1;if(j!==ct)return j-ct;if(Ve){if(!je)return 1}else if(je)return-1;let _t=(Se.length-Re.length)*(Ve?-1:1);if(_t!==0)return _t;let Je=[],Zn=0;for(let Pn=0;Pn<Se.length;++Pn){let Nn=oe(Se[Pn],Re[Pn]);Je.push(Nn),Zn+=Nn}if(Zn!==0)return Zn;let xi;for(xi of Je)if(xi!==0)return xi;return 0}function U(re){if(re.length===0)return[];let me=re.map(m);re.length>1&&me.sort(($e,Pe)=>$e.index-Pe.index);let Se=me[0].conversionsTo;if(re.length===1)return Se;Se=Se.concat([]);let Re=new Set(re);for(let $e=1;$e<me.length;++$e){let Pe;for(Pe of me[$e].conversionsTo)Re.has(Pe.from)||(Se.push(Pe),Re.add(Pe.from))}return Se}function fe(re,me){let Se=me;if(re.some($e=>$e.hasConversion)){let $e=I(re),Pe=re.map(Ee);Se=function(){let je=[],M=$e?arguments.length-1:arguments.length;for(let j=0;j<M;j++)je[j]=Pe[j](arguments[j]);return $e&&(je[M]=arguments[M].map(Pe[M])),me.apply(this,je)}}let Re=Se;if(I(re)){let $e=re.length-1;Re=function(){return Se.apply(this,ee(arguments,0,$e).concat([ee(arguments,$e)]))}}return Re}function Ee(re){let me,Se,Re,$e,Pe=[],Ve=[];switch(re.types.forEach(function(je){je.conversion&&(Pe.push(m(je.conversion.from).test),Ve.push(je.conversion.convert))}),Ve.length){case 0:return function(M){return M};case 1:return me=Pe[0],Re=Ve[0],function(M){return me(M)?Re(M):M};case 2:return me=Pe[0],Se=Pe[1],Re=Ve[0],$e=Ve[1],function(M){return me(M)?Re(M):Se(M)?$e(M):M};default:return function(M){for(let j=0;j<Ve.length;j++)if(Pe[j](M))return Ve[j](M);return M}}}function pe(re){function me(Se,Re,$e){if(Re<Se.length){let Pe=Se[Re],Ve=[];if(Pe.restParam){let je=Pe.types.filter(P);je.length<Pe.types.length&&Ve.push({types:je,name:"..."+je.map(M=>M.name).join("|"),hasAny:je.some(M=>M.isAny),hasConversion:!1,restParam:!0}),Ve.push(Pe)}else Ve=Pe.types.map(function(je){return{types:[je],name:je.name,hasAny:je.isAny,hasConversion:je.conversion,restParam:!1}});return H(Ve,function(je){return me(Se,Re+1,$e.concat([je]))})}else return[$e]}return me(re,0,[])}function he(re,me){let Se=Math.max(re.length,me.length);for(let je=0;je<Se;je++){let M=L(re,je),j=L(me,je),ge=!1,Oe;for(Oe of j)if(M.has(Oe)){ge=!0;break}if(!ge)return!1}let Re=re.length,$e=me.length,Pe=I(re),Ve=I(me);return Pe?Ve?Re===$e:$e>=Re:Ve?Re>=$e:Re===$e}function De(re){return re.map(me=>Ye(me)?Ce(me.referToSelf.callback):Te(me)?se(me.referTo.references,me.referTo.callback):me)}function ve(re,me,Se){let Re=[],$e;for($e of re){let Pe=Se[$e];if(typeof Pe!="number")throw new TypeError('No definition for referenced signature "'+$e+'"');if(Pe=me[Pe],typeof Pe!="function")return!1;Re.push(Pe)}return Re}function de(re,me,Se){let Re=De(re),$e=new Array(Re.length).fill(!1),Pe=!0;for(;Pe;){Pe=!1;let Ve=!0;for(let je=0;je<Re.length;++je){if($e[je])continue;let M=Re[je];if(Ye(M))Re[je]=M.referToSelf.callback(Se),Re[je].referToSelf=M.referToSelf,$e[je]=!0,Ve=!1;else if(Te(M)){let j=ve(M.referTo.references,Re,me);j?(Re[je]=M.referTo.callback.apply(this,j),Re[je].referTo=M.referTo,$e[je]=!0,Ve=!1):Pe=!0}}if(Ve&&Pe)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Re}function Ae(re){let me=/\bthis(\(|\.signatures\b)/;Object.keys(re).forEach(Se=>{let Re=re[Se];if(me.test(Re.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Ne(re,me){if(p.createCount++,Object.keys(me).length===0)throw new SyntaxError("No signatures provided");p.warnAgainstDeprecatedThis&&Ae(me);let Se=[],Re=[],$e={},Pe=[],Ve;for(Ve in me){if(!Object.prototype.hasOwnProperty.call(me,Ve))continue;let wr=N(Ve);if(!wr)continue;Se.forEach(function(Ss){if(he(Ss,wr))throw new TypeError('Conflicting signatures "'+x(Ss)+'" and "'+x(wr)+'".')}),Se.push(wr);let On=Re.length;Re.push(me[Ve]);let ig=wr.map(E),yu;for(yu of pe(ig)){let Ss=x(yu);Pe.push({params:yu,name:Ss,fn:On}),yu.every(ag=>!ag.hasConversion)&&($e[Ss]=On)}}Pe.sort(ne);let je=de(Re,$e,Do),M;for(M in $e)Object.prototype.hasOwnProperty.call($e,M)&&($e[M]=je[$e[M]]);let j=[],ge=new Map;for(M of Pe)ge.has(M.name)||(M.fn=je[M.fn],j.push(M),ge.set(M.name,M));let Oe=j[0]&&j[0].params.length<=2&&!I(j[0].params),ct=j[1]&&j[1].params.length<=2&&!I(j[1].params),_t=j[2]&&j[2].params.length<=2&&!I(j[2].params),Je=j[3]&&j[3].params.length<=2&&!I(j[3].params),Zn=j[4]&&j[4].params.length<=2&&!I(j[4].params),xi=j[5]&&j[5].params.length<=2&&!I(j[5].params),Pn=Oe&&ct&&_t&&Je&&Zn&&xi;for(let wr=0;wr<j.length;++wr)j[wr].test=V(j[wr].params);let Nn=Oe?O(j[0].params[0]):e,rr=ct?O(j[1].params[0]):e,ql=_t?O(j[2].params[0]):e,Dr=Je?O(j[3].params[0]):e,xs=Zn?O(j[4].params[0]):e,Jh=xi?O(j[5].params[0]):e,vu=Oe?O(j[0].params[1]):e,xn=ct?O(j[1].params[1]):e,na=_t?O(j[2].params[1]):e,Vi=Je?O(j[3].params[1]):e,nn=Zn?O(j[4].params[1]):e,wi=xi?O(j[5].params[1]):e;for(let wr=0;wr<j.length;++wr)j[wr].implementation=fe(j[wr].params,j[wr].fn);let ia=Oe?j[0].implementation:t,Ha=ct?j[1].implementation:t,Xh=_t?j[2].implementation:t,Qh=Je?j[3].implementation:t,ws=Zn?j[4].implementation:t,vf=xi?j[5].implementation:t,Kh=Oe?j[0].params.length:-1,Ao=ct?j[1].params.length:-1,_s=_t?j[2].params.length:-1,yf=Je?j[3].params.length:-1,eg=Zn?j[4].params.length:-1,tg=xi?j[5].params.length:-1,rg=Pn?6:0,jr=j.length,zl=j.map(wr=>wr.test),ng=j.map(wr=>wr.implementation),bf=function(){for(let On=rg;On<jr;On++)if(zl[On](arguments))return ng[On].apply(this,arguments);return p.onMismatch(re,arguments,j)};function Do(wr,On){return arguments.length===Kh&&Nn(wr)&&vu(On)?ia.apply(this,arguments):arguments.length===Ao&&rr(wr)&&xn(On)?Ha.apply(this,arguments):arguments.length===_s&&ql(wr)&&na(On)?Xh.apply(this,arguments):arguments.length===yf&&Dr(wr)&&Vi(On)?Qh.apply(this,arguments):arguments.length===eg&&xs(wr)&&nn(On)?ws.apply(this,arguments):arguments.length===tg&&Jh(wr)&&wi(On)?vf.apply(this,arguments):bf.apply(this,arguments)}try{Object.defineProperty(Do,"name",{value:re})}catch(wr){}return Do.signatures=$e,Do._typedFunctionData={signatures:j,signatureMap:ge},Do}function ke(re,me,Se){throw Y(re,me,Se)}function nt(re){return ee(re,0,re.length-1)}function J(re){return re[re.length-1]}function ee(re,me,Se){return Array.prototype.slice.call(re,me,Se)}function ye(re,me){for(let Se=0;Se<re.length;Se++)if(me(re[Se]))return re[Se]}function H(re,me){return Array.prototype.concat.apply([],re.map(me))}function te(){let re=nt(arguments).map(Se=>x(N(Se))),me=J(arguments);if(typeof me!="function")throw new TypeError("Callback function expected as last argument");return se(re,me)}function se(re,me){return{referTo:{references:re,callback:me}}}function Ce(re){if(typeof re!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:re}}}function Te(re){return re&&typeof re.referTo=="object"&&Array.isArray(re.referTo.references)&&typeof re.referTo.callback=="function"}function Ye(re){return re&&typeof re.referToSelf=="object"&&typeof re.referToSelf.callback=="function"}function Me(re,me){if(!re)return me;if(me&&me!==re){let Se=new Error("Function names do not match (expected: "+re+", actual: "+me+")");throw Se.data={actual:me,expected:re},Se}return re}function et(re){let me;for(let Se in re)Object.prototype.hasOwnProperty.call(re,Se)&&(_(re[Se])||typeof re[Se].signature=="string")&&(me=Me(me,re[Se].name));return me}function At(re,me){let Se;for(Se in me)if(Object.prototype.hasOwnProperty.call(me,Se)){if(Se in re&&me[Se]!==re[Se]){let Re=new Error('Signature "'+Se+'" is defined twice');throw Re.data={signature:Se,sourceFunction:me[Se],destFunction:re[Se]},Re}re[Se]=me[Se]}}let _e=p;p=function(re){let me=typeof re=="string",Se=me?1:0,Re=me?re:"",$e={};for(let Pe=Se;Pe<arguments.length;++Pe){let Ve=arguments[Pe],je={},M;if(typeof Ve=="function"?(M=Ve.name,typeof Ve.signature=="string"?je[Ve.signature]=Ve:_(Ve)&&(je=Ve.signatures)):o(Ve)&&(je=Ve,me||(M=et(Ve))),Object.keys(je).length===0){let j=new TypeError("Argument to 'typed' at index "+Pe+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw j.data={index:Pe,argument:Ve},j}me||(Re=Me(Re,M)),At($e,je)}return Ne(Re||"",$e)},p.create=i,p.createCount=_e.createCount,p.onMismatch=ke,p.throwMismatchError=ke,p.createError=Y,p.clear=d,p.clearConversions=g,p.addTypes=h,p._findType=m,p.referTo=te,p.referToSelf=Ce,p.convert=S,p.findSignature=b,p.find=w,p.isTypedFunction=_,p.warnAgainstDeprecatedThis=!0,p.addType=function(re,me){let Se="any";me!==!1&&l.has("Object")&&(Se="Object"),p.addTypes([re],Se)};function Ue(re){if(!re||typeof re.from!="string"||typeof re.to!="string"||typeof re.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(re.to===re.from)throw new SyntaxError('Illegal to define conversion from "'+re.from+'" to itself.')}return p.addConversion=function(re){Ue(re);let me=m(re.to);if(me.conversionsTo.every(function(Se){return Se.from!==re.from}))me.conversionsTo.push({from:re.from,convert:re.convert,index:f++});else throw new Error('There is already a conversion from "'+re.from+'" to "'+me.name+'"')},p.addConversions=function(re){re.forEach(p.addConversion)},p.removeConversion=function(re){Ue(re);let me=m(re.to),Se=ye(me.conversionsTo,$e=>$e.from===re.from);if(!Se)throw new Error("Attempt to remove nonexistent conversion from "+re.from+" to "+re.to);if(Se.convert!==re.convert)throw new Error("Conversion to remove does not match existing conversion");let Re=me.conversionsTo.indexOf(Se);me.conversionsTo.splice(Re,1)},p.resolve=function(re,me){if(!_(re))throw new TypeError(n);let Se=re._typedFunctionData.signatures;for(let Re=0;Re<Se.length;++Re)if(Se[Re].test(me))return Se[Re];return null},p}var a=i();return a})});var VT=ln((cy,LT)=>{(function(r){"use strict";var e=Math.cosh||function(l){return Math.abs(l)<1e-9?1-l:(Math.exp(l)+Math.exp(-l))*.5},t=Math.sinh||function(l){return Math.abs(l)<1e-9?l:(Math.exp(l)-Math.exp(-l))*.5},n=function(l){var c=Math.PI/4;if(-c>l||l>c)return Math.cos(l)-1;var f=l*l;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(l,c){var f=Math.abs(l),p=Math.abs(c);return f<3e3&&p<3e3?Math.sqrt(f*f+p*p):(f<p?(f=p,p=l/c):p=c/l,f*Math.sqrt(1+p*p))},a=function(){throw SyntaxError("Invalid Param")};function o(l,c){var f=Math.abs(l),p=Math.abs(c);return l===0?Math.log(p):c===0?Math.log(f):f<3e3&&p<3e3?Math.log(l*l+c*c)*.5:(l=l/2,c=c/2,.5*Math.log(l*l+c*c)+Math.LN2)}var u=function(l,c){var f={re:0,im:0};if(l==null)f.re=f.im=0;else if(c!==void 0)f.re=l,f.im=c;else switch(typeof l){case"object":if("im"in l&&"re"in l)f.re=l.re,f.im=l.im;else if("abs"in l&&"arg"in l){if(!Number.isFinite(l.abs)&&Number.isFinite(l.arg))return s.INFINITY;f.re=l.abs*Math.cos(l.arg),f.im=l.abs*Math.sin(l.arg)}else if("r"in l&&"phi"in l){if(!Number.isFinite(l.r)&&Number.isFinite(l.phi))return s.INFINITY;f.re=l.r*Math.cos(l.phi),f.im=l.r*Math.sin(l.phi)}else l.length===2?(f.re=l[0],f.im=l[1]):a();break;case"string":f.im=f.re=0;var p=l.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,h=0;p===null&&a();for(var d=0;d<p.length;d++){var g=p[d];g===" "||g==="	"||g===`
`||(g==="+"?m++:g==="-"?h++:g==="i"||g==="I"?(m+h===0&&a(),p[d+1]!==" "&&!isNaN(p[d+1])?(f.im+=parseFloat((h%2?"-":"")+p[d+1]),d++):f.im+=parseFloat((h%2?"-":"")+"1"),m=h=0):((m+h===0||isNaN(g))&&a(),p[d+1]==="i"||p[d+1]==="I"?(f.im+=parseFloat((h%2?"-":"")+g),d++):f.re+=parseFloat((h%2?"-":"")+g),m=h=0))}m+h>0&&a();break;case"number":f.im=0,f.re=l;break;default:a()}return isNaN(f.re)||isNaN(f.im),f};function s(l,c){if(!(this instanceof s))return new s(l,c);var f=u(l,c);this.re=f.re,this.im=f.im}s.prototype={re:0,im:0,sign:function(){var l=this.abs();return new s(this.re/l,this.im/l)},add:function(l,c){var f=new s(l,c);return this.isInfinite()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:new s(this.re+f.re,this.im+f.im)},sub:function(l,c){var f=new s(l,c);return this.isInfinite()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:new s(this.re-f.re,this.im-f.im)},mul:function(l,c){var f=new s(l,c);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:f.im===0&&this.im===0?new s(this.re*f.re,0):new s(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(l,c){var f=new s(l,c);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return s.NAN;if(this.isInfinite()||f.isZero())return s.INFINITY;if(this.isZero()||f.isInfinite())return s.ZERO;l=this.re,c=this.im;var p=f.re,m=f.im,h,d;return m===0?new s(l/p,c/p):Math.abs(p)<Math.abs(m)?(d=p/m,h=p*d+m,new s((l*d+c)/h,(c*d-l)/h)):(d=m/p,h=m*d+p,new s((l+c*d)/h,(c-l*d)/h))},pow:function(l,c){var f=new s(l,c);if(l=this.re,c=this.im,f.isZero())return s.ONE;if(f.im===0){if(c===0&&l>0)return new s(Math.pow(l,f.re),0);if(l===0)switch((f.re%4+4)%4){case 0:return new s(Math.pow(c,f.re),0);case 1:return new s(0,Math.pow(c,f.re));case 2:return new s(-Math.pow(c,f.re),0);case 3:return new s(0,-Math.pow(c,f.re))}}if(l===0&&c===0&&f.re>0&&f.im>=0)return s.ZERO;var p=Math.atan2(c,l),m=o(l,c);return l=Math.exp(f.re*m-f.im*p),c=f.im*m+f.re*p,new s(l*Math.cos(c),l*Math.sin(c))},sqrt:function(){var l=this.re,c=this.im,f=this.abs(),p,m;if(l>=0){if(c===0)return new s(Math.sqrt(l),0);p=.5*Math.sqrt(2*(f+l))}else p=Math.abs(c)/Math.sqrt(2*(f-l));return l<=0?m=.5*Math.sqrt(2*(f-l)):m=Math.abs(c)/Math.sqrt(2*(f+l)),new s(p,c<0?-m:m)},exp:function(){var l=Math.exp(this.re);return this.im,new s(l*Math.cos(this.im),l*Math.sin(this.im))},expm1:function(){var l=this.re,c=this.im;return new s(Math.expm1(l)*Math.cos(c)+n(c),Math.exp(l)*Math.sin(c))},log:function(){var l=this.re,c=this.im;return c===0&&l>0,new s(o(l,c),Math.atan2(c,l))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var l=this.re,c=this.im;return new s(Math.sin(l)*e(c),Math.cos(l)*t(c))},cos:function(){var l=this.re,c=this.im;return new s(Math.cos(l)*e(c),-Math.sin(l)*t(c))},tan:function(){var l=2*this.re,c=2*this.im,f=Math.cos(l)+e(c);return new s(Math.sin(l)/f,t(c)/f)},cot:function(){var l=2*this.re,c=2*this.im,f=Math.cos(l)-e(c);return new s(-Math.sin(l)/f,t(c)/f)},sec:function(){var l=this.re,c=this.im,f=.5*e(2*c)+.5*Math.cos(2*l);return new s(Math.cos(l)*e(c)/f,Math.sin(l)*t(c)/f)},csc:function(){var l=this.re,c=this.im,f=.5*e(2*c)-.5*Math.cos(2*l);return new s(Math.sin(l)*e(c)/f,-Math.cos(l)*t(c)/f)},asin:function(){var l=this.re,c=this.im,f=new s(c*c-l*l+1,-2*l*c).sqrt(),p=new s(f.re-c,f.im+l).log();return new s(p.im,-p.re)},acos:function(){var l=this.re,c=this.im,f=new s(c*c-l*l+1,-2*l*c).sqrt(),p=new s(f.re-c,f.im+l).log();return new s(Math.PI/2-p.im,p.re)},atan:function(){var l=this.re,c=this.im;if(l===0){if(c===1)return new s(0,1/0);if(c===-1)return new s(0,-1/0)}var f=l*l+(1-c)*(1-c),p=new s((1-c*c-l*l)/f,-2*l/f).log();return new s(-.5*p.im,.5*p.re)},acot:function(){var l=this.re,c=this.im;if(c===0)return new s(Math.atan2(1,l),0);var f=l*l+c*c;return f!==0?new s(l/f,-c/f).atan():new s(l!==0?l/0:0,c!==0?-c/0:0).atan()},asec:function(){var l=this.re,c=this.im;if(l===0&&c===0)return new s(0,1/0);var f=l*l+c*c;return f!==0?new s(l/f,-c/f).acos():new s(l!==0?l/0:0,c!==0?-c/0:0).acos()},acsc:function(){var l=this.re,c=this.im;if(l===0&&c===0)return new s(Math.PI/2,1/0);var f=l*l+c*c;return f!==0?new s(l/f,-c/f).asin():new s(l!==0?l/0:0,c!==0?-c/0:0).asin()},sinh:function(){var l=this.re,c=this.im;return new s(t(l)*Math.cos(c),e(l)*Math.sin(c))},cosh:function(){var l=this.re,c=this.im;return new s(e(l)*Math.cos(c),t(l)*Math.sin(c))},tanh:function(){var l=2*this.re,c=2*this.im,f=e(l)+Math.cos(c);return new s(t(l)/f,Math.sin(c)/f)},coth:function(){var l=2*this.re,c=2*this.im,f=e(l)-Math.cos(c);return new s(t(l)/f,-Math.sin(c)/f)},csch:function(){var l=this.re,c=this.im,f=Math.cos(2*c)-e(2*l);return new s(-2*t(l)*Math.cos(c)/f,2*e(l)*Math.sin(c)/f)},sech:function(){var l=this.re,c=this.im,f=Math.cos(2*c)+e(2*l);return new s(2*e(l)*Math.cos(c)/f,-2*t(l)*Math.sin(c)/f)},asinh:function(){var l=this.im;this.im=-this.re,this.re=l;var c=this.asin();return this.re=-this.im,this.im=l,l=c.re,c.re=-c.im,c.im=l,c},acosh:function(){var l=this.acos();if(l.im<=0){var c=l.re;l.re=-l.im,l.im=c}else{var c=l.im;l.im=-l.re,l.re=c}return l},atanh:function(){var l=this.re,c=this.im,f=l>1&&c===0,p=1-l,m=1+l,h=p*p+c*c,d=h!==0?new s((m*p-c*c)/h,(c*p+m*c)/h):new s(l!==-1?l/0:0,c!==0?c/0:0),g=d.re;return d.re=o(d.re,d.im)/2,d.im=Math.atan2(d.im,g)/2,f&&(d.im=-d.im),d},acoth:function(){var l=this.re,c=this.im;if(l===0&&c===0)return new s(0,Math.PI/2);var f=l*l+c*c;return f!==0?new s(l/f,-c/f).atanh():new s(l!==0?l/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var l=this.re,c=this.im;if(c===0)return new s(l!==0?Math.log(l+Math.sqrt(l*l+1)):1/0,0);var f=l*l+c*c;return f!==0?new s(l/f,-c/f).asinh():new s(l!==0?l/0:0,c!==0?-c/0:0).asinh()},asech:function(){var l=this.re,c=this.im;if(this.isZero())return s.INFINITY;var f=l*l+c*c;return f!==0?new s(l/f,-c/f).acosh():new s(l!==0?l/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var l=this.re,c=this.im,f=l*l+c*c;return new s(l/f,-c/f)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(l){return l=Math.pow(10,l||0),new s(Math.ceil(this.re*l)/l,Math.ceil(this.im*l)/l)},floor:function(l){return l=Math.pow(10,l||0),new s(Math.floor(this.re*l)/l,Math.floor(this.im*l)/l)},round:function(l){return l=Math.pow(10,l||0),new s(Math.round(this.re*l)/l,Math.round(this.im*l)/l)},equals:function(l,c){var f=new s(l,c);return Math.abs(f.re-this.re)<=s.EPSILON&&Math.abs(f.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var l=this.re,c=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(l)<s.EPSILON&&(l=0),Math.abs(c)<s.EPSILON&&(c=0),c===0?f+l:(l!==0?(f+=l,f+=" ",c<0?(c=-c,f+="-"):f+="+",f+=" "):c<0&&(c=-c,f+="-"),c!==1&&(f+=c),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return s}):typeof cy=="object"?(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,LT.exports=s):r.Complex=s})(cy)});var $T=ln((py,UT)=>{(function(r){"use strict";var e=2e3,t={s:1,n:0,d:1};function n(d,g){if(isNaN(d=parseInt(d,10)))throw m();return d*g}function i(d,g){if(g===0)throw p();var y=Object.create(f.prototype);y.s=d<0?-1:1,d=d<0?-d:d;var _=c(d,g);return y.n=d/_,y.d=g/_,y}function a(d){for(var g={},y=d,_=2,b=4;b<=y;){for(;y%_===0;)y/=_,g[_]=(g[_]||0)+1;b+=1+2*_++}return y!==d?y>1&&(g[y]=(g[y]||0)+1):g[d]=(g[d]||0)+1,g}var o=function(d,g){var y=0,_=1,b=1,w=0,S=0,x=0,C=1,E=1,D=0,N=1,I=1,O=1,V=1e7,q;if(d!=null)if(g!==void 0){if(y=d,_=g,b=y*_,y%1!==0||_%1!==0)throw h()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)y=d.n,_=d.d,"s"in d&&(y*=d.s);else if(0 in d)y=d[0],1 in d&&(_=d[1]);else throw m();b=y*_;break}case"number":{if(d<0&&(b=d,d=-d),d%1===0)y=d;else if(d>0){for(d>=1&&(E=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=E);N<=V&&O<=V;)if(q=(D+I)/(N+O),d===q){N+O<=V?(y=D+I,_=N+O):O>N?(y=I,_=O):(y=D,_=N);break}else d>q?(D+=I,N+=O):(I+=D,O+=N),N>V?(y=I,_=O):(y=D,_=N);y*=E}else(isNaN(d)||isNaN(g))&&(_=y=NaN);break}case"string":{if(N=d.match(/\d+|./g),N===null)throw m();if(N[D]==="-"?(b=-1,D++):N[D]==="+"&&D++,N.length===D+1?S=n(N[D++],b):N[D+1]==="."||N[D]==="."?(N[D]!=="."&&(w=n(N[D++],b)),D++,(D+1===N.length||N[D+1]==="("&&N[D+3]===")"||N[D+1]==="'"&&N[D+3]==="'")&&(S=n(N[D],b),C=Math.pow(10,N[D].length),D++),(N[D]==="("&&N[D+2]===")"||N[D]==="'"&&N[D+2]==="'")&&(x=n(N[D+1],b),E=Math.pow(10,N[D+1].length)-1,D+=3)):N[D+1]==="/"||N[D+1]===":"?(S=n(N[D],b),C=n(N[D+2],1),D+=3):N[D+3]==="/"&&N[D+1]===" "&&(w=n(N[D],b),S=n(N[D+2],b),C=n(N[D+4],1),D+=5),N.length<=D){_=C*E,b=y=x+_*w+E*S;break}}default:throw m()}if(_===0)throw p();t.s=b<0?-1:1,t.n=Math.abs(y),t.d=Math.abs(_)};function u(d,g,y){for(var _=1;g>0;d=d*d%y,g>>=1)g&1&&(_=_*d%y);return _}function s(d,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var y=10%g,_=1;y!==1;_++)if(y=y*10%g,_>e)return 0;return _}function l(d,g,y){for(var _=1,b=u(10,y,g),w=0;w<300;w++){if(_===b)return w;_=_*10%g,b=b*10%g}return 0}function c(d,g){if(!d)return g;if(!g)return d;for(;;){if(d%=g,!d)return g;if(g%=d,!g)return d}}function f(d,g){if(o(d,g),this instanceof f)d=c(t.d,t.n),this.s=t.s,this.n=t.n/d,this.d=t.d/d;else return i(t.s*t.n,t.d)}var p=function(){return new Error("Division by Zero")},m=function(){return new Error("Invalid argument")},h=function(){return new Error("Parameters must be integer")};f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(d,g){return o(d,g),i(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(d,g){return o(d,g),i(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(d,g){return o(d,g),i(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(d,g){return o(d,g),i(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(d,g){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(d===void 0)return i(this.s*this.n%this.d,1);if(o(d,g),t.n===0&&this.d===0)throw p();return i(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(d,g){return o(d,g),i(c(t.n,this.n)*c(t.d,this.d),t.d*this.d)},lcm:function(d,g){return o(d,g),t.n===0&&this.n===0?i(0,1):i(t.n*this.n,c(t.n,this.n)*c(t.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(d,g){if(o(d,g),t.d===1)return t.s<0?i(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):i(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var y=a(this.n),_=a(this.d),b=1,w=1;for(var S in y)if(S!=="1"){if(S==="0"){b=0;break}if(y[S]*=t.n,y[S]%t.d===0)y[S]/=t.d;else return null;b*=Math.pow(S,y[S])}for(var S in _)if(S!=="1"){if(_[S]*=t.n,_[S]%t.d===0)_[S]/=t.d;else return null;w*=Math.pow(S,_[S])}return t.s<0?i(w,b):i(b,w)},equals:function(d,g){return o(d,g),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(d,g){o(d,g);var y=this.s*this.n*t.d-t.s*t.n*this.d;return(0<y)-(y<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var g=this.abs(),y=g.toContinued(),_=1;_<y.length;_++){for(var b=i(y[_-1],1),w=_-2;w>=0;w--)b=b.inverse().add(y[w]);if(Math.abs(b.sub(g).valueOf())<d)return b.mul(this.s)}return this},divisible:function(d,g){return o(d,g),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var g,y="",_=this.n,b=this.d;return this.s<0&&(y+="-"),b===1?y+=_:(d&&(g=Math.floor(_/b))>0&&(y+=g,y+=" ",_%=b),y+=_,y+="/",y+=b),y},toLatex:function(d){var g,y="",_=this.n,b=this.d;return this.s<0&&(y+="-"),b===1?y+=_:(d&&(g=Math.floor(_/b))>0&&(y+=g,_%=b),y+="\\frac{",y+=_,y+="}{",y+=b,y+="}"),y},toContinued:function(){var d,g=this.n,y=this.d,_=[];if(isNaN(g)||isNaN(y))return _;do _.push(Math.floor(g/y)),d=g%y,g=y,y=d;while(g!==1);return _},toString:function(d){var g=this.n,y=this.d;if(isNaN(g)||isNaN(y))return"NaN";d=d||15;var _=s(g,y),b=l(g,y,_),w=this.s<0?"-":"";if(w+=g/y|0,g%=y,g*=10,g&&(w+="."),_){for(var S=b;S--;)w+=g/y|0,g%=y,g*=10;w+="(";for(var S=_;S--;)w+=g/y|0,g%=y,g*=10;w+=")"}else for(var S=d;g&&S--;)w+=g/y|0,g%=y,g*=10;return w}},typeof py=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,UT.exports=f):r.Fraction=f})(py)});var r2=ln((DDe,t2)=>{t2.exports=function r(e,t){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,u=/^0/,s=function(b){return r.insensitive&&(""+b).toLowerCase()||""+b},l=s(e).replace(i,"")||"",c=s(t).replace(i,"")||"",f=l.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(l.match(o),16)||f.length!==1&&l.match(a)&&Date.parse(l),h=parseInt(c.match(o),16)||m&&c.match(a)&&Date.parse(c)||null,d,g;if(h){if(m<h)return-1;if(m>h)return 1}for(var y=0,_=Math.max(f.length,p.length);y<_;y++){if(d=!(f[y]||"").match(u)&&parseFloat(f[y])||f[y]||0,g=!(p[y]||"").match(u)&&parseFloat(p[y])||p[y]||0,isNaN(d)!==isNaN(g))return isNaN(d)?1:-1;if(typeof d!=typeof g&&(d+="",g+=""),d<g)return-1;if(d>g)return 1}return 0}});var aI=ln((qMe,iI)=>{"use strict";var B1=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},yQ={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},bQ={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},xQ=function(e,t){return B1({},e,t)};iI.exports=function(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.preserveFormatting,n=t===void 0?!1:t,i=e.escapeMapFn,a=i===void 0?xQ:i,o=String(r),u="",s=a(B1({},yQ),n?B1({},bQ):{}),l=Object.keys(s),c=function(){var p=!1;l.forEach(function(m,h){p||o.length>=m.length&&o.slice(0,m.length)===m&&(u+=s[l[h]],o=o.slice(m.length,o.length),p=!0)}),p||(u+=o.slice(0,1),o=o.slice(1,o.length))};o;)c();return u}});var OR=ln((PR,Pw)=>{(function(r,e,t){function n(u){var s=this,l=o();s.next=function(){var c=2091639*s.s0+s.c*23283064365386963e-26;return s.s0=s.s1,s.s1=s.s2,s.s2=c-(s.c=c|0)},s.c=1,s.s0=l(" "),s.s1=l(" "),s.s2=l(" "),s.s0-=l(u),s.s0<0&&(s.s0+=1),s.s1-=l(u),s.s1<0&&(s.s1+=1),s.s2-=l(u),s.s2<0&&(s.s2+=1),l=null}function i(u,s){return s.c=u.c,s.s0=u.s0,s.s1=u.s1,s.s2=u.s2,s}function a(u,s){var l=new n(u),c=s&&s.state,f=l.next;return f.int32=function(){return l.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,c&&(typeof c=="object"&&i(c,l),f.state=function(){return i(l,{})}),f}function o(){var u=4022871197,s=function(l){l=String(l);for(var c=0;c<l.length;c++){u+=l.charCodeAt(c);var f=.02519603282416938*u;u=f>>>0,f-=u,f*=u,u=f>>>0,f-=u,u+=f*4294967296}return(u>>>0)*23283064365386963e-26};return s}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.alea=a})(PR,typeof Pw=="object"&&Pw,typeof define=="function"&&define)});var RR=ln((kR,Ow)=>{(function(r,e,t){function n(o){var u=this,s="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var c=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^c^c>>>8},o===(o|0)?u.x=o:s+=o;for(var l=0;l<s.length+64;l++)u.x^=s.charCodeAt(l)|0,u.next()}function i(o,u){return u.x=o.x,u.y=o.y,u.z=o.z,u.w=o.w,u}function a(o,u){var s=new n(o),l=u&&u.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,l&&(typeof l=="object"&&i(l,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor128=a})(kR,typeof Ow=="object"&&Ow,typeof define=="function"&&define)});var VR=ln((LR,kw)=>{(function(r,e,t){function n(o){var u=this,s="";u.next=function(){var c=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(c^c<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,o===(o|0)?u.x=o:s+=o;for(var l=0;l<s.length+64;l++)u.x^=s.charCodeAt(l)|0,l==s.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function i(o,u){return u.x=o.x,u.y=o.y,u.z=o.z,u.w=o.w,u.v=o.v,u.d=o.d,u}function a(o,u){var s=new n(o),l=u&&u.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,l&&(typeof l=="object"&&i(l,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorwow=a})(LR,typeof kw=="object"&&kw,typeof define=="function"&&define)});var $R=ln((UR,Rw)=>{(function(r,e,t){function n(o){var u=this;u.next=function(){var l=u.x,c=u.i,f,p,m;return f=l[c],f^=f>>>7,p=f^f<<24,f=l[c+1&7],p^=f^f>>>10,f=l[c+3&7],p^=f^f>>>3,f=l[c+4&7],p^=f^f<<7,f=l[c+7&7],f=f^f<<13,p^=f^f<<9,l[c]=p,u.i=c+1&7,p};function s(l,c){var f,p,m=[];if(c===(c|0))p=m[0]=c;else for(c=""+c,f=0;f<c.length;++f)m[f&7]=m[f&7]<<15^c.charCodeAt(f)+m[f+1&7]<<13;for(;m.length<8;)m.push(0);for(f=0;f<8&&m[f]===0;++f);for(f==8?p=m[7]=-1:p=m[f],l.x=m,l.i=0,f=256;f>0;--f)l.next()}s(u,o)}function i(o,u){return u.x=o.x.slice(),u.i=o.i,u}function a(o,u){o==null&&(o=+new Date);var s=new n(o),l=u&&u.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,l&&(l.x&&i(l,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorshift7=a})(UR,typeof Rw=="object"&&Rw,typeof define=="function"&&define)});var zR=ln((qR,Lw)=>{(function(r,e,t){function n(o){var u=this;u.next=function(){var l=u.w,c=u.X,f=u.i,p,m;return u.w=l=l+1640531527|0,m=c[f+34&127],p=c[f=f+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,m=c[f]=m^p,u.i=f,m+(l^l>>>16)|0};function s(l,c){var f,p,m,h,d,g=[],y=128;for(c===(c|0)?(p=c,c=null):(c=c+"\0",p=0,y=Math.max(y,c.length)),m=0,h=-32;h<y;++h)c&&(p^=c.charCodeAt((h+32)%c.length)),h===0&&(d=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,h>=0&&(d=d+1640531527|0,f=g[h&127]^=p+d,m=f==0?m+1:0);for(m>=128&&(g[(c&&c.length||0)&127]=-1),m=127,h=4*128;h>0;--h)p=g[m+34&127],f=g[m=m+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,g[m]=p^f;l.w=d,l.X=g,l.i=m}s(u,o)}function i(o,u){return u.i=o.i,u.w=o.w,u.X=o.X.slice(),u}function a(o,u){o==null&&(o=+new Date);var s=new n(o),l=u&&u.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,l&&(l.X&&i(l,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor4096=a})(qR,typeof Lw=="object"&&Lw,typeof define=="function"&&define)});var GR=ln((HR,Vw)=>{(function(r,e,t){function n(o){var u=this,s="";u.next=function(){var c=u.b,f=u.c,p=u.d,m=u.a;return c=c<<25^c>>>7^f,f=f-p|0,p=p<<24^p>>>8^m,m=m-c|0,u.b=c=c<<20^c>>>12^f,u.c=f=f-p|0,u.d=p<<16^f>>>16^m,u.a=m-c|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,o===Math.floor(o)?(u.a=o/4294967296|0,u.b=o|0):s+=o;for(var l=0;l<s.length+20;l++)u.b^=s.charCodeAt(l)|0,u.next()}function i(o,u){return u.a=o.a,u.b=o.b,u.c=o.c,u.d=o.d,u}function a(o,u){var s=new n(o),l=u&&u.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,l&&(typeof l=="object"&&i(l,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.tychei=a})(HR,typeof Vw=="object"&&Vw,typeof define=="function"&&define)});var YR=ln((WR,hd)=>{(function(r,e,t){var n=256,i=6,a=52,o="random",u=t.pow(n,i),s=t.pow(2,a),l=s*2,c=n-1,f;function p(b,w,S){var x=[];w=w==!0?{entropy:!0}:w||{};var C=g(d(w.entropy?[b,_(e)]:b==null?y():b,3),x),E=new m(x),D=function(){for(var N=E.g(i),I=u,O=0;N<s;)N=(N+O)*n,I*=n,O=E.g(1);for(;N>=l;)N/=2,I/=2,O>>>=1;return(N+O)/I};return D.int32=function(){return E.g(4)|0},D.quick=function(){return E.g(4)/4294967296},D.double=D,g(_(E.S),e),(w.pass||S||function(N,I,O,V){return V&&(V.S&&h(V,E),N.state=function(){return h(E,{})}),O?(t[o]=N,I):N})(D,C,"global"in w?w.global:this==t,w.state)}function m(b){var w,S=b.length,x=this,C=0,E=x.i=x.j=0,D=x.S=[];for(S||(b=[S++]);C<n;)D[C]=C++;for(C=0;C<n;C++)D[C]=D[E=c&E+b[C%S]+(w=D[C])],D[E]=w;(x.g=function(N){for(var I,O=0,V=x.i,q=x.j,L=x.S;N--;)I=L[V=c&V+1],O=O*n+L[c&(L[V]=L[q=c&q+I])+(L[q]=I)];return x.i=V,x.j=q,O})(n)}function h(b,w){return w.i=b.i,w.j=b.j,w.S=b.S.slice(),w}function d(b,w){var S=[],x=typeof b,C;if(w&&x=="object")for(C in b)try{S.push(d(b[C],w-1))}catch(E){}return S.length?S:x=="string"?b:b+"\0"}function g(b,w){for(var S=b+"",x,C=0;C<S.length;)w[c&C]=c&(x^=w[c&C]*19)+S.charCodeAt(C++);return _(w)}function y(){try{var b;return f&&(b=f.randomBytes)?b=b(n):(b=new Uint8Array(n),(r.crypto||r.msCrypto).getRandomValues(b)),_(b)}catch(x){var w=r.navigator,S=w&&w.plugins;return[+new Date,r,S,r.screen,_(e)]}}function _(b){return String.fromCharCode.apply(0,b)}if(g(t.random(),e),typeof hd=="object"&&hd.exports){hd.exports=p;try{f=require("crypto")}catch(b){}}else typeof define=="function"&&define.amd?define(function(){return p}):t["seed"+o]=p})(typeof self!="undefined"?self:WR,[],Math)});var ZR=ln((sUe,jR)=>{var RK=OR(),LK=RR(),VK=VR(),UK=$R(),$K=zR(),qK=GR(),su=YR();su.alea=RK;su.xor128=LK;su.xorwow=VK;su.xorshift7=UK;su.xor4096=$K;su.tychei=qK;jR.exports=su});var aie={};C7(aie,{MetaBindBuild:()=>wD,default:()=>Zh});module.exports=T7(aie);var $l=require("obsidian");var iE=["January","February","March","April","May","June","July","August","September","October","November","December"],Es=[{index:0,name:"Sunday",shortName:"Su"},{index:1,name:"Monday",shortName:"Mo"},{index:2,name:"Tuesday",shortName:"Tu"},{index:3,name:"Wednesday",shortName:"We"},{index:4,name:"Thursday",shortName:"Th"},{index:5,name:"Friday",shortName:"Fr"},{index:6,name:"Saturday",shortName:"Sa"}],oa={devMode:!1,ignoreCodeBlockRestrictions:!1,preferredDateFormat:"YYYY-MM-DD",firstWeekday:Es[1],syncInterval:200,minSyncInterval:50,maxSyncInterval:1e3,enableJs:!1,viewFieldDisplayNullAsEmpty:!1,enableSyntaxHighlighting:!0,enableEditorRightClickMenu:!0,inputFieldTemplates:[],buttonTemplates:[],excludedFolders:["templates"],inputTemplates:void 0};var To=(x=>(x.TOGGLE="toggle",x.SLIDER="slider",x.TEXT="text",x.TEXT_AREA="textArea",x.SELECT="select",x.MULTI_SELECT="multiSelect",x.DATE="date",x.TIME="time",x.DATE_PICKER="datePicker",x.NUMBER="number",x.SUGGESTER="suggester",x.EDITOR="editor",x.IMAGE_SUGGESTER="imageSuggester",x.PROGRESS_BAR="progressBar",x.INLINE_SELECT="inlineSelect",x.LIST="list",x.LIST_SUGGESTER="listSuggester",x.INLINE_LIST_SUGGESTER="inlineListSuggester",x.INLINE_LIST="inlineList",x.IMAGE_LIST_SUGGESTER="imageListSuggester",x.DATE_TIME="dateTime",x.INVALID="invalid",x))(To||{}),Ur=(_=>(_.CLASS="class",_.ADD_LABELS="addLabels",_.MIN_VALUE="minValue",_.MAX_VALUE="maxValue",_.STEP_SIZE="stepSize",_.OPTION="option",_.TITLE="title",_.OPTION_QUERY="optionQuery",_.SHOWCASE="showcase",_.ON_VALUE="onValue",_.OFF_VALUE="offValue",_.DEFAULT_VALUE="defaultValue",_.PLACEHOLDER="placeholder",_.USE_LINKS="useLinks",_.LIMIT="limit",_.MULTI_LINE="multiLine",_.ALLOW_OTHER="allowOther",_.INVALID="invalid",_))(Ur||{}),Ff={toggle:{type:"toggle",allowInBlock:!0,allowInline:!0},slider:{type:"slider",allowInBlock:!0,allowInline:!0},text:{type:"text",allowInBlock:!0,allowInline:!0},textArea:{type:"textArea",allowInBlock:!0,allowInline:!0},select:{type:"select",allowInBlock:!0,allowInline:!1},multiSelect:{type:"multiSelect",allowInBlock:!0,allowInline:!1},date:{type:"date",allowInBlock:!0,allowInline:!0},time:{type:"time",allowInBlock:!0,allowInline:!0},datePicker:{type:"datePicker",allowInBlock:!0,allowInline:!0},number:{type:"number",allowInBlock:!0,allowInline:!0},suggester:{type:"suggester",allowInBlock:!0,allowInline:!0},editor:{type:"editor",allowInBlock:!0,allowInline:!1},imageSuggester:{type:"imageSuggester",allowInBlock:!0,allowInline:!1},progressBar:{type:"progressBar",allowInBlock:!0,allowInline:!1},inlineSelect:{type:"inlineSelect",allowInBlock:!0,allowInline:!0},list:{type:"list",allowInBlock:!0,allowInline:!1},listSuggester:{type:"listSuggester",allowInBlock:!0,allowInline:!1},inlineListSuggester:{type:"inlineListSuggester",allowInBlock:!0,allowInline:!0},inlineList:{type:"inlineList",allowInBlock:!0,allowInline:!0},imageListSuggester:{type:"imageListSuggester",allowInBlock:!0,allowInline:!1},dateTime:{type:"dateTime",allowInBlock:!0,allowInline:!0},invalid:{type:"invalid",allowInBlock:!1,allowInline:!1}};var fr={addLabels:{type:"addLabels",allowedFieldTypes:["slider","progressBar"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},defaultValue:{type:"defaultValue",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},maxValue:{type:"maxValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the maximally allowed value"}]],allowMultiple:!1},minValue:{type:"minValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the minimally allowed value"}]],allowMultiple:!1},stepSize:{type:"stepSize",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the step size for sliders"}]],allowMultiple:!1},offValue:{type:"offValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},onValue:{type:"onValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},option:{type:"option",allowedFieldTypes:["select","multiSelect","suggester","imageSuggester","inlineSelect","listSuggester","inlineListSuggester","imageListSuggester"],values:[[{name:"value",allowed:[],description:"the value and display name of the option"}],[{name:"value",allowed:[],description:"the value of the option"},{name:"name",allowed:[],description:"the display name of the option"}]],allowMultiple:!0},optionQuery:{type:"optionQuery",allowedFieldTypes:["suggester","imageSuggester","listSuggester","inlineListSuggester","imageListSuggester"],values:[[{name:"value",allowed:[],description:"the query for options"}]],allowMultiple:!0},placeholder:{type:"placeholder",allowedFieldTypes:["text","textArea","number","list","inlineList"],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},showcase:{type:"showcase",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},title:{type:"title",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},useLinks:{type:"useLinks",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","partial","false"],description:""}]],allowMultiple:!1},limit:{type:"limit",allowedFieldTypes:["text","textArea","list","inlineList"],values:[[{name:"value",allowed:["number"],description:"a character limit for text fields"}]],allowMultiple:!1},multiLine:{type:"multiLine",allowedFieldTypes:["list"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},allowOther:{type:"allowOther",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},Jl=(a=>(a.MATH="math",a.TEXT="text",a.LINK="link",a.IMAGE="image",a.INVALID="invalid",a))(Jl||{}),Ns=(i=>(i.RENDER_MARKDOWN="renderMarkdown",i.HIDDEN="hidden",i.CLASS="class",i.INVALID="invalid",i))(Ns||{}),Au={renderMarkdown:{type:"renderMarkdown",allowedFieldTypes:["text"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},hidden:{type:"hidden",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},Xn=(t=>(t.INLINE="inline",t.BLOCK="block",t))(Xn||{}),If=8,Du=(u=>(u.INPUT_FIELD="INPUT_FIELD",u.VIEW_FIELD="VIEW_FIELD",u.JS_VIEW_FIELD="JS_VIEW_FIELD",u.BUTTON_GROUP="BUTTON_GROUP",u.BUTTON="BUTTON",u.EMBED="EMBED",u.EXCLUDED="EXCLUDED",u))(Du||{});function Bf(r){return r==="INPUT_FIELD"||r==="VIEW_FIELD"||r==="BUTTON_GROUP"}var cn=class extends Error{constructor(e){super(""),this.errorLevel=e.errorLevel,this.effect=e.effect,this.cause=e.cause,this.tip=e.tip,this.docs=e.docs,this.context=e.context,this.positionContext=e.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}},Ot=class extends cn{getErrorType(){return"MB_INTERNAL"}},Xa=class extends cn{getErrorType(){return"MB_PARSING"}},Mo=class extends cn{getErrorType(){return"MB_VALIDATION"}},Pf=class extends cn{getErrorType(){return"MB_BIND_TARGET"}};var _r=class extends cn{getErrorType(){return"MB_ARGUMENT"}},Xl=class extends cn{getErrorType(){return"MB_JS"}},sa=class extends cn{getErrorType(){return"MB_EXPRESSION"}};var Ql=class extends cn{getErrorType(){return"MB_EXAMPLE"}},Cs=class extends cn{getErrorType(){return"MB_EMBED"}},Qa=class extends cn{getErrorType(){return"MB_BUTTON"}},Ts=class extends cn{getErrorType(){return"MB_DEPENDENCY"}};var Ka=class{static get(e,t){return t.get(e).child}static tryGet(e,t){var n;return(n=t.tryGet(e))==null?void 0:n.child}static fullGet(e,t){return t.get(e)}static set(e,t,n){t.set(e,n)}static setAndCreate(e,t,n){t.setAndCreate(e,n)}};var Eu=class{constructor(e,t){this.id=e,this.manager=t,this.cache=new Map}validateStoragePath(e,t,n,i){return i.validateStoragePathAsFilePath(e,n)}resolveBindTargetScope(e,t,n){return e}createCacheItem(e){let t=this.cache.get(e);if(t!==void 0)throw new Ot({errorLevel:"CRITICAL",effect:"can not create cache item",cause:"cache item already exists"});return t=this.getDefaultCacheItem(e),this.cache.set(e,t),t}getOrCreateCacheItem(e){let t=this.getCacheItemForStoragePath(e);return t===void 0&&(t=this.getDefaultCacheItem(e),this.cache.set(e,t)),t}subscribe(e){if(e.bindTarget===void 0)throw new Ot({errorLevel:"CRITICAL",effect:"can not subscribe",cause:"subscription bind target undefined"});let t=this.getOrCreateCacheItem(e.bindTarget.storagePath);return t.subscriptions.push(e),t}unsubscribe(e){if(e.bindTarget===void 0)throw new Ot({errorLevel:"CRITICAL",effect:"can not unsubscribe",cause:"subscription bind target undefined"});let t=this.cache.get(e.bindTarget.storagePath);if(t===void 0)throw new Ot({errorLevel:"CRITICAL",effect:"can not unsubscribe",cause:"cache item does not exist"});return t.subscriptions=t.subscriptions.filter(n=>n.uuid!==e.uuid),t}getCacheItemForStoragePath(e){return this.cache.get(e)}onCycle(e){}iterateCacheItems(){return this.cache.values()}shouldDelete(e){return!0}deleteCache(e){this.cache.delete(e.storagePath)}updateCache(e,t){let n=this.getOrCreateCacheItem(t.storagePath);return Ka.setAndCreate(n.data,t.storageProp,e),n}updateEntireCache(e,t){t.data=e}readCache(e){if(e.storageType!==this.id)throw new Ot({errorLevel:"ERROR",effect:"can not read cache",cause:`Source "${e.storageType}" does not match`});let t=this.getCacheItemForStoragePath(e.storagePath);return t===void 0?Ka.tryGet(this.readExternal(e.storagePath),e.storageProp):this.readCacheItem(t,e.storageProp)}readCacheItem(e,t){return Ka.tryGet(e.data,t)}readEntireCacheItem(e){return e.data}};function dn(r,e){let t=r.tryParse(e);if(t.success)return t.value;throw new Kl("ERROR","parsiNOM parser",e,t)}var Kl=class extends cn{constructor(e,t,n,i){super({errorLevel:e,effect:"failed to parse",cause:`expected ${i.expected.sort().join(" or ")}`}),this.str=n,this.parseFailure=i,this.source=t,this.updateMessage2()}getErrorType(){return"MB_PARSINOM"}updateMessage2(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`;let t=this.str.split(`
`)[this.parseFailure.furthest.line-1],n=`${this.parseFailure.furthest.line} |   `;this.positionContext=`${n}${t}`,this.positionContext+=`
${this.getUnderline(n.length)}
`,this.message+=`
`+this.positionContext}getUnderline(e){let t=" ".repeat(this.parseFailure.furthest.column+e-1),n=`^ (${this.cause})`;return t+n}},fn=class extends cn{constructor(e,t,n,i,a,o){super({errorLevel:e,effect:"failed to validate parser result",cause:n,docs:o}),this.str=i,this.position=a,this.source=t,this.updateMessage2()}getErrorType(){return"MB_VALIDATION"}updateMessage2(){if(this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`,this.str&&this.position){let t=this.str.split(`
`)[this.position.from.line-1],n=`${this.position.from.line} |   `;this.positionContext=`${n}${t}`,this.positionContext+=`
${this.getUnderline(n.length,t.length)}
`,this.message+=`
`+this.positionContext}}getUnderline(e,t){if(this.position===void 0)return"";let n=" ".repeat(this.position.from.column+e-1),i=this.position.to.line===this.position.from.line?this.position.to.column:t,a="^".repeat(i-this.position.from.column);return n+a}};var Of=class extends Eu{readExternal(e){return{}}getDefaultCacheItem(e){return{data:{},storagePath:e,...this.manager.getDefaultCacheItem()}}async syncExternal(e){}},kf=class{constructor(e,t){this.id=e,this.manager=t,this.cache={data:{},...this.manager.getDefaultCacheItem()}}createCacheItem(e){return this.cache}getOrCreateCacheItem(e){return this.cache}validateStoragePath(e,t,n,i){if(t)throw new fn("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage type 'global_memory' does not support a storage path.",n,e.position);return""}resolveBindTargetScope(e,t,n){return e}deleteCache(e){}getCacheItemForStoragePath(e){return this.cache}iterateCacheItems(){return[this.cache][Symbol.iterator]()}onCycle(e){}readCache(e){return this.readCacheItem(this.cache,e.storageProp)}readCacheItem(e,t){return Ka.tryGet(e.data,t)}shouldDelete(e){return!1}subscribe(e){return this.cache.subscriptions.push(e),this.cache}syncExternal(e){}unsubscribe(e){return this.cache.subscriptions=this.cache.subscriptions.filter(t=>t.uuid!==e.uuid),this.cache}updateCache(e,t){return Ka.setAndCreate(this.cache.data,t.storageProp,e),this.cache}updateEntireCache(e,t){t.data=e}readEntireCacheItem(e){return e.data}},Rf=class{constructor(e,t){this.id=e,this.manager=t}createCacheItem(e){throw new Ot({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}getOrCreateCacheItem(e){throw new Ot({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}validateStoragePath(e,t,n,i){if(t)throw new fn("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage type 'scope' does not support a storage path.",n,e.position);return""}resolveBindTargetScope(e,t,n){return n.resolveScope(e,t)}deleteCache(e){}getCacheItemForStoragePath(e){}iterateCacheItems(){return[][Symbol.iterator]()}onCycle(e){}readCache(e){}readCacheItem(e,t){}shouldDelete(e){return!0}subscribe(e){throw new Ot({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}syncExternal(e){}unsubscribe(e){throw new Ot({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}updateCache(e,t){throw new Ot({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}updateEntireCache(e,t){}readEntireCacheItem(e){throw new Ot({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}};function ec(r,e,t){return Math.min(Math.max(r,e),t)}function Lf(r,e,t){return r!==void 0?Math.min(Math.max(r,e),t):void 0}function Sg(r,e,t,n,i){return(r-e)/(t-e)*(i-n)+n}function Ag(r,e){return(r%e+e)%e}function aE(r,e){if(r==null&&e==null)return!0;if(r==null||e==null||r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Dg(r,e){for(let t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0}function oE(r){return!!r}function Eg(r){let e=Reflect.ownKeys(r);for(let t of e){let n=r[t];(n&&typeof n=="object"||typeof n=="function")&&Eg(n)}return Object.freeze(r)}function sE(r){return structuredClone(r)}function pr(){return window.crypto.randomUUID()}function Nu(r){try{return new URL(r),!0}catch(e){return!1}}function Vf(r){window.open(r,"_blank")}function uE(r,e,t=", ",n="and"){return r.length===0?"":(r=r.map(e),r.length===1?r[0]:r.length===2?`${r[0]} ${n} ${r[1]}`:`${r.slice(0,-1).join(t)} ${n} ${r.slice(-1)}`)}function kn(r,e){r.innerHTML="",r.className="";let t=document.createElement("span");t.className="mb-warning mb-unloaded",t.innerText=`[MB_UNLOADED] ${e}`,r.appendChild(t)}var ft=class{static createElement(e,t,n){let i=document.createElement(t);return n!=null&&n.text&&(i.innerText=n.text),n!=null&&n.class&&(i.className=n.class),e.appendChild(i),i}static addClass(e,t){e.classList.add(...t.split(" "))}static addClasses(e,t){e.classList.add(...t)}static removeClass(e,t){e.classList.remove(...t.split(" "))}static hasClass(e,t){return e.classList.contains(t)}static removeAllClasses(e){e.className=""}static empty(e){for(;e.lastChild;)e.removeChild(e.lastChild)}};var Uf=class{constructor(e,t,n,i,a,o,u){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i,this.dependencies=a,this.dependencySubscriptions=[],this.computeFunction=o,this.onDelete=u,this.deleted=!1}init(){for(let e of this.dependencies){let t=this.uuid+"/"+pr();this.dependencySubscriptions.push(this.metadataManager.subscribe(t,e.callbackSignal,e.bindTarget,()=>this.delete())),e.callbackSignal.registerListener({callback:()=>void this.computeValue()})}this.computeValue()}async computeValue(){try{let e=this.dependencySubscriptions.map(n=>n.callbackSignal.get()),t=await this.computeFunction(e);this.callbackSignal.set(t),this.bindTarget!==void 0&&this.metadataManager.write(t,this.bindTarget,this.uuid)}catch(e){let t=e instanceof Error?e:String(e);console.warn(new Ot({errorLevel:"ERROR",effect:"Failed to compute value of computed subscription",cause:t}))}}unsubscribe(){for(let e of this.dependencySubscriptions)e.unsubscribe();this.metadataManager.unsubscribe(this)}notify(e){}getDependencies(){return this.dependencies}delete(){this.deleted=!0;for(let e of this.dependencySubscriptions)e.deleted||e.delete();this.onDelete(),this.unsubscribe()}};var $f=class{constructor(e,t,n,i,a){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i,this.onDelete=a,this.deleted=!1}unsubscribe(){this.metadataManager.unsubscribe(this)}update(e){this.metadataManager.write(e,this.bindTarget,this.uuid)}notify(e){try{this.callbackSignal.set(e)}catch(t){let n=t instanceof Error?t:String(t);console.warn(new Ot({errorLevel:"ERROR",effect:"Failed to notify subscription of updated value in the cache",cause:n}))}}getDependencies(){return[]}delete(){this.deleted=!0,this.onDelete()}};var lE=5,M7=5*60;function Ng(r,e){return r===void 0||e===void 0||r.storageType!==e.storageType||r.storagePath!==e.storagePath?!1:cE(r.storageProp.toStringArray(),e.storageProp.toStringArray(),e.listenToChildren)}function cE(r,e,t){return aE(r,e)||Dg(e,r)?!0:t&&Dg(r,e)}function F7(r){return r===void 0?"undefined":`${r.storagePath}#${r.storageProp.toString()}`}var qf=class{constructor(){this.sources=new Map,this.defaultSource="CHANGE_THE_DEFAULT_SOURCE"}registerSource(e){this.sources.set(e.id,e)}setDefaultSource(e){if(this.sources.has(e))this.defaultSource=e;else throw new Ot({errorLevel:"CRITICAL",effect:"can not set default source",cause:`Source "${e}" does not exist`})}unregisterSource(e){this.sources.delete(e.id)}getSource(e){return this.sources.get(e)}iterateSources(){return this.sources.keys()}subscribe(e,t,n,i){let a=new $f(e,t,this,n,i);return this.subscribeSubscription(a),a}subscribeComputed(e,t,n,i,a,o){let u=new Uf(e,t,this,n,i,a,o);return this.checkForLoops(u),u.init(),this.subscribeSubscription(u),u}unsubscribe(e){if(e.bindTarget===void 0)return;let t=this.getSource(e.bindTarget.storageType);if(t===void 0)throw new Ot({errorLevel:"ERROR",effect:"can not unsubscribe subscription",cause:`Source "${e.bindTarget.storageType}" does not exist`});let n=t.unsubscribe(e);n.subscriptions.length===0&&(n.inactive=!0)}subscribeSubscription(e){if(e.bindTarget===void 0)return;let t=this.getSource(e.bindTarget.storageType);if(t===void 0)throw new Ot({errorLevel:"ERROR",effect:"can not subscribe subscription",cause:`Source "${e.bindTarget.storageType}" does not exist`});let n=t.subscribe(e);n.inactive=!1,n.cyclesSinceInactive=0,e.notify(t.readCacheItem(n,e.bindTarget.storageProp))}checkForLoops(e){for(let t of this.getAllSubscriptionsToDependencies(e))this.recCheckForLoops([e,t])}recCheckForLoops(e){let t=e.at(0),n=e.at(-1);if(!(n===void 0||t===void 0)){if(Ng(t.bindTarget,n.bindTarget))throw new Pf({errorLevel:"ERROR",effect:"bind target dependency loop detected",cause:`the loop is as follows: ${e.map(i=>`"${F7(i.bindTarget)}"`).join(" -> ")}`,docs:["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/#circular-dependencies"]});for(let i of this.getAllSubscriptionsToDependencies(n))this.recCheckForLoops([...e,i])}}getAllSubscriptionsToDependencies(e){return e.getDependencies().map(t=>this.getAllSubscriptionsToBindTarget(t.bindTarget)).flat()}getAllSubscriptionsToBindTarget(e){if(e===void 0)return[];let t=this.getCacheItemForBindTarget(e);if(!t)return[];let n=[];for(let i of t.subscriptions)Ng(i.bindTarget,e)&&n.push(i);return t.subscriptions.filter(i=>Ng(i.bindTarget,e))}getCacheItemForBindTarget(e){var t;return(t=this.getSource(e.storageType))==null?void 0:t.getCacheItemForStoragePath(e.storagePath)}cycle(){for(let e of this.sources.values()){let t=[];for(let n of e.iterateCacheItems()){if(e.onCycle(n),n.pendingInternalChange){try{e.syncExternal(n)}catch(i){console.warn("failed to update frontmatter",i)}n.pendingInternalChange=!1}n.cyclesSinceInternalChange+=1,n.inactive&&(n.cyclesSinceInactive+=1),n.cyclesSinceInactive>M7&&e.shouldDelete(n)&&t.push(n)}for(let n of t)e.deleteCache(n)}}write(e,t,n){let i=this.getSource(t.storageType);if(i===void 0)throw new Ot({errorLevel:"ERROR",effect:"can not update metadata",cause:`Source "${t.storageType}" does not exist`});let a=i.updateCache(e,t);a.pendingInternalChange=!0,a.cyclesSinceInternalChange=0,this.notifyListeners(t,n)}read(e){let t=this.getSource(e.storageType);if(t===void 0)throw new Ot({errorLevel:"ERROR",effect:"can not read metadata",cause:`Source "${e.storageType}" does not exist`});return t.readCache(e)}isCacheExternalWriteLocked(e){return e.cyclesSinceInternalChange<lE}notifyListeners(e,t){let n=this.getSource(e.storageType);if(n===void 0)throw new Ot({errorLevel:"ERROR",effect:"can notify listeners metadata",cause:`Source "${e.storageType}" does not exist`});let i=n.getCacheItemForStoragePath(e.storagePath);if(i!==void 0){for(let a of i.subscriptions)if(!(t!==void 0&&t===a.uuid||a.bindTarget===void 0)&&cE(e.storageProp.toStringArray(),a.bindTarget.storageProp.toStringArray(),a.bindTarget.listenToChildren)){let o=n.readCache(a.bindTarget);a.notify(o)}}}notifyAllListeners(e,t){for(let n of t.subscriptions){if(n.bindTarget===void 0)continue;let i=e.readCache(n.bindTarget);n.notify(i)}}deleteCachesForStoragePath(e){for(let t of this.sources.values()){let n=t.getCacheItemForStoragePath(e);n!==void 0&&(n.subscriptions.forEach(i=>i.delete()),t.deleteCache(n))}}getDefaultCacheItem(){return{subscriptions:[],cyclesSinceInternalChange:lE+1,pendingInternalChange:!1,cyclesSinceInactive:0,inactive:!0}}onExternalUpdate(e,t,n){let i=e.getCacheItemForStoragePath(t);i===void 0||this.isCacheExternalWriteLocked(i)||(e.updateEntireCache(n,i),this.notifyAllListeners(e,i))}onStoragePathDeleted(e){this.deleteCachesForStoragePath(e)}onStoragePathRenamed(e,t){this.deleteCachesForStoragePath(e)}};var Tg=hr(tc()),Rn=class r{static stringify(e){return e.format(this.dateFormat)}static parse(e){return(0,Tg.default)(e,r.dateFormat)}static getDefaultDate(){return(0,Tg.default)(new Date)}static getDefaultDay(){return new Date().getDate()}static getDefaultMonth(){return 1}static getDefaultYear(){return new Date().getFullYear()}};var fE=hr(tc());var Mg=Es[1];function pE(r){Mg=r}function Fg(r){return iE[r]}function mE(r,e){let t=(0,fE.default)(new Date(e,r)).daysInMonth(),n=new Array(42).fill(0),i=I7(new Date(e,r,1));for(let a=0;a<t;a++)n[a+i]=a+1;return n=n[n.length-7]?n:n.slice(0,-7),n=n[n.length-7]?n:n.slice(0,-7),n}function I7(r){return Ag(r.getDay()-Mg.index,7)}function dE(){return Es.map(e=>({index:Ag(e.index-Mg.index,7),name:e.name,shortName:e.shortName})).sort((e,t)=>e.index-t.index).map(e=>e.shortName)}function hE(){let r=0;return()=>++r}var bE=require("obsidian");var gE={date:"date",datePicker:"datePicker",dateTime:"dateTime",editor:"editor",imageSuggester:'imageSuggester(optionQuery(""))',imageListSuggester:'imageListSuggester(optionQuery(""))',inlineList:"inlineList",inlineListSuggester:"inlineListSuggester(option(apple), option(banana), option(lemon))",inlineSelect:"inlineSelect(option(apple), option(banana), option(lemon))",list:"list",listSuggester:"listSuggester(option(apple), option(banana), option(lemon))",multiSelect:"multiSelect(option(apple), option(banana), option(lemon))",number:"number",progressBar:"progressBar",select:"select(option(apple), option(banana), option(lemon))",slider:"slider(addLabels)",suggester:"suggester(option(apple), option(banana), option(lemon))",text:"text",textArea:"textArea",time:"time",toggle:"toggle",invalid:""},zf={image:[{title:"Image",declaration:"VIEW[{globalMemory^MB_VF_image_example}][image]",display:"VIEW[{imageExampleProperty}][image]",inputField:'INPUT[imageSuggester(optionQuery("")):globalMemory^MB_VF_image_example]'}],link:[{title:"Link",declaration:"VIEW[{globalMemory^MB_VF_link_example}][link]",display:"VIEW[{linkExampleProperty}][link]",inputField:'INPUT[suggester(optionQuery("")):globalMemory^MB_VF_link_example]'}],math:[{title:"Math",declaration:"VIEW[{globalMemory^MB_VF_math_example} + 2][math]",display:"VIEW[{mathExampleProperty} + 2][math]",inputField:"INPUT[number:globalMemory^MB_VF_math_example]"}],text:[{title:"Text",declaration:"VIEW[some text {globalMemory^MB_VF_text_example}][text]",display:"VIEW[some text {textExampleProperty}][text]",inputField:"INPUT[text:globalMemory^MB_VF_text_example]"},{title:"Markdown",declaration:"VIEW[**some markdown** {globalMemory^MB_VF_text_markdown_example}][text(renderMarkdown)]",display:"VIEW[**some markdown** {markdownExampleProperty}][text(renderMarkdown)]",inputField:"INPUT[text:globalMemory^MB_VF_text_markdown_example]"}],invalid:[]};function Ig(r){let e=[];for(let[t,n]of Object.entries(gE)){if(n==="")continue;let i=r.api.inputFieldParser.fromString(`INPUT[${n}]`),a=r.api.inputFieldParser.fromSimpleDeclaration({inputFieldType:void 0,templateName:void 0,bindTarget:void 0,arguments:[{name:"showcase",value:["true"]},{name:"title",value:[t]}]});i=r.api.inputFieldParser.merge(i,a),i.declarationString=`INPUT[${n}]`;let o=r.api.inputFieldParser.validate(i,"",void 0);e.push([t,o])}return e}function vE(r){let e=[];for(let[t,n]of Object.entries(gE)){if(n==="")continue;let i=t,a="";Ff[i].allowInline?a=`\`INPUT[${n}:exampleProperty]\``:a=`
\`\`\`meta-bind
INPUT[${n}:exampleProperty]
\`\`\`
`,e.push([i,a])}return e.sort((t,n)=>t[0].localeCompare(n[0])),e}function yE(r){let e=[];for(let t of Object.values(zf))for(let n of t)e.push([n.title,`\`${n.declaration}]\``]);return e.sort((t,n)=>t[0].localeCompare(n[0])),e}function xE(r,e,t){let n=vE(t),i=yE(t);r.addItem(a=>{a.setTitle("Meta Bind"),a.setIcon("blocks");let o=a.setSubmenu();o.addItem(u=>{u.setTitle("Input Field");let s=u.setSubmenu();for(let[l,c]of n)s.addItem(f=>{f.setTitle(l),f.onClick(()=>Hf(e,c))})}),o.addItem(u=>{u.setTitle("View Field");let s=u.setSubmenu();for(let[l,c]of i)s.addItem(f=>{f.setTitle(l),f.onClick(()=>Hf(e,c))})}),o.addItem(u=>{u.setTitle("Inline Button"),u.onClick(()=>{Hf(e,"`BUTTON[example-id]`")})}),o.addItem(u=>{u.setTitle("Button"),u.onClick(()=>{t.internal.openButtonBuilderModal({onOkay:s=>{Hf(e,`\`\`\`meta-bind-button
${(0,bE.stringifyYaml)(s)}
\`\`\``)},submitText:"Insert"})})})})}function Hf(r,e){r.replaceSelection(e)}var Gf=class{constructor(){this.activeMDRCs=new Map}unloadFile(e){for(let t of this.activeMDRCs.values())t.filePath===e&&(console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${t.uuid}`),t.unload())}unload(){for(let e of this.activeMDRCs.values())console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),e.unload()}registerMDRC(e){console.debug(`meta-bind | MDRCManager >> registered MDRC ${e.uuid}`),this.activeMDRCs.set(e.uuid,e)}unregisterMDRC(e){console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),this.activeMDRCs.delete(e.uuid)}};var Vg=require("obsidian");var yr;(function(r){r.assertEqual=i=>i;function e(i){}r.assertIs=e;function t(i){throw new Error}r.assertNever=t,r.arrayToEnum=i=>{let a={};for(let o of i)a[o]=o;return a},r.getValidEnumValues=i=>{let a=r.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),o={};for(let u of a)o[u]=i[u];return r.objectValues(o)},r.objectValues=i=>r.objectKeys(i).map(function(a){return i[a]}),r.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},r.find=(i,a)=>{for(let o of i)if(a(o))return o},r.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}r.joinValues=n,r.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(yr||(yr={}));var Pg;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Pg||(Pg={}));var pt=yr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fo=r=>{switch(typeof r){case"undefined":return pt.undefined;case"string":return pt.string;case"number":return isNaN(r)?pt.nan:pt.number;case"boolean":return pt.boolean;case"function":return pt.function;case"bigint":return pt.bigint;case"symbol":return pt.symbol;case"object":return Array.isArray(r)?pt.array:r===null?pt.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?pt.promise:typeof Map!="undefined"&&r instanceof Map?pt.map:typeof Set!="undefined"&&r instanceof Set?pt.set:typeof Date!="undefined"&&r instanceof Date?pt.date:pt.object;default:return pt.unknown}},rt=yr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),B7=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),_i=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(a){return a.message},n={_errors:[]},i=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(t(o));else{let u=n,s=0;for(;s<o.path.length;){let l=o.path[s];s===o.path.length-1?(u[l]=u[l]||{_errors:[]},u[l]._errors.push(t(o))):u[l]=u[l]||{_errors:[]},u=u[l],s++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,yr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};_i.create=r=>new _i(r);var rc=(r,e)=>{let t;switch(r.code){case rt.invalid_type:r.received===pt.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case rt.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,yr.jsonStringifyReplacer)}`;break;case rt.unrecognized_keys:t=`Unrecognized key(s) in object: ${yr.joinValues(r.keys,", ")}`;break;case rt.invalid_union:t="Invalid input";break;case rt.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${yr.joinValues(r.options)}`;break;case rt.invalid_enum_value:t=`Invalid enum value. Expected ${yr.joinValues(r.options)}, received '${r.received}'`;break;case rt.invalid_arguments:t="Invalid function arguments";break;case rt.invalid_return_type:t="Invalid function return type";break;case rt.invalid_date:t="Invalid date";break;case rt.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:yr.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case rt.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case rt.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case rt.custom:t="Invalid input";break;case rt.invalid_intersection_types:t="Intersection results could not be merged";break;case rt.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case rt.not_finite:t="Number must be finite";break;default:t=e.defaultError,yr.assertNever(r)}return{message:t}},SE=rc;function P7(r){SE=r}function Yf(){return SE}var jf=r=>{let{data:e,path:t,errorMaps:n,issueData:i}=r,a=[...t,...i.path||[]],o={...i,path:a},u="",s=n.filter(l=>!!l).slice().reverse();for(let l of s)u=l(o,{data:e,defaultError:u}).message;return{...i,path:a,message:i.message||u}},O7=[];function ht(r,e){let t=jf({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Yf(),rc].filter(n=>!!n)});r.common.issues.push(t)}var Ln=class r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let i of t){if(i.status==="aborted")return jt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let i of t)n.push({key:await i.key,value:await i.value});return r.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let i of t){let{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return jt;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value!="undefined"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}},jt=Object.freeze({status:"aborted"}),AE=r=>({status:"dirty",value:r}),Qn=r=>({status:"valid",value:r}),Og=r=>r.status==="aborted",kg=r=>r.status==="dirty",nc=r=>r.status==="valid",Zf=r=>typeof Promise!="undefined"&&r instanceof Promise,Tt;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Tt||(Tt={}));var Ui=class{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},wE=(r,e)=>{if(nc(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new _i(r.common.issues);return this._error=t,this._error}}};function Qt(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:i}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,u)=>o.code!=="invalid_type"?{message:u.defaultError}:typeof u.data=="undefined"?{message:n!=null?n:u.defaultError}:{message:t!=null?t:u.defaultError},description:i}}var Kt=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Fo(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Fo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ln,ctx:{common:e.parent.common,data:e.data,parsedType:Fo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(Zf(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let i={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fo(e)},a=this._parseSync({data:e,path:i.path,parent:i});return wE(i,a)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fo(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Zf(i)?i:Promise.resolve(i));return wE(n,a)}refine(e,t){let n=i=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,a)=>{let o=e(i),u=()=>a.addIssue({code:rt.custom,...n(i)});return typeof Promise!="undefined"&&o instanceof Promise?o.then(s=>s?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(e,t){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof t=="function"?t(n,i):t),!1))}_refinement(e){return new Si({schema:this,typeName:kt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ua.create(this,this._def)}nullable(){return ro.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return to.create(this,this._def)}promise(){return Po.create(this,this._def)}or(e){return ks.create([this,e],this._def)}and(e){return Rs.create(this,e,this._def)}transform(e){return new Si({...Qt(this._def),schema:this,typeName:kt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new qs({...Qt(this._def),innerType:this,defaultValue:t,typeName:kt.ZodDefault})}brand(){return new Kf({typeName:kt.ZodBranded,type:this,...Qt(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new Pu({...Qt(this._def),innerType:this,catchValue:t,typeName:kt.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ic.create(this,e)}readonly(){return ku.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},k7=/^c[^\s-]{8,}$/i,R7=/^[a-z][a-z0-9]*$/,L7=/^[0-9A-HJKMNP-TV-Z]{26}$/,V7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,U7=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Bg,q7=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,z7=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,H7=r=>r.precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function G7(r,e){return!!((e==="v4"||!e)&&q7.test(r)||(e==="v6"||!e)&&z7.test(r))}var Io=class r extends Kt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pt.string){let a=this._getOrReturnCtx(e);return ht(a,{code:rt.invalid_type,expected:pt.string,received:a.parsedType}),jt}let n=new Ln,i;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),ht(i,{code:rt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),ht(i,{code:rt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let o=e.data.length>a.value,u=e.data.length<a.value;(o||u)&&(i=this._getOrReturnCtx(e,i),o?ht(i,{code:rt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&ht(i,{code:rt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")U7.test(e.data)||(i=this._getOrReturnCtx(e,i),ht(i,{validation:"email",code:rt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Bg||(Bg=new RegExp($7,"u")),Bg.test(e.data)||(i=this._getOrReturnCtx(e,i),ht(i,{validation:"emoji",code:rt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")V7.test(e.data)||(i=this._getOrReturnCtx(e,i),ht(i,{validation:"uuid",code:rt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")k7.test(e.data)||(i=this._getOrReturnCtx(e,i),ht(i,{validation:"cuid",code:rt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")R7.test(e.data)||(i=this._getOrReturnCtx(e,i),ht(i,{validation:"cuid2",code:rt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")L7.test(e.data)||(i=this._getOrReturnCtx(e,i),ht(i,{validation:"ulid",code:rt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch(o){i=this._getOrReturnCtx(e,i),ht(i,{validation:"url",code:rt.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ht(i,{validation:"regex",code:rt.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),ht(i,{code:rt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),ht(i,{code:rt.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),ht(i,{code:rt.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?H7(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ht(i,{code:rt.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?G7(e.data,a.version)||(i=this._getOrReturnCtx(e,i),ht(i,{validation:"ip",code:rt.invalid_string,message:a.message}),n.dirty()):yr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(i=>e.test(i),{validation:t,code:rt.invalid_string,...Tt.errToObj(n)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Tt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Tt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Tt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Tt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Tt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Tt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Tt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Tt.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...Tt.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Tt.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Tt.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Tt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Tt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Tt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Tt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Tt.errToObj(t)})}nonempty(e){return this.min(1,Tt.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Io.create=r=>{var e;return new Io({checks:[],typeName:kt.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Qt(r)})};function W7(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=t>n?t:n,a=parseInt(r.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}var Ms=class r extends Kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pt.number){let a=this._getOrReturnCtx(e);return ht(a,{code:rt.invalid_type,expected:pt.number,received:a.parsedType}),jt}let n,i=new Ln;for(let a of this._def.checks)a.kind==="int"?yr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ht(n,{code:rt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),ht(n,{code:rt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),ht(n,{code:rt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?W7(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),ht(n,{code:rt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ht(n,{code:rt.not_finite,message:a.message}),i.dirty()):yr.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Tt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Tt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Tt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Tt.toString(t))}setLimit(e,t,n,i){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Tt.toString(i)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Tt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Tt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Tt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Tt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Tt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Tt.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&yr.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};Ms.create=r=>new Ms({checks:[],typeName:kt.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Qt(r)});var Fs=class r extends Kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==pt.bigint){let a=this._getOrReturnCtx(e);return ht(a,{code:rt.invalid_type,expected:pt.bigint,received:a.parsedType}),jt}let n,i=new Ln;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),ht(n,{code:rt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),ht(n,{code:rt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ht(n,{code:rt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):yr.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Tt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Tt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Tt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Tt.toString(t))}setLimit(e,t,n,i){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Tt.toString(i)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Tt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Tt.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Fs.create=r=>{var e;return new Fs({checks:[],typeName:kt.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Qt(r)})};var Is=class extends Kt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pt.boolean){let n=this._getOrReturnCtx(e);return ht(n,{code:rt.invalid_type,expected:pt.boolean,received:n.parsedType}),jt}return Qn(e.data)}};Is.create=r=>new Is({typeName:kt.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Qt(r)});var Bs=class r extends Kt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pt.date){let a=this._getOrReturnCtx(e);return ht(a,{code:rt.invalid_type,expected:pt.date,received:a.parsedType}),jt}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return ht(a,{code:rt.invalid_date}),jt}let n=new Ln,i;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),ht(i,{code:rt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),ht(i,{code:rt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):yr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Tt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Tt.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};Bs.create=r=>new Bs({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:kt.ZodDate,...Qt(r)});var Mu=class extends Kt{_parse(e){if(this._getType(e)!==pt.symbol){let n=this._getOrReturnCtx(e);return ht(n,{code:rt.invalid_type,expected:pt.symbol,received:n.parsedType}),jt}return Qn(e.data)}};Mu.create=r=>new Mu({typeName:kt.ZodSymbol,...Qt(r)});var Ps=class extends Kt{_parse(e){if(this._getType(e)!==pt.undefined){let n=this._getOrReturnCtx(e);return ht(n,{code:rt.invalid_type,expected:pt.undefined,received:n.parsedType}),jt}return Qn(e.data)}};Ps.create=r=>new Ps({typeName:kt.ZodUndefined,...Qt(r)});var Os=class extends Kt{_parse(e){if(this._getType(e)!==pt.null){let n=this._getOrReturnCtx(e);return ht(n,{code:rt.invalid_type,expected:pt.null,received:n.parsedType}),jt}return Qn(e.data)}};Os.create=r=>new Os({typeName:kt.ZodNull,...Qt(r)});var Bo=class extends Kt{constructor(){super(...arguments),this._any=!0}_parse(e){return Qn(e.data)}};Bo.create=r=>new Bo({typeName:kt.ZodAny,...Qt(r)});var eo=class extends Kt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Qn(e.data)}};eo.create=r=>new eo({typeName:kt.ZodUnknown,...Qt(r)});var la=class extends Kt{_parse(e){let t=this._getOrReturnCtx(e);return ht(t,{code:rt.invalid_type,expected:pt.never,received:t.parsedType}),jt}};la.create=r=>new la({typeName:kt.ZodNever,...Qt(r)});var Fu=class extends Kt{_parse(e){if(this._getType(e)!==pt.undefined){let n=this._getOrReturnCtx(e);return ht(n,{code:rt.invalid_type,expected:pt.void,received:n.parsedType}),jt}return Qn(e.data)}};Fu.create=r=>new Fu({typeName:kt.ZodVoid,...Qt(r)});var to=class r extends Kt{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==pt.array)return ht(t,{code:rt.invalid_type,expected:pt.array,received:t.parsedType}),jt;if(i.exactLength!==null){let o=t.data.length>i.exactLength.value,u=t.data.length<i.exactLength.value;(o||u)&&(ht(t,{code:o?rt.too_big:rt.too_small,minimum:u?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(ht(t,{code:rt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(ht(t,{code:rt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((o,u)=>i.type._parseAsync(new Ui(t,o,t.path,u)))).then(o=>Ln.mergeArray(n,o));let a=[...t.data].map((o,u)=>i.type._parseSync(new Ui(t,o,t.path,u)));return Ln.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:Tt.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:Tt.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:Tt.toString(t)}})}nonempty(e){return this.min(1,e)}};to.create=(r,e)=>new to({type:r,minLength:null,maxLength:null,exactLength:null,typeName:kt.ZodArray,...Qt(e)});function Tu(r){if(r instanceof ai){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=ua.create(Tu(n))}return new ai({...r._def,shape:()=>e})}else return r instanceof to?new to({...r._def,type:Tu(r.element)}):r instanceof ua?ua.create(Tu(r.unwrap())):r instanceof ro?ro.create(Tu(r.unwrap())):r instanceof Ea?Ea.create(r.items.map(e=>Tu(e))):r}var ai=class r extends Kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=yr.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==pt.object){let l=this._getOrReturnCtx(e);return ht(l,{code:rt.invalid_type,expected:pt.object,received:l.parsedType}),jt}let{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof la&&this._def.unknownKeys==="strip"))for(let l in i.data)o.includes(l)||u.push(l);let s=[];for(let l of o){let c=a[l],f=i.data[l];s.push({key:{status:"valid",value:l},value:c._parse(new Ui(i,f,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof la){let l=this._def.unknownKeys;if(l==="passthrough")for(let c of u)s.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(l==="strict")u.length>0&&(ht(i,{code:rt.unrecognized_keys,keys:u}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let c of u){let f=i.data[c];s.push({key:{status:"valid",value:c},value:l._parse(new Ui(i,f,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let l=[];for(let c of s){let f=await c.key;l.push({key:f,value:await c.value,alwaysSet:c.alwaysSet})}return l}).then(l=>Ln.mergeObjectSync(n,l)):Ln.mergeObjectSync(n,s)}get shape(){return this._def.shape()}strict(e){return Tt.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var i,a,o,u;let s=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,t,n).message)!==null&&o!==void 0?o:n.defaultError;return t.code==="unrecognized_keys"?{message:(u=Tt.errToObj(e).message)!==null&&u!==void 0?u:s}:{message:s}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:kt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};return yr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}omit(e){let t={};return yr.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}deepPartial(){return Tu(this)}partial(e){let t={};return yr.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()}),new r({...this._def,shape:()=>t})}required(e){let t={};return yr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ua;)a=a._def.innerType;t[n]=a}}),new r({...this._def,shape:()=>t})}keyof(){return DE(yr.objectKeys(this.shape))}};ai.create=(r,e)=>new ai({shape:()=>r,unknownKeys:"strip",catchall:la.create(),typeName:kt.ZodObject,...Qt(e)});ai.strictCreate=(r,e)=>new ai({shape:()=>r,unknownKeys:"strict",catchall:la.create(),typeName:kt.ZodObject,...Qt(e)});ai.lazycreate=(r,e)=>new ai({shape:r,unknownKeys:"strip",catchall:la.create(),typeName:kt.ZodObject,...Qt(e)});var ks=class extends Kt{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function i(a){for(let u of a)if(u.result.status==="valid")return u.result;for(let u of a)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;let o=a.map(u=>new _i(u.ctx.common.issues));return ht(t,{code:rt.invalid_union,unionErrors:o}),jt}if(t.common.async)return Promise.all(n.map(async a=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let a,o=[];for(let s of n){let l={...t,common:{...t.common,issues:[]},parent:null},c=s._parseSync({data:t.data,path:t.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let u=o.map(s=>new _i(s));return ht(t,{code:rt.invalid_union,unionErrors:u}),jt}}get options(){return this._def.options}};ks.create=(r,e)=>new ks({options:r,typeName:kt.ZodUnion,...Qt(e)});var Wf=r=>r instanceof Ls?Wf(r.schema):r instanceof Si?Wf(r.innerType()):r instanceof Vs?[r.value]:r instanceof Us?r.options:r instanceof $s?Object.keys(r.enum):r instanceof qs?Wf(r._def.innerType):r instanceof Ps?[void 0]:r instanceof Os?[null]:null,Jf=class r extends Kt{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==pt.object)return ht(t,{code:rt.invalid_type,expected:pt.object,received:t.parsedType}),jt;let n=this.discriminator,i=t.data[n],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(ht(t,{code:rt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),jt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let i=new Map;for(let a of t){let o=Wf(a.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let u of o){if(i.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);i.set(u,a)}}return new r({typeName:kt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Qt(n)})}};function Rg(r,e){let t=Fo(r),n=Fo(e);if(r===e)return{valid:!0,data:r};if(t===pt.object&&n===pt.object){let i=yr.objectKeys(e),a=yr.objectKeys(r).filter(u=>i.indexOf(u)!==-1),o={...r,...e};for(let u of a){let s=Rg(r[u],e[u]);if(!s.valid)return{valid:!1};o[u]=s.data}return{valid:!0,data:o}}else if(t===pt.array&&n===pt.array){if(r.length!==e.length)return{valid:!1};let i=[];for(let a=0;a<r.length;a++){let o=r[a],u=e[a],s=Rg(o,u);if(!s.valid)return{valid:!1};i.push(s.data)}return{valid:!0,data:i}}else return t===pt.date&&n===pt.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var Rs=class extends Kt{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(Og(a)||Og(o))return jt;let u=Rg(a.value,o.value);return u.valid?((kg(a)||kg(o))&&t.dirty(),{status:t.value,value:u.data}):(ht(n,{code:rt.invalid_intersection_types}),jt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Rs.create=(r,e,t)=>new Rs({left:r,right:e,typeName:kt.ZodIntersection,...Qt(t)});var Ea=class r extends Kt{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pt.array)return ht(n,{code:rt.invalid_type,expected:pt.array,received:n.parsedType}),jt;if(n.data.length<this._def.items.length)return ht(n,{code:rt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),jt;!this._def.rest&&n.data.length>this._def.items.length&&(ht(n,{code:rt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...n.data].map((o,u)=>{let s=this._def.items[u]||this._def.rest;return s?s._parse(new Ui(n,o,n.path,u)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Ln.mergeArray(t,o)):Ln.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}};Ea.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ea({items:r,typeName:kt.ZodTuple,rest:null,...Qt(e)})};var Xf=class r extends Kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pt.object)return ht(n,{code:rt.invalid_type,expected:pt.object,received:n.parsedType}),jt;let i=[],a=this._def.keyType,o=this._def.valueType;for(let u in n.data)i.push({key:a._parse(new Ui(n,u,n.path,u)),value:o._parse(new Ui(n,n.data[u],n.path,u))});return n.common.async?Ln.mergeObjectAsync(t,i):Ln.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof Kt?new r({keyType:e,valueType:t,typeName:kt.ZodRecord,...Qt(n)}):new r({keyType:Io.create(),valueType:e,typeName:kt.ZodRecord,...Qt(t)})}},Iu=class extends Kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pt.map)return ht(n,{code:rt.invalid_type,expected:pt.map,received:n.parsedType}),jt;let i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([u,s],l)=>({key:i._parse(new Ui(n,u,n.path,[l,"key"])),value:a._parse(new Ui(n,s,n.path,[l,"value"]))}));if(n.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let s of o){let l=await s.key,c=await s.value;if(l.status==="aborted"||c.status==="aborted")return jt;(l.status==="dirty"||c.status==="dirty")&&t.dirty(),u.set(l.value,c.value)}return{status:t.value,value:u}})}else{let u=new Map;for(let s of o){let l=s.key,c=s.value;if(l.status==="aborted"||c.status==="aborted")return jt;(l.status==="dirty"||c.status==="dirty")&&t.dirty(),u.set(l.value,c.value)}return{status:t.value,value:u}}}};Iu.create=(r,e,t)=>new Iu({valueType:e,keyType:r,typeName:kt.ZodMap,...Qt(t)});var Bu=class r extends Kt{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pt.set)return ht(n,{code:rt.invalid_type,expected:pt.set,received:n.parsedType}),jt;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ht(n,{code:rt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ht(n,{code:rt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function o(s){let l=new Set;for(let c of s){if(c.status==="aborted")return jt;c.status==="dirty"&&t.dirty(),l.add(c.value)}return{status:t.value,value:l}}let u=[...n.data.values()].map((s,l)=>a._parse(new Ui(n,s,n.path,l)));return n.common.async?Promise.all(u).then(s=>o(s)):o(u)}min(e,t){return new r({...this._def,minSize:{value:e,message:Tt.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:Tt.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};Bu.create=(r,e)=>new Bu({valueType:r,minSize:null,maxSize:null,typeName:kt.ZodSet,...Qt(e)});var Qf=class r extends Kt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==pt.function)return ht(t,{code:rt.invalid_type,expected:pt.function,received:t.parsedType}),jt;function n(u,s){return jf({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Yf(),rc].filter(l=>!!l),issueData:{code:rt.invalid_arguments,argumentsError:s}})}function i(u,s){return jf({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Yf(),rc].filter(l=>!!l),issueData:{code:rt.invalid_return_type,returnTypeError:s}})}let a={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Po){let u=this;return Qn(async function(...s){let l=new _i([]),c=await u._def.args.parseAsync(s,a).catch(m=>{throw l.addIssue(n(s,m)),l}),f=await Reflect.apply(o,this,c);return await u._def.returns._def.type.parseAsync(f,a).catch(m=>{throw l.addIssue(i(f,m)),l})})}else{let u=this;return Qn(function(...s){let l=u._def.args.safeParse(s,a);if(!l.success)throw new _i([n(s,l.error)]);let c=Reflect.apply(o,this,l.data),f=u._def.returns.safeParse(c,a);if(!f.success)throw new _i([i(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:Ea.create(e).rest(eo.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new r({args:e||Ea.create([]).rest(eo.create()),returns:t||eo.create(),typeName:kt.ZodFunction,...Qt(n)})}},Ls=class extends Kt{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};Ls.create=(r,e)=>new Ls({getter:r,typeName:kt.ZodLazy,...Qt(e)});var Vs=class extends Kt{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return ht(t,{received:t.data,code:rt.invalid_literal,expected:this._def.value}),jt}return{status:"valid",value:e.data}}get value(){return this._def.value}};Vs.create=(r,e)=>new Vs({value:r,typeName:kt.ZodLiteral,...Qt(e)});function DE(r,e){return new Us({values:r,typeName:kt.ZodEnum,...Qt(e)})}var Us=class r extends Kt{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return ht(t,{expected:yr.joinValues(n),received:t.parsedType,code:rt.invalid_type}),jt}if(this._def.values.indexOf(e.data)===-1){let t=this._getOrReturnCtx(e),n=this._def.values;return ht(t,{received:t.data,code:rt.invalid_enum_value,options:n}),jt}return Qn(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return r.create(e)}exclude(e){return r.create(this.options.filter(t=>!e.includes(t)))}};Us.create=DE;var $s=class extends Kt{_parse(e){let t=yr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==pt.string&&n.parsedType!==pt.number){let i=yr.objectValues(t);return ht(n,{expected:yr.joinValues(i),received:n.parsedType,code:rt.invalid_type}),jt}if(t.indexOf(e.data)===-1){let i=yr.objectValues(t);return ht(n,{received:n.data,code:rt.invalid_enum_value,options:i}),jt}return Qn(e.data)}get enum(){return this._def.values}};$s.create=(r,e)=>new $s({values:r,typeName:kt.ZodNativeEnum,...Qt(e)});var Po=class extends Kt{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==pt.promise&&t.common.async===!1)return ht(t,{code:rt.invalid_type,expected:pt.promise,received:t.parsedType}),jt;let n=t.parsedType===pt.promise?t.data:Promise.resolve(t.data);return Qn(n.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}};Po.create=(r,e)=>new Po({type:r,typeName:kt.ZodPromise,...Qt(e)});var Si=class extends Kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===kt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{ht(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let o=i.transform(n.data,a);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(u=>this._def.schema._parseAsync({data:u,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){let o=u=>{let s=i.refinement(u,a);if(n.common.async)return Promise.resolve(s);if(s instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){let u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?jt:(u.status==="dirty"&&t.dirty(),o(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?jt:(u.status==="dirty"&&t.dirty(),o(u.value).then(()=>({status:t.value,value:u.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!nc(o))return o;let u=i.transform(o.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>nc(o)?Promise.resolve(i.transform(o.value,a)).then(u=>({status:t.value,value:u})):o);yr.assertNever(i)}};Si.create=(r,e,t)=>new Si({schema:r,typeName:kt.ZodEffects,effect:e,...Qt(t)});Si.createWithPreprocess=(r,e,t)=>new Si({schema:e,effect:{type:"preprocess",transform:r},typeName:kt.ZodEffects,...Qt(t)});var ua=class extends Kt{_parse(e){return this._getType(e)===pt.undefined?Qn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ua.create=(r,e)=>new ua({innerType:r,typeName:kt.ZodOptional,...Qt(e)});var ro=class extends Kt{_parse(e){return this._getType(e)===pt.null?Qn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ro.create=(r,e)=>new ro({innerType:r,typeName:kt.ZodNullable,...Qt(e)});var qs=class extends Kt{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===pt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};qs.create=(r,e)=>new qs({innerType:r,typeName:kt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Qt(e)});var Pu=class extends Kt{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Zf(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new _i(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new _i(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Pu.create=(r,e)=>new Pu({innerType:r,typeName:kt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Qt(e)});var Ou=class extends Kt{_parse(e){if(this._getType(e)!==pt.nan){let n=this._getOrReturnCtx(e);return ht(n,{code:rt.invalid_type,expected:pt.nan,received:n.parsedType}),jt}return{status:"valid",value:e.data}}};Ou.create=r=>new Ou({typeName:kt.ZodNaN,...Qt(r)});var Y7=Symbol("zod_brand"),Kf=class extends Kt{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},ic=class r extends Kt{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?jt:a.status==="dirty"?(t.dirty(),AE(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?jt:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:kt.ZodPipeline})}},ku=class extends Kt{_parse(e){let t=this._def.innerType._parse(e);return nc(t)&&(t.value=Object.freeze(t.value)),t}};ku.create=(r,e)=>new ku({innerType:r,typeName:kt.ZodReadonly,...Qt(e)});var EE=(r,e={},t)=>r?Bo.create().superRefine((n,i)=>{var a,o;if(!r(n)){let u=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,s=(o=(a=u.fatal)!==null&&a!==void 0?a:t)!==null&&o!==void 0?o:!0,l=typeof u=="string"?{message:u}:u;i.addIssue({code:"custom",...l,fatal:s})}}):Bo.create(),j7={object:ai.lazycreate},kt;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(kt||(kt={}));var Z7=(r,e={message:`Input not instance of ${r.name}`})=>EE(t=>t instanceof r,e),NE=Io.create,CE=Ms.create,J7=Ou.create,X7=Fs.create,TE=Is.create,Q7=Bs.create,K7=Mu.create,eq=Ps.create,tq=Os.create,rq=Bo.create,nq=eo.create,iq=la.create,aq=Fu.create,oq=to.create,sq=ai.create,uq=ai.strictCreate,lq=ks.create,cq=Jf.create,fq=Rs.create,pq=Ea.create,mq=Xf.create,dq=Iu.create,hq=Bu.create,gq=Qf.create,vq=Ls.create,yq=Vs.create,bq=Us.create,xq=$s.create,wq=Po.create,_E=Si.create,_q=ua.create,Sq=ro.create,Aq=Si.createWithPreprocess,Dq=ic.create,Eq=()=>NE().optional(),Nq=()=>CE().optional(),Cq=()=>TE().optional(),Tq={string:r=>Io.create({...r,coerce:!0}),number:r=>Ms.create({...r,coerce:!0}),boolean:r=>Is.create({...r,coerce:!0}),bigint:r=>Fs.create({...r,coerce:!0}),date:r=>Bs.create({...r,coerce:!0})},Mq=jt,ce=Object.freeze({__proto__:null,defaultErrorMap:rc,setErrorMap:P7,getErrorMap:Yf,makeIssue:jf,EMPTY_PATH:O7,addIssueToContext:ht,ParseStatus:Ln,INVALID:jt,DIRTY:AE,OK:Qn,isAborted:Og,isDirty:kg,isValid:nc,isAsync:Zf,get util(){return yr},get objectUtil(){return Pg},ZodParsedType:pt,getParsedType:Fo,ZodType:Kt,ZodString:Io,ZodNumber:Ms,ZodBigInt:Fs,ZodBoolean:Is,ZodDate:Bs,ZodSymbol:Mu,ZodUndefined:Ps,ZodNull:Os,ZodAny:Bo,ZodUnknown:eo,ZodNever:la,ZodVoid:Fu,ZodArray:to,ZodObject:ai,ZodUnion:ks,ZodDiscriminatedUnion:Jf,ZodIntersection:Rs,ZodTuple:Ea,ZodRecord:Xf,ZodMap:Iu,ZodSet:Bu,ZodFunction:Qf,ZodLazy:Ls,ZodLiteral:Vs,ZodEnum:Us,ZodNativeEnum:$s,ZodPromise:Po,ZodEffects:Si,ZodTransformer:Si,ZodOptional:ua,ZodNullable:ro,ZodDefault:qs,ZodCatch:Pu,ZodNaN:Ou,BRAND:Y7,ZodBranded:Kf,ZodPipeline:ic,ZodReadonly:ku,custom:EE,Schema:Kt,ZodSchema:Kt,late:j7,get ZodFirstPartyTypeKind(){return kt},coerce:Tq,any:rq,array:oq,bigint:X7,boolean:TE,date:Q7,discriminatedUnion:cq,effect:_E,enum:bq,function:gq,instanceof:Z7,intersection:fq,lazy:vq,literal:yq,map:dq,nan:J7,nativeEnum:xq,never:iq,null:tq,nullable:Sq,number:CE,object:sq,oboolean:Cq,onumber:Nq,optional:_q,ostring:Eq,pipeline:Dq,preprocess:Aq,promise:wq,record:mq,set:hq,strictObject:uq,string:NE,symbol:K7,transformer:_E,tuple:pq,undefined:eq,union:lq,unknown:nq,void:aq,NEVER:Mq,ZodIssueCode:rt,quotelessJson:B7,ZodError:_i});var Fq=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function ME(r){return r.length===1?r[0].toString():r.reduce((e,t)=>{if(typeof t=="number")return e+"["+t.toString()+"]";if(t.includes('"'))return e+'["'+Iq(t)+'"]';if(!Fq.test(t))return e+'["'+t+'"]';let n=e.length===0?"":".";return e+n+t},"")}function Iq(r){return r.replace(/"/g,'\\"')}function FE(r){return r.length!==0}var Bq=99,Pq="; ",Oq=", or ",IE="Validation error",kq=": ",ep=class extends Error{constructor(t,n=[]){super(t);an(this,"details");an(this,"name");this.details=n,this.name="ZodValidationError"}toString(){return this.message}};function BE(r){let{issue:e,issueSeparator:t,unionSeparator:n,includePath:i}=r;if(e.code==="invalid_union")return e.unionErrors.reduce((a,o)=>{let u=o.issues.map(s=>BE({issue:s,issueSeparator:t,unionSeparator:n,includePath:i})).join(t);return a.includes(u)||a.push(u),a},[]).join(n);if(i&&FE(e.path)){if(e.path.length===1){let a=e.path[0];if(typeof a=="number")return`${e.message} at index ${a}`}return`${e.message} at "${ME(e.path)}"`}return e.message}function Rq(r,e,t){return e!==null?r.length>0?[e,r].join(t):e:r.length>0?r:IE}function zs(r,e={}){let{maxIssuesInMessage:t=Bq,issueSeparator:n=Pq,unionSeparator:i=Oq,prefixSeparator:a=kq,prefix:o=IE,includePath:u=!0}=e,s=r.errors.slice(0,t).map(c=>BE({issue:c,issueSeparator:n,unionSeparator:i,includePath:u})).join(n),l=Rq(s,o,a);return new ep(l,r.errors)}function PE(r,e){return(t,n)=>t[r]===void 0==(t[e]===void 0)?(n.addIssue({code:ce.ZodIssueCode.custom,message:`Either ${r} or ${e} must be filled, but not both`}),!1):!0}function Ft(){return function(r){return r}}function OE(r,e){let t=r.safeParse(e);if(!t.success)throw new Ot({errorLevel:"CRITICAL",effect:"invalid arguments supplied to function",cause:zs(t.error)})}function en(r,e){let t=r.safeParse(e);if(!t.success)throw new Ot({errorLevel:"CRITICAL",effect:"invalid arguments supplied to function",cause:t.error})}var Ru=class{constructor(e){this.scope=e}};var Gs=(t=>(t.OBJECT="object",t.ARRAY="array",t))(Gs||{}),tp=class{constructor(e,t,n){this.parent=e,this.access=t,this.child=n}};function Lq(r,e){return r[e]}function kE(r,e,t){r[e]=t}var Hs=class{constructor(e,t){if(this.type=e,this.prop=e==="object"?t:"",this.index=e==="array"?Number(t):0,Number.isNaN(this.index))throw new Error("can not access array with non number index")}get(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");return new tp(e,this,Lq(e,this.prop))}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");return new tp(e,this,e[this.index])}}set(e,t){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");kE(e,this.prop,t)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=t}}create(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");kE(e,this.prop,void 0)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=void 0}}};var Vt=class{constructor(e){this.subject=e,this.errors=[]}add(e){e instanceof Error?(e instanceof cn?this.errors.push(e):this.otherError=e,console.warn(e)):console.warn("[MB_ERROR_CONTAINER] received invalid error type",e)}merge(e){return this.errors=this.errors.concat(e.errors),e.otherError&&(this.otherError=e.otherError),this}hasErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="ERROR"||e.errorLevel==="CRITICAL")return!0;return!1}hasCriticalErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="CRITICAL")return!0;return!1}hasWarnings(){for(let e of this.errors)if(e.errorLevel==="WARNING")return!0;return!1}isEmpty(){return this.errors.length===0&&!this.otherError}getErrors(){let e=this.errors.filter(t=>t.errorLevel==="ERROR"||t.errorLevel==="CRITICAL");return this.otherError?e.concat([this.otherError]):e}getWarnings(){return this.errors.filter(e=>e.errorLevel==="WARNING")}};var Oo=class r{constructor(e){this.path=e}get(e){if(this.path.length===0)throw new Error("can not use empty path to access object");let t=this.path[0].get(e);for(let n of this.path.slice(1))t=n.get(t.child);return t}tryGet(e){try{return this.get(e)}catch(t){return}}set(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let n=this.path[0].get(e);for(let i of this.path.slice(1))n=i.get(n.child);n.access.set(n.parent,t)}setAndCreate(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let n=this.path[0].get(e);n.child===void 0&&(n.access.set(n.parent,this.getNextPathElementValue(0,t)),n=n.access.get(n.parent));for(let i=1;i<this.path.length;i++)n=this.path[i].get(n.child),n.child===void 0&&(n.access.set(n.parent,this.getNextPathElementValue(i,t)),n=n.access.get(n.parent));n.access.set(n.parent,t)}getNextPathElement(e){return this.path[e+1]}getNextPathElementValue(e,t){let n=this.getNextPathElement(e);return n===void 0?t:n.type==="object"?{}:[]}toStringArray(){return this.path.map(e=>e.prop)}toString(){return this.toStringArray().join(".")}concat(e){return new r(this.path.concat(e.path))}};var Lu=class{constructor(){this.listeners=[]}registerListener(e){let t=e;return t.uuid=pr(),this.listeners.push(t),t}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(t=>t.uuid!==e)}unregisterAllListeners(){this.listeners=[]}notifyListeners(e){for(let t of this.listeners)try{t.callback(e)}catch(n){let i=n instanceof Error?n:String(n);console.error(new Ot({errorLevel:"ERROR",effect:"error while calling listener callback",cause:i}))}}},Fr=class extends Lu{constructor(e){super(),this.value=e}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}},rp=class extends Lu{constructor(e,t){super(),this.dependency=e,this.value=t(e.get()),this.dependencyListener=e.registerListener({callback:n=>this.set(t(n))})}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}destroy(){this.dependency.unregisterListener(this.dependencyListener)}};var wn=(i=>(i.DEFAULT="default",i.PRIMARY="primary",i.DESTRUCTIVE="destructive",i.PLAIN="plain",i))(wn||{}),Vu=(p=>(p.COMMAND="command",p.JS="js",p.OPEN="open",p.INPUT="input",p.SLEEP="sleep",p.TEMPLATER_CREATE_NOTE="templaterCreateNote",p.UPDATE_METADATA="updateMetadata",p.CREATE_NOTE="createNote",p.REPLACE_IN_NOTE="replaceInNote",p.REGEXP_REPLACE_IN_NOTE="regexpReplaceInNote",p.REPLACE_SELF="replaceSelf",p.INSERT_INTO_NOTE="insertIntoNote",p))(Vu||{});var Vq=Ft()(ce.object({type:ce.literal("command"),command:ce.string()})),Uq=Ft()(ce.object({type:ce.literal("js"),file:ce.string(),args:ce.record(ce.unknown()).optional()})),$q=Ft()(ce.object({type:ce.literal("open"),link:ce.string(),newTab:ce.boolean().optional()})),qq=Ft()(ce.object({type:ce.literal("input"),str:ce.string()})),zq=Ft()(ce.object({type:ce.literal("sleep"),ms:ce.number()})),Hq=Ft()(ce.object({type:ce.literal("templaterCreateNote"),templateFile:ce.string(),folderPath:ce.string().optional(),fileName:ce.string().optional(),openNote:ce.boolean().optional()})),Gq=Ft()(ce.object({type:ce.literal("updateMetadata"),bindTarget:ce.string(),evaluate:ce.boolean(),value:ce.coerce.string()})),Wq=Ft()(ce.object({type:ce.literal("createNote"),folderPath:ce.string().optional(),fileName:ce.string(),openNote:ce.boolean().optional()})),Yq=Ft()(ce.object({type:ce.literal("replaceInNote"),fromLine:ce.number(),toLine:ce.number(),replacement:ce.string(),templater:ce.boolean().optional()})),jq=Ft()(ce.object({type:ce.literal("replaceSelf"),replacement:ce.string(),templater:ce.boolean().optional()})),Zq=Ft()(ce.object({type:ce.literal("regexpReplaceInNote"),regexp:ce.string(),replacement:ce.string()})),Jq=Ft()(ce.object({type:ce.literal("insertIntoNote"),line:ce.number(),value:ce.string(),templater:ce.boolean().optional()})),RE=Ft()(ce.union([Vq,Uq,$q,qq,zq,Hq,Gq,Wq,Yq,jq,Zq,Jq])),Xq=ce.nativeEnum(wn),Uu=Ft()(ce.object({label:ce.string(),style:Xq,class:ce.string().optional(),tooltip:ce.string().optional(),id:ce.string().optional(),hidden:ce.boolean().optional(),action:RE.optional(),actions:RE.array().optional()}).superRefine(PE("action","actions")));var si=Ft()(ce.string()),$u=Ft()(ce.nativeEnum(Xn)),ac=Ft()(ce.nativeEnum(Du)),VE=Ft()(ce.nativeEnum(To)),UE=Ft()(ce.instanceof(HTMLElement)),qu=Ft()(ce.instanceof(Ru)),Mae=Ft()(ce.instanceof(Fr)),Fae=Ft()(ce.function().args().returns(ce.void())),LE=Ft()(ce.object({index:ce.number(),line:ce.number(),column:ce.number()})),Qq=Ft()(ce.object({from:LE,to:LE})),ko=Ft()(ce.object({value:ce.string(),position:Qq.optional()})),$E=Ft()(ce.object({name:ko,value:ko.array()})),Kq=Ft()(ce.object({type:ce.nativeEnum(Gs),prop:ko})),Lg=Ft()(ce.object({storageType:ko.optional(),storagePath:ko.optional(),storageProp:Kq.array(),listenToChildren:ce.boolean()})),qE=Ft()(ce.object({declarationString:ce.string().optional(),inputFieldType:ko.optional(),templateName:ko.optional(),bindTarget:Lg.optional(),arguments:$E.array(),errorCollection:ce.instanceof(Vt)})),zE=Ft()(ce.object({declarationString:ce.string().optional(),templateDeclaration:ce.array(ce.union([ce.string(),Lg])).optional(),viewFieldType:ko.optional(),arguments:$E.array(),writeToBindTarget:Lg.optional(),errorCollection:ce.instanceof(Vt)})),oi=Ft()(ce.object({storageType:ce.string(),storagePath:ce.string(),storageProp:ce.instanceof(Oo),listenToChildren:ce.boolean()})),HE=Ft()(ce.object({name:ce.string(),value:ce.string().array()})),Iae=Ft()(ce.object({type:ce.nativeEnum(Gs),prop:ce.string()})),ez=Ft()(ce.object({inputFieldType:VE.optional(),templateName:ce.string().optional(),bindTarget:oi.optional(),arguments:HE.array().optional()})),tz=Ft()(ce.object({viewFieldType:VE.optional(),templateDeclaration:ce.union([ce.string(),oi]).array().optional(),arguments:HE.array().optional(),writeToBindTarget:oi.optional()})),rz=Ft()(ce.object({bindTarget:oi,name:ce.string()})),nz=Ft()(ce.object({bindTargetMappings:rz.array(),writeToBindTarget:oi.optional(),code:ce.string()})),iz=Ft()(ce.object({referencedButtonIds:ce.string().array()})),GE=Ft()(ce.object({renderChildType:$u,declaration:ce.union([ce.string(),ez]),scope:qu.optional()})),WE=Ft()(ce.object({renderChildType:$u,declaration:ce.union([ce.string(),tz]),scope:qu.optional()})),YE=Ft()(ce.object({declaration:ce.union([ce.string(),nz])})),jE=Ft()(ce.object({lineStart:ce.number(),lineEnd:ce.number()})),ZE=Ft()(ce.object({renderChildType:$u,declaration:ce.union([ce.string(),iz]),position:jE.optional()})),JE=Ft()(ce.object({declaration:ce.union([ce.string(),Uu]),position:jE.optional(),isPreview:ce.boolean()})),XE=Ft()(ce.object({depth:ce.number(),content:ce.string()}));var Rae=Ft()(ce.instanceof(Vg.Component)),az=Ft()(ce.object({addChild:ce.function().args(ce.instanceof(Vg.Component)).returns(ce.void())})),QE=Ft()(ce.tuple([UE,si,az,oi,ce.array(ce.string()),ce.array(ce.union([qE,zE]))]));var mN=hr(Di());var Zr=hr(Di()),Qg=hr(li());var aN=hr(Di()),ei=hr(li());var oc=hr(Di()),Ei=hr(li()),Vn=Ei.P.sequence(Ei.P.or(oc.P_UTILS.unicodeLetter(),Ei.P.oneOf("_$")),Ei.P.or(oc.P_UTILS.unicodeAlphanumeric(),Ei.P.oneOf("-_$")).many()).map(r=>r[0]+r[1].join("")).describe("identifier"),rN=Ei.P.sequenceMap((r,e)=>r+e.map(t=>t[0]+t[1]).join(""),Vn,Ei.P.sequence(oc.P_UTILS.optionalWhitespace(),Vn).many()).describe("identifier with spaces"),pz=Ei.P.string("\\").then(oc.P_UTILS.any()).map(r=>r==="'"?"'":r==="\\"?"\\":"\\"+r);function nN(r){return Ei.P.or(pz,Ei.P.noneOf(r+"\\")).many().map(e=>e.join("")).trim(Ei.P.string(r))}var pp=nN("'"),iN=nN('"'),Gu=Ei.P.manyNotOf("{}[]#^|:?").box("file path");function Kn(r,e){return{value:r,position:e}}function Ni(r){if(r!==void 0)return typeof r=="string"?{value:r}:r}var oN=Vn.node((r,e)=>({type:"object",prop:Kn(r,e)})),jg=ei.P.or(aN.P_UTILS.digits().wrap(ei.P.string("["),ei.P.string("]")).node((r,e)=>({type:"array",prop:Kn(r,e)})),iN.wrap(ei.P.string("["),ei.P.string("]")).node((r,e)=>({type:"object",prop:Kn(r,e)}))),mz=ei.P.or(ei.P.sequenceMap(r=>({storagePath:void 0,listenToChildren:!1,storageProp:r}),jg.atLeast(1)),ei.P.sequenceMap((r,e)=>({storagePath:void 0,listenToChildren:!1,storageProp:[r,...e]}),oN,jg.many())),dz=ei.P.sequenceMap((r,e)=>[r,...e],oN,jg.many()),Zg=ei.P.sequenceMap((r,e)=>(r.storageProp=r.storageProp.concat(e.flat()),r),mz,ei.P.string(".").then(dz).many()),Na=ei.P.sequenceMap((r,e,t)=>(t.storageType=r,t.storagePath=e,t),Vn.describe("storage type").node(Kn).skip(ei.P.string("^").describe('storage type separator "^"')).optional(),Gu.describe("storage path").node(Kn).skip(ei.P.string("#").describe('storage/file path separator "#"')).optional(),Zg.describe("property path")).box("bind target");var Ci=hr(Di()),hn=hr(li());var Ca=hr(li()),mp=hr(Di());var Jg=Ca.P.regexp(/^[^()',]+/).describe("any character except parentheses, single quotation marks and commas"),hz=Ca.P.or(pp,Jg).node(Kn),gz=Ca.P.separateBy(hz,Ca.P.string(",").describe('argument value separator ","').trim(mp.P_UTILS.optionalWhitespace())),vz=Ca.P.sequenceMap((r,e)=>({name:r,value:e}),Vn.node(Kn),gz.trim(mp.P_UTILS.optionalWhitespace()).wrap(Ca.P.string("(").describe('argument value paren "("'),Ca.P.string(")").describe('argument value paren ")"')).optional([])),sc=Ca.P.separateBy(vz,Ca.P.string(",").describe('argument separator ","').trim(mp.P_UTILS.optionalWhitespace()));var yz=hn.P.string("\\").then(Ci.P_UTILS.any()).map(r=>r==="["?"[":r==="]"?"]":r==="{"?"{":r==="}"?"}":r==="\\"?"\\":"\\"+r),dp=hn.P.sequenceMap((r,e)=>r+e.flat().join(""),hn.P.manyNotOf("{}[]\\"),hn.P.sequence(yz,hn.P.manyNotOf("{}[]\\")).many()).box("View Field Content"),bz=hn.P.sequenceMap((r,e)=>[r,...e.flat()],dp,hn.P.sequence(Na.wrapString("{","}"),dp).many()),xz=hn.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{viewFieldType:r,writeToBindTarget:n,arguments:e,templateDeclaration:void 0}},Vn.node(Kn).trim(Ci.P_UTILS.optionalWhitespace()).optional().describe("input field type"),sc.trim(Ci.P_UTILS.optionalWhitespace()).wrapString("(",")").trim(Ci.P_UTILS.optionalWhitespace()).optional([]),hn.P.sequence(hn.P.string(":").trim(Ci.P_UTILS.optionalWhitespace()),Na).trim(Ci.P_UTILS.optionalWhitespace()).optional()),sN=hn.P.sequenceMap((r,e,t,n)=>n===void 0?{viewFieldType:void 0,writeToBindTarget:void 0,arguments:[],templateDeclaration:e}:(n.templateDeclaration=e,n),hn.P.string("VIEW"),bz.wrapString("[","]"),Ci.P_UTILS.optionalWhitespace(),xz.wrapString("[","]").optional(),Ci.P_UTILS.eof()),wz=hn.P.sequenceMap((r,e,t,n)=>(e!==void 0&&(r.listenToChildren=!0),{bindTarget:r,name:n}),Na.wrapString("{","}"),hn.P.string(" and children").optional(),hn.P.string(" as "),Vn),uN=hn.P.sequenceMap((r,e,t)=>({bindTargetMappings:r,writeToBindTarget:e,code:t}),wz.separateBy(Ci.P_UTILS.whitespace()).skip(Ci.P_UTILS.whitespace()),hn.P.string("save to ").then(Na.wrapString("{","}")).skip(Ci.P_UTILS.whitespace()).optional(),hn.P.string("---").then(Ci.P_UTILS.remaining()));var Xg=hr(li());var Wu=class{constructor(e,t){this.range=e,this.tokenClass=t}};var It=class r{static sequence(...e){return Xg.P.sequenceMap((...t)=>t.flat(2).filter(n=>n!==void 0),...e)}static separateBy(e,t){return r.sequence(e,r.sequence(t,e).many()).optional([])}static highlight(e,t){return e.node((n,i)=>[new Wu(i,t)])}static highlightStr(e,t){return r.highlight(Xg.P.string(e),t)}};var Kg=It.highlight(Vn,"ident"),hp=It.highlight(Vn,"keyword"),ev=It.highlightStr(",","control"),gp=It.highlightStr("(","control"),vp=It.highlightStr(")","control"),Yu=It.highlightStr("[","control"),ju=It.highlightStr("]","control"),Sz=It.highlight(pp,"string"),Az=It.highlight(Jg,"ident"),Dz=Qg.P.or(Az,Sz),Ez=It.separateBy(Dz,ev.trim(Zr.P_UTILS.optionalWhitespace())),Nz=It.sequence(hp,It.sequence(gp,Ez.trim(Zr.P_UTILS.optionalWhitespace()),vp).optional()),tv=It.separateBy(Nz,ev.trim(Zr.P_UTILS.optionalWhitespace())),Zu=It.sequence(It.sequence(Kg,It.highlightStr("^","control")).optional(),It.sequence(It.highlight(Gu,"ident"),It.highlightStr("#","control")).optional(),It.highlight(Zg,"ident")),Cz=It.sequence(hp.trim(Zr.P_UTILS.optionalWhitespace()),It.sequence(gp,tv.trim(Zr.P_UTILS.optionalWhitespace()),vp).trim(Zr.P_UTILS.optionalWhitespace()).optional(),It.sequence(It.highlightStr(":","control").trim(Zr.P_UTILS.optionalWhitespace()),Zu).trim(Zr.P_UTILS.optionalWhitespace()).optional()),Tz=It.sequence(hp.trim(Zr.P_UTILS.optionalWhitespace()).optional(),It.sequence(gp,tv.trim(Zr.P_UTILS.optionalWhitespace()),vp).trim(Zr.P_UTILS.optionalWhitespace()).optional(),It.sequence(It.highlightStr(":","control").trim(Zr.P_UTILS.optionalWhitespace()),Zu).trim(Zr.P_UTILS.optionalWhitespace()).optional()),cN=Qg.P.or(It.sequence(It.highlightStr("INPUT","control"),Yu,Kg.trim(Zr.P_UTILS.optionalWhitespace()),ju.skip(Zr.P_UTILS.optionalWhitespace()),Yu,Tz,ju),It.sequence(It.highlightStr("INPUT","control"),Yu,Cz,ju)),lN=It.highlight(dp,"ident"),Mz=It.sequence(It.highlightStr("{","string"),Zu,It.highlightStr("}","string")),Fz=It.sequence(lN,It.sequence(Mz,lN).many()),Iz=It.sequence(hp.trim(Zr.P_UTILS.optionalWhitespace()).optional(),It.sequence(gp,tv.trim(Zr.P_UTILS.optionalWhitespace()).optional(),vp).trim(Zr.P_UTILS.optionalWhitespace()).optional(),It.sequence(It.highlightStr(":","control").trim(Zr.P_UTILS.optionalWhitespace()),Zu).trim(Zr.P_UTILS.optionalWhitespace()).optional()),fN=It.sequence(It.highlightStr("VIEW","control"),Yu,Fz,ju,It.sequence(Yu.skip(Zr.P_UTILS.optionalWhitespace()),Iz,ju).optional()),pN=It.sequence(It.highlightStr("BUTTON","control"),Yu,It.separateBy(Kg,ev.trim(Zr.P_UTILS.optionalWhitespace())),ju);var no=class{constructor(e,t,n){this.str=e,this.highlights=t.filter(i=>i.range.from.index!==i.range.to.index),this.parsingError=n}getHighlights(){if(this.parsingError===void 0)return this.highlights;let e;return this.str[this.parsingError.parseFailure.furthest.index]===`
`?e={index:this.parsingError.parseFailure.furthest.index+1,column:1,line:this.parsingError.parseFailure.furthest.line+1}:e={index:this.parsingError.parseFailure.furthest.index+1,column:this.parsingError.parseFailure.furthest.column+1,line:this.parsingError.parseFailure.furthest.line},[new Wu({from:this.parsingError.parseFailure.furthest,to:e},"error")]}};var yp=class{constructor(e){this.plugin=e}highlightInputFieldDeclaration(e,t){return this.highlightWithParser(e,t,cN)}highlightViewFieldDeclaration(e,t){return this.highlightWithParser(e,t,fN)}highlightInlineButtonDeclaration(e,t){return this.highlightWithParser(e,t,pN)}highlight(e,t,n){if(t==="INPUT_FIELD")return this.highlightInputFieldDeclaration(e,n);if(t==="VIEW_FIELD")return this.highlightViewFieldDeclaration(e,n);if(t==="BUTTON_GROUP")return this.highlightInlineButtonDeclaration(e,n);throw new Error(`Unknown MDRCType ${t}`)}highlightBindTarget(e,t){return this.highlightWithParser(e,t,Zu)}highlightWithParser(e,t,n){try{return t?new no(e,dn(n.trim(mN.P_UTILS.optionalWhitespace()).thenEof(),e)):new no(e,dn(n.thenEof(),e))}catch(i){return i instanceof Kl?new no(e,[],i):(console.error(i),new no(e,[]))}}};var dN=hr(Di()),ti=hr(li());var Bz=ti.P.sequence(Gu,ti.P.string("#").then(ti.P.manyNotOf("[]#|^:")).optional(),ti.P.string("|").then(ti.P.manyNotOf("[]")).optional()),rv=ti.P.or(ti.P.sequenceMap((r,e)=>({isEmbed:r!==void 0,target:e[0],block:e[1],alias:e[2],internal:!0}),ti.P.string("!").optional(),Bz.wrapString("[[","]]")),ti.P.sequenceMap((r,e,t)=>{let n=!Nu(t);return{isEmbed:r!==void 0,target:t,block:void 0,alias:e,internal:n}},ti.P.string("!").optional(),ti.P.manyNotOf("[]").wrapString("[","]"),ti.P.manyNotOf("()").wrapString("(",")"))),Pz=ti.P.separateBy(rv,ti.P.string(",").trim(dN.P_UTILS.optionalWhitespace())),on=class r{static parseLink(e){return dn(rv.thenEof(),e)}static parseLinkList(e){return dn(Pz.thenEof(),e)}static isLink(e){return rv.thenEof().tryParse(e).success}static urlToLink(e){return{isEmbed:!1,target:e.href,block:void 0,alias:e.hostname,internal:!1}}static parseLinkOrUrl(e){return Nu(e)?r.urlToLink(new URL(e)):r.parseLink(e)}static convertToLinkString(e){return r.isLink(e)?e:Nu(e)?`[${new URL(e).hostname}](${e})`:r.isLink(`[[${e}]]`)?`[[${e}]]`:""}};var uc=hr(Di()),Ro=hr(li());var gN=Ro.P.sequenceMap((r,e)=>r===void 0?e:-e,Ro.P.string("-").optional(),Ro.P.or(Ro.P.sequenceMap((r,e,t)=>Number(r+e+t),uc.P_UTILS.digits(),Ro.P.string("."),uc.P_UTILS.digits()),uc.P_UTILS.digits().map(r=>Number(r)))).thenEof(),vN=Ro.P.sequenceMap((r,e)=>r===void 0?e:-e,Ro.P.string("-").optional(),uc.P_UTILS.digits().map(r=>Number(r))).thenEof();function Ti(r){if(r.toLowerCase()==="null")return null;if(r==="true")return!0;if(r==="false")return!1;{let e=gN.tryParse(r);return e.success?e.value:r}}function ca(r){return r===void 0||r===null?"":typeof r=="string"?r:typeof r=="boolean"?r?"true":"false":r.toString()}function Lo(r){return r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"}function qi(r){if(r!==void 0){if(Lo(r))return[r];if(typeof r=="object"&&Array.isArray(r))return r.filter(e=>Lo(e))}}function Ju(r){if(typeof r=="number")return r;if(typeof r=="string"){let e=gN.tryParse(r);if(e.success)return e.value}}function Ta(r){return Lo(r)?ca(r):void 0}function Vo(r){return Lo(r)?r:void 0}function bp(r,e){return Array.isArray(r)?r.map(t=>nv(t,e)).filter(t=>t!=="").join(", "):nv(r,e)}function nv(r,e){return r==null?e?"":"null":typeof r=="function"?"<function>":typeof r=="object"||Array.isArray(r)?JSON.stringify(r):r.toString()}function yN(r,e){return Array.isArray(r)?r.map(t=>hN(t,e)).filter(t=>t!==""):hN(r,e)}function hN(r,e){return typeof r=="string"?on.isLink(r)?on.parseLink(r):Nu(r)?on.urlToLink(new URL(r)):r:nv(r,e)}var xp=class{constructor(e){this.plugin=e}createDefaultButtonConfig(){return{label:"This is a button",hidden:!1,class:"",tooltip:"",id:"",style:"default",actions:[]}}async runButtonAction(e,t,n,i){try{if(e.action)await this.plugin.api.buttonActionRunner.runAction(e,e.action,t,n,i);else if(e.actions)for(let a of e.actions)await this.plugin.api.buttonActionRunner.runAction(e,a,t,n,i);else console.warn("meta-bind | ButtonMDRC >> no action defined")}catch(a){console.warn("meta-bind | ButtonMDRC >> error while running action",a),this.plugin.internal.showNotice("meta-bind | Error while running button action. Check the console for details.")}}createDefaultAction(e){if(e==="command")return{type:"command",command:""};if(e==="open")return{type:"open",link:""};if(e==="js")return{type:"js",file:"",args:{}};if(e==="input")return{type:"input",str:""};if(e==="sleep")return{type:"sleep",ms:0};if(e==="templaterCreateNote")return{type:"templaterCreateNote",templateFile:"",folderPath:"/",fileName:"",openNote:!0};if(e==="updateMetadata")return{type:"updateMetadata",bindTarget:"",evaluate:!1,value:""};if(e==="createNote")return{type:"createNote",folderPath:"/",fileName:"Untitled",openNote:!0};if(e==="replaceInNote")return{type:"replaceInNote",fromLine:0,toLine:0,replacement:"Replacement text"};if(e==="replaceSelf")return{type:"replaceSelf",replacement:"Replacement text"};if(e==="regexpReplaceInNote")return{type:"regexpReplaceInNote",regexp:"([A-Z])\\w+",replacement:"Replacement text"};if(e==="insertIntoNote")return{type:"insertIntoNote",line:0,value:"Some text"};throw new Error(`Unknown button action type: ${e}`)}async runAction(e,t,n,i,a){if(t.type==="command"){await this.runCommandAction(t);return}else if(t.type==="js"){await this.runJSAction(e,t,n);return}else if(t.type==="open"){await this.runOpenAction(t,n);return}else if(t.type==="input"){await this.runInputAction(t);return}else if(t.type==="sleep"){await this.runSleepAction(t);return}else if(t.type==="templaterCreateNote"){await this.runTemplaterCreateNoteAction(t);return}else if(t.type==="updateMetadata"){await this.runUpdateMetadataAction(t,n);return}else if(t.type==="createNote"){await this.runCreateNoteAction(t);return}else if(t.type==="replaceInNote"){await this.runReplaceInNoteAction(t,n);return}else if(t.type==="replaceSelf"){await this.runReplaceSelfAction(t,n,i,a);return}else if(t.type==="regexpReplaceInNote"){await this.runRegexpReplaceInNotAction(t,n);return}else if(t.type==="insertIntoNote"){await this.runInsertIntoNoteAction(t,n);return}throw new Error("Unknown button action type")}async runCommandAction(e){this.plugin.internal.executeCommandById(e.command)}async runJSAction(e,t,n){let i={buttonConfig:e,args:t.args};(await this.plugin.internal.jsEngineRunFile(t.file,n,i))()}async runOpenAction(e,t){var i;let n=on.parseLinkOrUrl(e.link);n.internal?this.plugin.internal.openFile(n.target,t,(i=e.newTab)!=null?i:!1):Vf(n.target)}async runInputAction(e){let t=document.activeElement;t&&t instanceof HTMLInputElement&&(t.setRangeText(e.str,t.selectionStart,t.selectionEnd,"end"),t.dispatchEvent(new Event("input",{bubbles:!0})))}async runSleepAction(e){await new Promise(t=>setTimeout(t,e.ms))}async runTemplaterCreateNoteAction(e){await this.plugin.internal.createNoteWithTemplater(e.templateFile,e.folderPath,e.fileName)}async runUpdateMetadataAction(e,t){let n=this.plugin.api.bindTargetParser.fromStringAndValidate(e.bindTarget,t);if(e.evaluate){let i=new Function("x",`return ${e.value};`);this.plugin.api.updateMetadata(n,i)}else this.plugin.api.setMetadata(n,Ti(e.value))}async runCreateNoteAction(e){var t,n;await this.plugin.internal.createFile((t=e.folderPath)!=null?t:"",e.fileName,"md",(n=e.openNote)!=null?n:!1)}async runReplaceInNoteAction(e,t){let n=e.templater?await this.plugin.internal.evaluateTemplaterTemplate(e.replacement,t):e.replacement,a=(await this.plugin.internal.readFilePath(t)).split(`
`);a=[...a.slice(0,e.fromLine-1),n,...a.slice(e.toLine)],await this.plugin.internal.writeFilePath(t,a.join(`
`))}async runReplaceSelfAction(e,t,n,i){if(n)throw new Error("Replace self action not supported for inline buttons");if(i===void 0)throw new Error("Position of the button in the note is unknown");let a=e.templater?await this.plugin.internal.evaluateTemplaterTemplate(e.replacement,t):e.replacement,u=(await this.plugin.internal.readFilePath(t)).split(`
`);u=[...u.slice(0,i.lineStart),a,...u.slice(i.lineEnd+1)],await this.plugin.internal.writeFilePath(t,u.join(`
`))}async runRegexpReplaceInNotAction(e,t){if(e.regexp==="")throw new Error("Regexp cannot be empty");let n=await this.plugin.internal.readFilePath(t);n=n.replace(new RegExp(e.regexp,"g"),e.replacement),await this.plugin.internal.writeFilePath(t,n)}async runInsertIntoNoteAction(e,t){let i=(await this.plugin.internal.readFilePath(t)).split(`
`),a=e.templater?await this.plugin.internal.evaluateTemplaterTemplate(e.value,t):e.value;i=[...i.slice(0,e.line-1),a,...i.slice(e.line-1)],await this.plugin.internal.writeFilePath(t,i.join(`
`))}};var ci=class{constructor(){this.mounted=!1,this.targetEl=void 0,this.onUnmountCbs=[]}isMounted(){return this.mounted}getTargetEl(){return this.targetEl}mount(e){if(this.mounted||this.targetEl)throw new Error("Mountable is already mounted");this.mounted=!0,this.targetEl=e,this.onMount(e)}unmount(){if(!this.mounted||!this.targetEl)throw new Error("Mountable is not mounted");this.mounted=!1,this.onUnmount(this.targetEl);for(let e of this.onUnmountCbs)e();this.targetEl=void 0}registerUnmountCb(e){this.onUnmountCbs.push(e)}};var _n=class extends ci{constructor(e,t,n){super(),this.plugin=e,this.filePath=n,this.uuid=t}getUuid(){return this.uuid}getFilePath(){return this.filePath}};function We(){}function Oz(r,e){for(let t in e)r[t]=e[t];return r}function iv(r){return r()}function Sp(){return Object.create(null)}function Ct(r){r.forEach(iv)}function Ws(r){return typeof r=="function"}function ze(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}var _p;function zi(r,e){return r===e?!0:(_p||(_p=document.createElement("a")),_p.href=e,r===_p.href)}function bN(r){return Object.keys(r).length===0}function fa(r,e,t,n){if(r){let i=xN(r,e,t,n);return r[0](i)}}function xN(r,e,t,n){return r[1]&&n?Oz(t.ctx.slice(),r[1](n(e))):t.ctx}function pa(r,e,t,n){if(r[2]&&n){let i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){let a=[],o=Math.max(e.dirty.length,i.length);for(let u=0;u<o;u+=1)a[u]=e.dirty[u]|i[u];return a}return e.dirty|i}return e.dirty}function ma(r,e,t,n,i,a){if(i){let o=xN(e,t,n,a);r.p(o,i)}}function da(r){if(r.ctx.length>32){let e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}var lc=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var Ap=class r{constructor(e){an(this,"_listeners","WeakMap"in lc?new WeakMap:void 0);an(this,"_observer");an(this,"options");this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(t=>{var n;for(let i of t)r.entries.set(i.target,i),(n=this._listeners.get(i.target))==null||n(i)})}};Ap.entries="WeakMap"in lc?new WeakMap:void 0;var wN=!1;function _N(){wN=!0}function SN(){wN=!1}function X(r,e){r.appendChild(e)}function Hi(r,e,t){let n=AN(r);if(!n.getElementById(e)){let i=K("style");i.id=e,i.textContent=t,Lz(n,i)}}function AN(r){if(!r)return document;let e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function Lz(r,e){return X(r.head||r,e),e.sheet}function W(r,e,t){r.insertBefore(e,t||null)}function G(r){r.parentNode&&r.parentNode.removeChild(r)}function Gt(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function K(r){return document.createElement(r)}function Mi(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Le(r){return document.createTextNode(r)}function le(){return Le(" ")}function Sr(){return Le("")}function Ie(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function $(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function fi(r){return r===""?null:+r}function DN(r){return Array.from(r.childNodes)}function gt(r,e){e=""+e,r.data!==e&&(r.data=e)}function Ke(r,e){r.value=e==null?"":e}function io(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Uo(r,e,t){for(let n=0;n<r.options.length;n+=1){let i=r.options[n];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function cc(r){let e=r.querySelector(":checked");return e&&e.__value}function $t(r,e,t){r.classList.toggle(e,!!t)}function Dp(r,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:n})}function EN(r){let e={};return r.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}var $o;function ao(r){$o=r}function Ep(){if(!$o)throw new Error("Function called outside component initialization");return $o}function Fi(r){Ep().$$.on_mount.push(r)}function Ys(r){Ep().$$.on_destroy.push(r)}function js(){let r=Ep();return(e,t,{cancelable:n=!1}={})=>{let i=r.$$.callbacks[e];if(i){let a=Dp(e,t,{cancelable:n});return i.slice().forEach(o=>{o.call(r,a)}),!a.defaultPrevented}return!0}}function NN(r,e){let t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}var Zs=[];var Jr=[],Qu=[],ov=[],Hz=Promise.resolve(),sv=!1;function CN(){sv||(sv=!0,Hz.then(Np))}function Ma(r){Qu.push(r)}function oo(r){ov.push(r)}var av=new Set,Xu=0;function Np(){if(Xu!==0)return;let r=$o;do{try{for(;Xu<Zs.length;){let e=Zs[Xu];Xu++,ao(e),Gz(e.$$)}}catch(e){throw Zs.length=0,Xu=0,e}for(ao(null),Zs.length=0,Xu=0;Jr.length;)Jr.pop()();for(let e=0;e<Qu.length;e+=1){let t=Qu[e];av.has(t)||(av.add(t),t())}Qu.length=0}while(Zs.length);for(;ov.length;)ov.pop()();sv=!1,av.clear(),ao(r)}function Gz(r){if(r.fragment!==null){r.update(),Ct(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Ma)}}function TN(r){let e=[],t=[];Qu.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Qu=e}var Cp=new Set,Js;function yt(){Js={r:0,c:[],p:Js}}function bt(){Js.r||Ct(Js.c),Js=Js.p}function Q(r,e){r&&r.i&&(Cp.delete(r),r.i(e))}function ie(r,e,t,n){if(r&&r.o){if(Cp.has(r))return;Cp.add(r),Js.c.push(()=>{Cp.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function ut(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function MN(r,e){r.d(1),e.delete(r.key)}function Tp(r,e){ie(r,1,1,()=>{e.delete(r.key)})}function Ku(r,e,t,n,i,a,o,u,s,l,c,f){let p=r.length,m=a.length,h=p,d={};for(;h--;)d[r[h].key]=h;let g=[],y=new Map,_=new Map,b=[];for(h=m;h--;){let C=f(i,a,h),E=t(C),D=o.get(E);D?n&&b.push(()=>D.p(C,e)):(D=l(E,C),D.c()),y.set(E,g[h]=D),E in d&&_.set(E,Math.abs(h-d[E]))}let w=new Set,S=new Set;function x(C){Q(C,1),C.m(u,c),o.set(C.key,C),c=C.first,m--}for(;p&&m;){let C=g[m-1],E=r[p-1],D=C.key,N=E.key;C===E?(c=C.first,p--,m--):y.has(N)?!o.has(D)||w.has(D)?x(C):S.has(N)?p--:_.get(D)>_.get(N)?(S.add(D),x(C)):(w.add(N),p--):(s(E,o),p--)}for(;p--;){let C=r[p];y.has(C.key)||s(C,o)}for(;m;)x(g[m-1]);return Ct(b),g}var Wz=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Yz=new Set([...Wz]);function so(r,e,t){let n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function we(r){r&&r.c()}function be(r,e,t){let{fragment:n,after_update:i}=r.$$;n&&n.m(e,t),Ma(()=>{let a=r.$$.on_mount.map(iv).filter(Ws);r.$$.on_destroy?r.$$.on_destroy.push(...a):Ct(a),r.$$.on_mount=[]}),i.forEach(Ma)}function xe(r,e){let t=r.$$;t.fragment!==null&&(TN(t.after_update),Ct(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Zz(r,e){r.$$.dirty[0]===-1&&(Zs.push(r),CN(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function He(r,e,t,n,i,a,o=null,u=[-1]){let s=$o;ao(r);let l=r.$$={fragment:null,ctx:[],props:a,update:We,not_equal:i,bound:Sp(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Sp(),dirty:u,skip_bound:!1,root:e.target||s.$$.root};o&&o(l.root);let c=!1;if(l.ctx=t?t(r,e.props||{},(f,p,...m)=>{let h=m.length?m[0]:p;return l.ctx&&i(l.ctx[f],l.ctx[f]=h)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](h),c&&Zz(r,f)),p}):[],l.update(),c=!0,Ct(l.before_update),l.fragment=n?n(l.ctx):!1,e.target){if(e.hydrate){_N();let f=DN(e.target);l.fragment&&l.fragment.l(f),f.forEach(G)}else l.fragment&&l.fragment.c();e.intro&&Q(r.$$.fragment),be(r,e.target,e.anchor),SN(),Np()}ao(s)}var Jz;typeof HTMLElement=="function"&&(Jz=class extends HTMLElement{constructor(e,t,n){super();an(this,"$$ctor");an(this,"$$s");an(this,"$$c");an(this,"$$cn",!1);an(this,"$$d",{});an(this,"$$r",!1);an(this,"$$p_d",{});an(this,"$$l",{});an(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){let i=this.$$c.$on(e,t);this.$$l_u.set(t,i)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){let i=this.$$l_u.get(t);i&&(i(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(a){return()=>{let o;return{c:function(){o=K("slot"),a!=="default"&&$(o,"name",a)},m:function(l,c){W(l,o,c)},d:function(l){l&&G(o)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let t={},n=EN(this);for(let a of this.$$s)a in n&&(t[a]=[e(a)]);for(let a of this.attributes){let o=this.$$g_p(a.name);o in this.$$d||(this.$$d[o]=uv(o,a.value,this.$$p_d,"toProp"))}for(let a in this.$$p_d)!(a in this.$$d)&&this[a]!==void 0&&(this.$$d[a]=this[a],delete this[a]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});let i=()=>{this.$$r=!0;for(let a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){let o=uv(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let a in this.$$l)for(let o of this.$$l[a]){let u=this.$$c.$on(a,o);this.$$l_u.set(o,u)}this.$$l={}}}attributeChangedCallback(e,t,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=uv(e,n,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function uv(r,e,t,n){var a;let i=(a=t[r])==null?void 0:a.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!t[r])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var qe=class{constructor(){an(this,"$$");an(this,"$$set")}$destroy(){xe(this,1),this.$destroy=We}$on(e,t){if(!Ws(t))return We;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!bN(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var FN="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(FN);function fc(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(c){try{l(n.next(c))}catch(f){o(f)}}function s(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(u,s)}l((n=n.apply(r,e||[])).next())})}function Xz(r){Hi(r,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function Qz(r){let e,t,n,i;return{c(){e=K("button"),t=Le(r[3]),$(e,"class","mb-button-inner svelte-12xcpmj"),$(e,"aria-label",r[2]),e.disabled=r[0],$t(e,"mod-cta",r[1]==="primary"),$t(e,"mod-warning",r[1]==="destructive"),$t(e,"mod-plain",r[1]==="plain"),$t(e,"disabled",r[0]),$t(e,"mb-error",r[4])},m(a,o){W(a,e,o),X(e,t),n||(i=Ie(e,"click",r[7]),n=!0)},p(a,[o]){o&8&&gt(t,a[3]),o&4&&$(e,"aria-label",a[2]),o&1&&(e.disabled=a[0]),o&2&&$t(e,"mod-cta",a[1]==="primary"),o&2&&$t(e,"mod-warning",a[1]==="destructive"),o&2&&$t(e,"mod-plain",a[1]==="plain"),o&1&&$t(e,"disabled",a[0]),o&16&&$t(e,"mb-error",a[4])},i:We,o:We,d(a){a&&G(e),n=!1,i()}}}function Kz(r,e,t){let{variant:n="default"}=e,{disabled:i=!1}=e,{tooltip:a=""}=e,{label:o=""}=e,{error:u=!1}=e,{onClick:s=()=>fc(void 0,void 0,void 0,function*(){})}=e;function l(){return fc(this,void 0,void 0,function*(){if(!i){t(0,i=!0);try{yield s()}catch(f){console.warn("failed to run button component on click",f)}finally{t(0,i=!1)}}})}let c=()=>l();return r.$$set=f=>{"variant"in f&&t(1,n=f.variant),"disabled"in f&&t(0,i=f.disabled),"tooltip"in f&&t(2,a=f.tooltip),"label"in f&&t(3,o=f.label),"error"in f&&t(4,u=f.error),"onClick"in f&&t(6,s=f.onClick)},[i,n,a,o,u,l,s,c]}var lv=class extends qe{constructor(e){super(),He(this,e,Kz,Qz,ze,{variant:1,disabled:0,tooltip:2,label:3,error:4,onClick:6},Xz)}},Mp=lv;var qo=class extends ci{constructor(e,t,n,i,a,o){super(),this.plugin=e,this.config=t,this.filePath=n,this.inline=i==="inline",this.position=a,this.isPreview=o}onMount(e){ft.empty(e),ft.removeAllClasses(e),ft.addClasses(e,["mb-button",this.inline?"mb-button-inline":"mb-button-block"]),!(!this.inline&&!this.isPreview&&(this.config.id&&this.plugin.api.buttonManager.addButton(this.filePath,this.config),this.config.hidden))&&(this.config.class&&ft.addClasses(e,this.config.class.split(" ").filter(t=>t!=="")),this.buttonComponent=new Mp({target:e,props:{variant:this.config.style,label:this.config.label,tooltip:oE(this.config.tooltip)?this.config.tooltip:this.config.label,onClick:async()=>{await this.plugin.api.buttonActionRunner.runButtonAction(this.config,this.filePath,this.inline,this.position)}}}))}onUnmount(){var e,t;(e=this.buttonComponent)==null||e.$destroy(),!this.inline&&!this.isPreview&&(t=this.config)!=null&&t.id&&this.plugin.api.buttonManager.removeButton(this.filePath,this.config.id)}};var Fp=class extends _n{constructor(e,t,n,i,a,o){super(e,t,n),this.declaration=i,this.position=a,this.isPreview=o,this.errorCollection=new Vt(this.getUuid())}onMount(e){if(console.debug("meta-bind | ButtonBase >> mount",this.declaration.declarationString),ft.removeAllClasses(e),!this.declaration.config||!this.declaration.errorCollection.isEmpty()){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.declaration.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declaration.declarationString});return}this.buttonField=new qo(this.plugin,this.declaration.config,this.getFilePath(),"block",this.position,this.isPreview),this.buttonField.mount(e)}onUnmount(e){var t;console.debug("meta-bind | ButtonBase >> destroy",this.declaration.declarationString),(t=this.buttonField)==null||t.unmount(),kn(e,"button")}};var Ip=class{constructor(e){this.value=e,this.count=1}getValue(){return this.value}increment(){return this.count+=1,this.count}decrement(){return this.count-=1,this.count}getCount(){return this.count}isEmpty(){return this.count===0}};var Bp=class{constructor(e){this.plugin=e,this.buttons=new Map,this.buttonLoadListeners=new Map,this.buttonTemplates=new Map}setButtonTemplates(e){let t=new Set,n=new Vt("ButtonManager");this.buttonTemplates.clear();for(let i of e)i.id===void 0||i.id===""?n.add(new Qa({errorLevel:"ERROR",cause:`Button with label "${i.label}" has no id, but button templates must have an id.`,effect:"Button templates could not be saved."})):t.has(i.id)?n.add(new Qa({errorLevel:"ERROR",cause:`Button id "${i.id}" is not unique. The same id is used by multiple buttons.`,effect:"Button templates could not be saved."})):(t.add(i.id),this.buttonTemplates.set(i.id,i));return n.hasErrors()&&this.buttonTemplates.clear(),n}registerButtonLoadListener(e,t,n){let i=this.getButton(e,t);i&&n(i),this.buttonLoadListeners.has(e)||this.buttonLoadListeners.set(e,new Map);let a=this.buttonLoadListeners.get(e);a.has(t)||a.set(t,new Map);let o=a.get(t),u=pr();return o.set(u,n),()=>this.removeButtonLoadListener(e,t,u)}notifyButtonLoadListeners(e,t){let n=this.getButton(e,t);if(!n)throw new Error(`ButtonManager | button with id ${t} does not exist`);let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(t);if(a)for(let[o,u]of a)u(n)}removeButtonLoadListener(e,t,n){let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(t);a&&(a.delete(n),a.size===0&&i.delete(t),i.size===0&&this.buttonLoadListeners.delete(e))}addButton(e,t){if(t.id===void 0||t.id==="")throw new Error("ButtonManager | button id is undefined");if(this.buttonTemplates.has(t.id))throw new Error(`ButtonManager | button with id "${t.id}" already exists in the button templates`);this.buttons.has(e)||this.buttons.set(e,new Map),this.buttons.get(e).set(t.id,new Ip(t)),this.notifyButtonLoadListeners(e,t.id)}getButton(e,t){var i;if(this.buttonTemplates.has(t))return this.buttonTemplates.get(t);let n=this.buttons.get(e);if(n)return(i=n.get(t))==null?void 0:i.getValue()}removeButton(e,t){var i,a;let n=this.buttons.get(e);n&&((i=n.get(t))==null||i.decrement(),(a=n.get(t))!=null&&a.isEmpty()&&n.delete(t),n.size===0&&this.buttons.delete(e))}};var Pp=class extends ci{constructor(e,t,n,i,a){super(),this.plugin=e,this.referencedIds=t,this.filePath=n,this.renderChildType=i,this.notePosition=a}renderInitialButton(e,t){return ft.removeAllClasses(e),ft.addClasses(e,["mb-button",this.renderChildType==="inline"?"mb-button-inline":"mb-button-block"]),new Mp({target:e,props:{variant:"default",label:"Button ID not Found",tooltip:`No button with id '${t}' found`,error:!0,onClick:async()=>{}}})}onMount(e){ft.empty(e),ft.addClasses(e,["mb-button-group",this.renderChildType==="inline"?"mb-button-group-inline":"mb-button-group-block"]);for(let t of this.referencedIds){let n=ft.createElement(e,"span"),i=this.renderInitialButton(n,t),a,o=this.plugin.api.buttonManager.registerButtonLoadListener(this.filePath,t,u=>{i==null||i.$destroy(),a=new qo(this.plugin,u,this.filePath,this.renderChildType,this.notePosition,!1),a.mount(n)});this.registerUnmountCb(()=>{i==null||i.$destroy(),a==null||a.unmount(),o()})}}onUnmount(e){ft.empty(e)}};var Op=class extends _n{constructor(e,t,n,i,a,o){super(e,t,n),this.declaration=i,this.errorCollection=new Vt(this.getUuid()),this.errorCollection.merge(i.errorCollection),this.renderChildType=a,this.position=o}onMount(e){if(console.debug("meta-bind | InlineButtonBase >> mount",this.declaration),ft.removeAllClasses(e),!this.declaration.errorCollection.isEmpty()){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.declaration.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declaration.declarationString});return}this.buttonField=new Pp(this.plugin,this.declaration.referencedButtonIds,this.getFilePath(),this.renderChildType,this.position),this.buttonField.mount(e)}onUnmount(e){var t;console.debug("meta-bind | InlineButtonBase >> destroy",this.declaration),(t=this.buttonField)==null||t.unmount(),kn(e,"inline button")}};var Rt=class{static linkToInputField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfields/${e.toLowerCase()}/`}static linkToInputFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfieldarguments/${e.toLowerCase()}/`}static linkToViewField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfields/${e.toLowerCase()}/`}static linkToViewFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfieldarguments/${e.toLowerCase()}/`}static linkToInputFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/inputfields/"}static linkToViewFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/viewfields/"}static linkToButtons(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToButtonConfig(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToSearch(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/?s=${encodeURIComponent(e)}`}static linkToHome(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/"}static linkToGithub(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin"}static linkToIssues(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin/issues"}static linkToCanaryBuilds(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/installation/#canary-builds"}static open(e){Vf(e)}};var zo=class extends _n{constructor(e,t,n,i,a){super(e,t,n),this.renderChildType=i,this.declaration=a,this.declarationString=a.declarationString,this.errorCollection=new Vt(this.getUuid()),this.errorCollection.merge(a.errorCollection)}hasArgument(e){return this.getArguments(e).length>0}getArgument(e){return this.getArguments(e).at(0)}getArguments(e){if(this.declaration.errorCollection.hasErrors())throw new Ot({errorLevel:"CRITICAL",effect:"can not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.declaration.argumentContainer.getAll(e)}getBindTarget(){return this.declaration.bindTarget}shouldAddCardContainer(){let e=this.declaration.inputFieldType==="select"||this.declaration.inputFieldType==="multiSelect"||this.declaration.inputFieldType==="list",t=this.hasArgument("showcase")||this.hasArgument("title");return this.renderChildType==="block"&&(e||t)}createContainer(e){if(this.shouldAddCardContainer()){let t=ft.createElement(e,"div");ft.addClass(t,"mb-card");let n=this.getArgument("title");return n&&ft.createElement(t,"h3",{text:n.value}),t}return e}addShowcase(e){if(this.getArgument("showcase")&&this.shouldAddCardContainer()){let n=ft.createElement(e,"code",{class:"mb-none"}),i=ft.createElement(n,"a",{text:this.declarationString,class:"mb-no-link"});i.href=Rt.linkToInputField(this.declaration.inputFieldType)}}createInputField(){if(!this.errorCollection.hasErrors())try{this.inputField=this.plugin.api.inputFieldFactory.createInputField(this)}catch(e){this.errorCollection.add(e)}!this.errorCollection.hasErrors()&&!this.inputField&&this.errorCollection.add(new Ot({errorLevel:"CRITICAL",effect:"can't render input field",cause:"input field is undefined"}))}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){var a;if(console.debug("meta-bind | InputFieldBase >> mount",this.declaration),ft.empty(e),ft.addClass(e,"mb-input"),this.createInputField(),this.errorCollection.hasErrors()){this.createErrorIndicator(e);return}let t=this.createContainer(e);this.createErrorIndicator(t);let n=ft.createElement(t,"div",{class:"mb-input-wrapper"});(a=this.inputField)==null||a.mount(n);let i=this.getArguments("class");for(let o of i)ft.addClasses(n,o.value);ft.addClass(n,`mb-input-type-${this.declaration.inputFieldType}`),this.renderChildType==="block"?ft.addClass(e,"mb-input-block"):ft.addClass(e,"mb-input-inline"),this.addShowcase(t)}onUnmount(e){var t;console.debug("meta-bind | InputFieldBase >> unmount",this.declaration),(t=this.inputField)==null||t.destroy(),kn(e,"input field")}};var kp=class extends Lu{constructor(e,t){super(),this.plugin=e,this.mounted=!1,this.svelteComponent=t}setValue(e){var t;(t=this.svelteComponentInstance)==null||t.setValue(e)}mount(e,t,n={}){let i=Object.assign({plugin:this.plugin,value:t,onValueChange:a=>{this.notifyListeners(a)}},n);this.svelteComponentInstance=new this.svelteComponent({target:e,props:i}),this.mounted=!0}unmount(){var e;this.unregisterAllListeners(),(e=this.svelteComponentInstance)==null||e.$destroy(),this.mounted=!1}isMounted(){return this.mounted}};var Zt=class extends ci{constructor(e){super(),this.base=e,this.inputSignal=new Fr(void 0),this.inputFieldComponent=new kp(this.base.plugin,this.getSvelteComponent()),this.computedSignal=new rp(this.inputSignal,t=>{let n=this.filterValue(t);return n!==void 0?n:this.getDefaultValue()})}destroy(){this.inputFieldComponent.isMounted()&&this.unmount()}reverseMapValue(e){let t=this.rawReverseMapValue(e);if(t!==void 0)return t;let n=this.rawReverseMapValue(this.getDefaultValue());return n!==void 0?n:this.getFallbackDefaultValue()}mapValue(e){return this.rawMapValue(e)}getValue(){return this.computedSignal.get()}getInternalValue(){return this.reverseMapValue(this.getValue())}setValue(e){this.computedSignal.set(e),this.notifySubscription(e)}setInternalValue(e){this.setValue(this.mapValue(e))}notifySubscription(e){var t;(t=this.metadataSubscription)==null||t.update(e)}getDefaultValue(){let e=this.base.getArgument("defaultValue");if(e===void 0)return this.mapValue(this.getFallbackDefaultValue());let t=this.filterValue(e.value);return t!==void 0?t:this.mapValue(this.getFallbackDefaultValue())}getMountArgs(){return{}}onMount(e){this.inputSignal.set(this.inputSignal.get()),this.computedSignal.registerListener({callback:n=>this.inputFieldComponent.setValue(this.reverseMapValue(n))});let t=this.base.getBindTarget();t&&(this.inputFieldComponent.registerListener({callback:n=>{this.notifySubscription(this.mapValue(n))}}),this.metadataSubscription=this.base.plugin.metadataManager.subscribe(this.base.getUuid(),this.inputSignal,t,()=>this.base.unmount())),this.inputFieldComponent.mount(e,this.reverseMapValue(this.getValue()),this.getMountArgs())}onUnmount(){var e;this.computedSignal.unregisterAllListeners(),(e=this.metadataSubscription)==null||e.unsubscribe(),this.inputFieldComponent.unmount()}};function eH(r){let e,t,n;return{c(){e=K("input"),$(e,"type","date")},m(i,a){W(i,e,a),Ke(e,r[0]),t||(n=[Ie(e,"input",r[3]),Ie(e,"input",r[4])],t=!0)},p(i,[a]){a&1&&Ke(e,i[0])},i:We,o:We,d(i){i&&G(e),t=!1,Ct(n)}}}function tH(r,e,t){let{value:n}=e,{onValueChange:i}=e;function a(s){t(0,n=s)}function o(){n=this.value,t(0,n)}let u=()=>i(n);return r.$$set=s=>{"value"in s&&t(0,n=s.value),"onValueChange"in s&&t(1,i=s.onValueChange)},[n,i,a,o,u]}var cv=class extends qe{constructor(e){super(),He(this,e,tH,eH,ze,{value:0,onValueChange:1,setValue:2})}get setValue(){return this.$$.ctx[2]}},IN=cv;var Rp=class extends Zt{filterValue(e){return Ta(e)}getFallbackDefaultValue(){return Rn.stringify(Rn.getDefaultDate())}getSvelteComponent(){return IN}rawMapValue(e){return e}rawReverseMapValue(e){return e}};function BN(r){let e;return{c(){e=K("div"),$(e,"class","mb-icon-wrapper")},m(t,n){W(t,e,n),r[3](e)},p:We,d(t){t&&G(e),r[3](null)}}}function rH(r){let e,t=r[0].length>0&&BN(r);return{c(){t&&t.c(),e=Sr()},m(n,i){t&&t.m(n,i),W(n,e,i)},p(n,[i]){n[0].length>0?t?t.p(n,i):(t=BN(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:We,o:We,d(n){n&&G(e),t&&t.d(n)}}}function nH(r,e,t){let{iconName:n=""}=e,{plugin:i}=e,a;Fi(()=>{i.internal.setIcon(a,n)});function o(u){Jr[u?"unshift":"push"](()=>{a=u,t(1,a)})}return r.$$set=u=>{"iconName"in u&&t(0,n=u.iconName),"plugin"in u&&t(2,i=u.plugin)},[n,a,i,o]}var fv=class extends qe{constructor(e){super(),He(this,e,nH,rH,ze,{iconName:0,plugin:2})}},Mr=fv;function iH(r){let e,t,n=(r[0]?r[0].format(r[2]):"none")+"",i,a,o,u,s,l;return o=new Mr({props:{plugin:r[1],iconName:"calendar"}}),{c(){e=K("div"),t=K("span"),i=Le(n),a=le(),we(o.$$.fragment),$(t,"class","date-picker-text"),$(e,"class","date-picker-input"),$(e,"role","button"),$(e,"tabindex","0")},m(c,f){W(c,e,f),X(e,t),X(t,i),X(e,a),be(o,e,null),u=!0,s||(l=[Ie(e,"click",r[3]),Ie(e,"keydown",r[4])],s=!0)},p(c,[f]){(!u||f&5)&&n!==(n=(c[0]?c[0].format(c[2]):"none")+"")&&gt(i,n);let p={};f&2&&(p.plugin=c[1]),o.$set(p)},i(c){u||(Q(o.$$.fragment,c),u=!0)},o(c){ie(o.$$.fragment,c),u=!1},d(c){c&&G(e),xe(o),s=!1,Ct(l)}}}function aH(r,e,t){let{plugin:n}=e,{value:i}=e,{dateFormat:a}=e,{showDatePicker:o}=e,{onValueChange:u}=e;function s(f){t(0,i=f)}function l(f){o()}function c(f){f.key===" "&&o()}return r.$$set=f=>{"plugin"in f&&t(1,n=f.plugin),"value"in f&&t(0,i=f.value),"dateFormat"in f&&t(2,a=f.dateFormat),"showDatePicker"in f&&t(5,o=f.showDatePicker),"onValueChange"in f&&t(6,u=f.onValueChange)},[i,n,a,l,c,o,u,s]}var pv=class extends qe{constructor(e){super(),He(this,e,aH,iH,ze,{plugin:1,value:0,dateFormat:2,showDatePicker:5,onValueChange:6,setValue:7})}get setValue(){return this.$$.ctx[7]}},PN=pv;var Lp=class extends Zt{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){if(e===null)return null;if(e===void 0||typeof e!="string")return;let t=Rn.parse(e);if(t.isValid())return Rn.stringify(t)}getFallbackDefaultValue(){return Rn.getDefaultDate()}getSvelteComponent(){return PN}rawMapValue(e){return e===null?null:Rn.stringify(e)}rawReverseMapValue(e){if(e===null)return null;let t=Rn.parse(e);if(t.isValid())return t}getMountArgs(){return{dateFormat:this.base.plugin.settings.preferredDateFormat,showDatePicker:()=>{this.base.plugin.internal.openDatePickerModal(this)}}}};function oH(r){Hi(r,"svelte-1tfnqy0",".editor-input.svelte-1tfnqy0.svelte-1tfnqy0{background:var(--background-secondary);width:100%;height:500px;padding:0;position:relative;margin-left:0;overflow:scroll}.editor-input.svelte-1tfnqy0>textarea.svelte-1tfnqy0{background:var(--background-secondary);border:none;padding:var(--size-4-4) var(--size-4-8);margin:0;position:absolute;inset:0;resize:none;border-radius:0}.editor-input.svelte-1tfnqy0>div.svelte-1tfnqy0{padding:var(--size-4-4) var(--size-4-8);position:absolute;inset:0}")}function sH(r){let e,t,n,i,a,o;return{c(){e=K("div"),t=K("textarea"),n=le(),i=K("div"),$(t,"class","svelte-1tfnqy0"),$(i,"class","svelte-1tfnqy0"),$(e,"class","editor-input card svelte-1tfnqy0"),$(e,"role","button"),$(e,"tabindex","0")},m(u,s){W(u,e,s),X(e,t),r[10](t),Ke(t,r[0]),X(e,n),X(e,i),r[14](i),a||(o=[Ie(t,"input",r[11]),Ie(t,"focusout",r[12]),Ie(t,"input",r[13]),Ie(e,"click",r[15]),Ie(e,"keypress",r[16])],a=!0)},p(u,[s]){s&1&&Ke(t,u[0])},i:We,o:We,d(u){u&&G(e),r[10](null),r[14](null),a=!1,Ct(o)}}}function uH(r,e,t){let{plugin:n}=e,{value:i}=e,{onValueChange:a}=e,{render:o}=e,u,s;Fi(()=>{t(2,u.style.display="block",u),t(3,s.style.display="none",s),o(u,i)});function l(w){t(0,i=w),o(u,w)}function c(){t(2,u.style.display="block",u),t(3,s.style.display="none",s),o(u,i)}function f(){t(2,u.style.display="none",u),t(3,s.style.display="block",s),s.focus()}function p(w){w.key===" "&&f()}function m(w){Jr[w?"unshift":"push"](()=>{s=w,t(3,s)})}function h(){i=this.value,t(0,i)}let d=()=>c(),g=()=>a(i);function y(w){Jr[w?"unshift":"push"](()=>{u=w,t(2,u)})}let _=()=>f(),b=w=>p(w);return r.$$set=w=>{"plugin"in w&&t(7,n=w.plugin),"value"in w&&t(0,i=w.value),"onValueChange"in w&&t(1,a=w.onValueChange),"render"in w&&t(8,o=w.render)},[i,a,u,s,c,f,p,n,o,l,m,h,d,g,y,_,b]}var mv=class extends qe{constructor(e){super(),He(this,e,uH,sH,ze,{plugin:7,value:0,onValueChange:1,render:8,setValue:9},oH)}get setValue(){return this.$$.ctx[9]}},ON=mv;var Vp=class extends Zt{filterValue(e){return Lo(e)?e==null?void 0:e.toString():void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return ON}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{render:(e,t)=>void this.renderInElement(e,t)}}async renderInElement(e,t){var n;(n=this.mdUnloadCallback)==null||n.call(this),e.innerHTML="",this.mdUnloadCallback=await this.base.plugin.internal.renderMarkdown(t,e,this.base.getFilePath())}onUnmount(){var e;super.onUnmount(),(e=this.mdUnloadCallback)==null||e.call(this)}};function lH(r){Hi(r,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function cH(r){let e,t,n,i,a=r[4].default,o=fa(a,r,r[3],null);return{c(){e=K("button"),o&&o.c(),$(e,"aria-label",r[2]),e.disabled=r[1],$(e,"class","svelte-12xcpmj"),$t(e,"mod-cta",r[0]==="primary"),$t(e,"mod-warning",r[0]==="destructive"),$t(e,"mod-plain",r[0]==="plain"),$t(e,"disabled",r[1])},m(u,s){W(u,e,s),o&&o.m(e,null),t=!0,n||(i=Ie(e,"click",r[5]),n=!0)},p(u,[s]){o&&o.p&&(!t||s&8)&&ma(o,a,u,u[3],t?pa(a,u[3],s,null):da(u[3]),null),(!t||s&4)&&$(e,"aria-label",u[2]),(!t||s&2)&&(e.disabled=u[1]),(!t||s&1)&&$t(e,"mod-cta",u[0]==="primary"),(!t||s&1)&&$t(e,"mod-warning",u[0]==="destructive"),(!t||s&1)&&$t(e,"mod-plain",u[0]==="plain"),(!t||s&2)&&$t(e,"disabled",u[1])},i(u){t||(Q(o,u),t=!0)},o(u){ie(o,u),t=!1},d(u){u&&G(e),o&&o.d(u),n=!1,i()}}}function fH(r,e,t){let{$$slots:n={},$$scope:i}=e,{variant:a="default"}=e,{disabled:o=!1}=e,{tooltip:u=""}=e;function s(l){NN.call(this,r,l)}return r.$$set=l=>{"variant"in l&&t(0,a=l.variant),"disabled"in l&&t(1,o=l.disabled),"tooltip"in l&&t(2,u=l.tooltip),"$$scope"in l&&t(3,i=l.$$scope)},[a,o,u,i,n,s]}var dv=class extends qe{constructor(e){super(),He(this,e,fH,cH,ze,{variant:0,disabled:1,tooltip:2},lH)}},wt=dv;function kN(r){let e,t;return{c(){e=K("img"),$(e,"class","mb-image-card-image"),zi(e.src,t=r[1].internal.imagePathToUri(r[0]))||$(e,"src",t),$(e,"alt",r[0])},m(n,i){W(n,e,i)},p(n,i){i&3&&!zi(e.src,t=n[1].internal.imagePathToUri(n[0]))&&$(e,"src",t),i&1&&$(e,"alt",n[0])},d(n){n&&G(e)}}}function pH(r){let e,t;return e=new Mr({props:{iconName:"pencil",plugin:r[1]}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function mH(r){let e,t,n,i,a=(r[0]||"no image selected")+"",o,u,s,l,c=r[0]&&kN(r);return s=new wt({props:{variant:"plain",$$slots:{default:[pH]},$$scope:{ctx:r}}}),s.$on("click",r[2]),{c(){e=K("div"),c&&c.c(),t=le(),n=K("div"),i=K("span"),o=Le(a),u=le(),we(s.$$.fragment),$(n,"class","mb-image-card-footer"),$(e,"class","mb-image-card")},m(f,p){W(f,e,p),c&&c.m(e,null),X(e,t),X(e,n),X(n,i),X(i,o),X(n,u),be(s,n,null),l=!0},p(f,[p]){f[0]?c?c.p(f,p):(c=kN(f),c.c(),c.m(e,t)):c&&(c.d(1),c=null),(!l||p&1)&&a!==(a=(f[0]||"no image selected")+"")&&gt(o,a);let m={};p&66&&(m.$$scope={dirty:p,ctx:f}),s.$set(m)},i(f){l||(Q(s.$$.fragment,f),l=!0)},o(f){ie(s.$$.fragment,f),l=!1},d(f){f&&G(e),c&&c.d(),xe(s)}}}function dH(r,e,t){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{onValueChange:o}=e;function u(l){t(0,i=l)}function s(l){a()}return r.$$set=l=>{"plugin"in l&&t(1,n=l.plugin),"value"in l&&t(0,i=l.value),"showSuggester"in l&&t(3,a=l.showSuggester),"onValueChange"in l&&t(4,o=l.onValueChange)},[i,n,s,a,o,u]}var hv=class extends qe{constructor(e){super(),He(this,e,dH,mH,ze,{plugin:1,value:0,showSuggester:3,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},RN=hv;var Up=class extends Zt{filterValue(e){return Lo(e)?e:void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return RN}rawMapValue(e){return e}rawReverseMapValue(e){return ca(e)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openImageSuggesterModal(this,e=>this.setInternalValue(e))}};function hH(r){let e,t;return{c(){e=K("a"),t=Le(r[2]),$(e,"data-href",r[2]),$(e,"href",r[2]),$(e,"class",r[1]),$(e,"target","_blank"),$(e,"rel","noopener")},m(n,i){W(n,e,i),X(e,t)},p(n,i){i&4&&gt(t,n[2]),i&4&&$(e,"data-href",n[2]),i&4&&$(e,"href",n[2]),i&2&&$(e,"class",n[1])},d(n){n&&G(e)}}}function gH(r){let e,t=r[0].alias+"",n;return{c(){e=K("a"),n=Le(t),$(e,"data-href",r[2]),$(e,"href",r[2]),$(e,"class",r[1]),$(e,"target","_blank"),$(e,"rel","noopener"),$(e,"aria-label",r[2])},m(i,a){W(i,e,a),X(e,n)},p(i,a){a&1&&t!==(t=i[0].alias+"")&&gt(n,t),a&4&&$(e,"data-href",i[2]),a&4&&$(e,"href",i[2]),a&2&&$(e,"class",i[1]),a&4&&$(e,"aria-label",i[2])},d(i){i&&G(e)}}}function vH(r){let e;function t(a,o){return a[0].alias?gH:hH}let n=t(r,-1),i=n(r);return{c(){i.c(),e=Sr()},m(a,o){i.m(a,o),W(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:We,o:We,d(a){a&&G(e),i.d(a)}}}function yH(r,e,t){let n,i,{mdLink:a}=e;return r.$$set=o=>{"mdLink"in o&&t(0,a=o.mdLink)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=a.block?`${a.target}#${a.block}`:a.target),r.$$.dirty&1&&t(1,i=a.internal?"internal-link":"external-link")},[a,i,n]}var gv=class extends qe{constructor(e){super(),He(this,e,yH,vH,ze,{mdLink:0})}},Ho=gv;var bH=r=>({element:r&1}),LN=r=>({element:r[0][r[0].length-1]});function VN(r,e,t){let n=r.slice();return n[3]=e[t],n}var xH=r=>({element:r&1}),UN=r=>({element:r[3]});function $N(r){let e,t,n,i,a,o=r[2].default,u=fa(o,r,r[1],UN);return{c(){u&&u.c(),e=le(),t=K("span"),t.textContent=",",n=le(),i=K("span")},m(s,l){u&&u.m(s,l),W(s,e,l),W(s,t,l),W(s,n,l),W(s,i,l),a=!0},p(s,l){u&&u.p&&(!a||l&3)&&ma(u,o,s,s[1],a?pa(o,s[1],l,xH):da(s[1]),UN)},i(s){a||(Q(u,s),a=!0)},o(s){ie(u,s),a=!1},d(s){s&&(G(e),G(t),G(n),G(i)),u&&u.d(s)}}}function wH(r){let e,t,n=ut(r[0].slice(0,r[0].length-1)),i=[];for(let s=0;s<n.length;s+=1)i[s]=$N(VN(r,n,s));let a=s=>ie(i[s],1,1,()=>{i[s]=null}),o=r[2].default,u=fa(o,r,r[1],LN);return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=le(),u&&u.c()},m(s,l){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(s,l);W(s,e,l),u&&u.m(s,l),t=!0},p(s,[l]){if(l&3){n=ut(s[0].slice(0,s[0].length-1));let c;for(c=0;c<n.length;c+=1){let f=VN(s,n,c);i[c]?(i[c].p(f,l),Q(i[c],1)):(i[c]=$N(f),i[c].c(),Q(i[c],1),i[c].m(e.parentNode,e))}for(yt(),c=n.length;c<i.length;c+=1)a(c);bt()}u&&u.p&&(!t||l&3)&&ma(u,o,s,s[1],t?pa(o,s[1],l,bH):da(s[1]),LN)},i(s){if(!t){for(let l=0;l<n.length;l+=1)Q(i[l]);Q(u,s),t=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)ie(i[l]);ie(u,s),t=!1},d(s){s&&G(e),Gt(i,s),u&&u.d(s)}}}function _H(r,e,t){let{$$slots:n={},$$scope:i}=e,{elements:a=[]}=e;return r.$$set=o=>{"elements"in o&&t(0,a=o.elements),"$$scope"in o&&t(1,i=o.$$scope)},[a,i,n]}var vv=class extends qe{constructor(e){super(),He(this,e,_H,wH,ze,{elements:0})}},$p=vv;function SH(r){let e,t,n;return t=new Ho({props:{mdLink:r[0]}}),{c(){e=K("span"),we(t.$$.fragment)},m(i,a){W(i,e,a),be(t,e,null),n=!0},p(i,a){let o={};a&1&&(o.mdLink=i[0]),t.$set(o)},i(i){n||(Q(t.$$.fragment,i),n=!0)},o(i){ie(t.$$.fragment,i),n=!1},d(i){i&&G(e),xe(t)}}}function AH(r){let e,t,n;return t=new $p({props:{elements:r[0],$$slots:{default:[CH,({element:i})=>({2:i}),({element:i})=>i?4:0]},$$scope:{ctx:r}}}),{c(){e=K("span"),we(t.$$.fragment)},m(i,a){W(i,e,a),be(t,e,null),n=!0},p(i,a){let o={};a&1&&(o.elements=i[0]),a&12&&(o.$$scope={dirty:a,ctx:i}),t.$set(o)},i(i){n||(Q(t.$$.fragment,i),n=!0)},o(i){ie(t.$$.fragment,i),n=!1},d(i){i&&G(e),xe(t)}}}function DH(r){let e,t;return{c(){e=K("span"),t=Le(r[0]),io(e,"white-space","pre")},m(n,i){W(n,e,i),X(e,t)},p(n,i){i&1&&gt(t,n[0])},i:We,o:We,d(n){n&&G(e)}}}function EH(r){let e,t;return e=new Ho({props:{mdLink:r[2]}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&4&&(a.mdLink=n[2]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function NH(r){let e,t=r[2]+"",n;return{c(){e=K("span"),n=Le(t)},m(i,a){W(i,e,a),X(e,n)},p(i,a){a&4&&t!==(t=i[2]+"")&&gt(n,t)},i:We,o:We,d(i){i&&G(e)}}}function CH(r){let e,t,n,i,a=[NH,EH],o=[];function u(s,l){return typeof s[2]=="string"?0:1}return e=u(r,-1),t=o[e]=a[e](r),{c(){t.c(),n=Sr()},m(s,l){o[e].m(s,l),W(s,n,l),i=!0},p(s,l){let c=e;e=u(s,l),e===c?o[e].p(s,l):(yt(),ie(o[c],1,1,()=>{o[c]=null}),bt(),t=o[e],t?t.p(s,l):(t=o[e]=a[e](s),t.c()),Q(t,1),t.m(n.parentNode,n))},i(s){i||(Q(t),i=!0)},o(s){ie(t),i=!1},d(s){s&&G(n),o[e].d(s)}}}function TH(r){let e,t,n,i,a,o=[DH,AH,SH],u=[];function s(l,c){return c&1&&(e=null),typeof l[0]=="string"?0:(e==null&&(e=!!Array.isArray(l[0])),e?1:2)}return t=s(r,-1),n=u[t]=o[t](r),{c(){n.c(),i=Sr()},m(l,c){u[t].m(l,c),W(l,i,c),a=!0},p(l,[c]){let f=t;t=s(l,c),t===f?u[t].p(l,c):(yt(),ie(u[f],1,1,()=>{u[f]=null}),bt(),n=u[t],n?n.p(l,c):(n=u[t]=o[t](l),n.c()),Q(n,1),n.m(i.parentNode,i))},i(l){a||(Q(n),a=!0)},o(l){ie(n),a=!1},d(l){l&&G(i),u[t].d(l)}}}function MH(r,e,t){let{value:n=void 0}=e,i;return r.$$set=a=>{"value"in a&&t(1,n=a.value)},r.$$.update=()=>{r.$$.dirty&2&&t(0,i=yN(n,!1))},[i,n]}var yv=class extends qe{constructor(e){super(),He(this,e,MH,TH,ze,{value:1})}},Gi=yv;function qN(r,e,t){let n=r.slice();return n[11]=e[t],n[13]=t,n}function zN(r){let e,t,n,i,a;t=new Gi({props:{value:r[11]}});function o(...u){return r[8](r[13],...u)}return{c(){e=K("div"),we(t.$$.fragment),$(e,"class","mb-inline-list-item"),$(e,"role","listitem")},m(u,s){W(u,e,s),be(t,e,null),n=!0,i||(a=Ie(e,"contextmenu",o),i=!0)},p(u,s){r=u;let l={};s&1&&(l.value=r[11]),t.$set(l)},i(u){n||(Q(t.$$.fragment,u),n=!0)},o(u){ie(t.$$.fragment,u),n=!1},d(u){u&&G(e),xe(t),i=!1,a()}}}function FH(r){let e,t,n,i,a,o,u,s,l,c=ut(r[0]),f=[];for(let m=0;m<c.length;m+=1)f[m]=zN(qN(r,c,m));let p=m=>ie(f[m],1,1,()=>{f[m]=null});return o=new Mr({props:{plugin:r[1],iconName:"plus"}}),{c(){e=K("div");for(let m=0;m<f.length;m+=1)f[m].c();t=le(),n=K("div"),i=K("span"),i.textContent="\u200B",a=le(),we(o.$$.fragment),$(n,"class","mb-inline-list-add"),$(n,"role","button"),$(n,"tabindex","0"),$(e,"class","mb-inline-list")},m(m,h){W(m,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);X(e,t),X(e,n),X(n,i),X(n,a),be(o,n,null),u=!0,s||(l=[Ie(n,"click",r[9]),Ie(n,"keydown",r[3])],s=!0)},p(m,[h]){if(h&17){c=ut(m[0]);let g;for(g=0;g<c.length;g+=1){let y=qN(m,c,g);f[g]?(f[g].p(y,h),Q(f[g],1)):(f[g]=zN(y),f[g].c(),Q(f[g],1),f[g].m(e,t))}for(yt(),g=c.length;g<f.length;g+=1)p(g);bt()}let d={};h&2&&(d.plugin=m[1]),o.$set(d)},i(m){if(!u){for(let h=0;h<c.length;h+=1)Q(f[h]);Q(o.$$.fragment,m),u=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)ie(f[h]);ie(o.$$.fragment,m),u=!1},d(m){m&&G(e),Gt(f,m),xe(o),s=!1,Ct(l)}}}function IH(r,e,t){let{plugin:n}=e,{value:i}=e,{showInput:a}=e,{onValueChange:o}=e;function u(h){t(0,i=h)}function s(h){i.push(h),t(0,i)}function l(h){i.splice(h,1),o(i),t(0,i)}function c(h){h.key===" "&&a()}function f(h,d){let g=[];d>0&&g.push({name:"Move left",icon:"arrow-left",onclick:()=>{let y=i[d-1];t(0,i[d-1]=i[d],i),t(0,i[d]=y,i),o(i)}}),d<i.length-1&&g.push({name:"Move right",icon:"arrow-right",onclick:()=>{let y=i[d+1];t(0,i[d+1]=i[d],i),t(0,i[d]=y,i),o(i)}}),g.push({name:"Edit",icon:"pencil",onclick:()=>{n.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Edit the value of a list item.",value:ca(i[d]),multiline:!1,onSubmit:y=>{t(0,i[d]=y,i),o(i)},onCancel:()=>{}})}}),g.push({name:"Remove",icon:"x",warning:!0,onclick:()=>l(d)}),n.internal.createContextMenu(g).showWithEvent(h)}let p=(h,d)=>f(d,h),m=()=>a();return r.$$set=h=>{"plugin"in h&&t(1,n=h.plugin),"value"in h&&t(0,i=h.value),"showInput"in h&&t(2,a=h.showInput),"onValueChange"in h&&t(5,o=h.onValueChange)},[i,n,a,c,f,o,u,s,p,m]}var bv=class extends qe{constructor(e){super(),He(this,e,IH,FH,ze,{plugin:1,value:0,showInput:2,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},HN=bv;var qp=class extends Zt{filterValue(e){return qi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return HN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showInput:()=>this.openModal()}}openModal(){this.base.plugin.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},onCancel:()=>{}})}};function GN(r,e,t){let n=r.slice();return n[13]=e[t],n[15]=t,n}function WN(r){let e,t,n,i,a;t=new Gi({props:{value:r[13]}});function o(...u){return r[11](r[15],...u)}return{c(){e=K("div"),we(t.$$.fragment),$(e,"class","mb-inline-list-item"),$(e,"role","listitem")},m(u,s){W(u,e,s),be(t,e,null),n=!0,i||(a=Ie(e,"contextmenu",o),i=!0)},p(u,s){r=u;let l={};s&1&&(l.value=r[13]),t.$set(l)},i(u){n||(Q(t.$$.fragment,u),n=!0)},o(u){ie(t.$$.fragment,u),n=!1},d(u){u&&G(e),xe(t),i=!1,a()}}}function BH(r){let e,t,n,i,a,o,u,s,l,c=ut(r[0]),f=[];for(let m=0;m<c.length;m+=1)f[m]=WN(GN(r,c,m));let p=m=>ie(f[m],1,1,()=>{f[m]=null});return o=new Mr({props:{plugin:r[1],iconName:"plus"}}),{c(){e=K("div");for(let m=0;m<f.length;m+=1)f[m].c();t=le(),n=K("div"),i=K("span"),i.textContent="\u200B",a=le(),we(o.$$.fragment),$(n,"class","mb-inline-list-add"),$(n,"role","button"),$(n,"tabindex","0"),$(e,"class","mb-inline-list")},m(m,h){W(m,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);X(e,t),X(e,n),X(n,i),X(n,a),be(o,n,null),u=!0,s||(l=[Ie(n,"click",r[2]),Ie(n,"keydown",r[3])],s=!0)},p(m,[h]){if(h&17){c=ut(m[0]);let g;for(g=0;g<c.length;g+=1){let y=GN(m,c,g);f[g]?(f[g].p(y,h),Q(f[g],1)):(f[g]=WN(y),f[g].c(),Q(f[g],1),f[g].m(e,t))}for(yt(),g=c.length;g<f.length;g+=1)p(g);bt()}let d={};h&2&&(d.plugin=m[1]),o.$set(d)},i(m){if(!u){for(let h=0;h<c.length;h+=1)Q(f[h]);Q(o.$$.fragment,m),u=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)ie(f[h]);ie(o.$$.fragment,m),u=!1},d(m){m&&G(e),Gt(f,m),xe(o),s=!1,Ct(l)}}}function PH(r,e,t){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{showTextPrompt:o}=e,{allowsOther:u}=e,{onValueChange:s}=e;function l(g){t(0,i=g)}function c(g){i.push(g),t(0,i)}function f(g){i.splice(g,1),s(i),t(0,i)}function p(g){if(!u){a();return}n.internal.createContextMenu([{name:"From Options",onclick:()=>a()},{name:"From Text",onclick:()=>o()}]).showWithEvent(g)}function m(g){g.key===" "&&a()}function h(g,y){let _=[];y>0&&_.push({name:"Move left",icon:"arrow-left",onclick:()=>{let b=i[y-1];t(0,i[y-1]=i[y],i),t(0,i[y]=b,i),s(i)}}),y<i.length-1&&_.push({name:"Move right",icon:"arrow-right",onclick:()=>{let b=i[y+1];t(0,i[y+1]=i[y],i),t(0,i[y]=b,i),s(i)}}),_.push({name:"Remove",icon:"x",warning:!0,onclick:()=>f(y)}),n.internal.createContextMenu(_).showWithEvent(g)}let d=(g,y)=>h(y,g);return r.$$set=g=>{"plugin"in g&&t(1,n=g.plugin),"value"in g&&t(0,i=g.value),"showSuggester"in g&&t(5,a=g.showSuggester),"showTextPrompt"in g&&t(6,o=g.showTextPrompt),"allowsOther"in g&&t(7,u=g.allowsOther),"onValueChange"in g&&t(8,s=g.onValueChange)},[i,n,p,m,h,a,o,u,s,l,c,d]}var xv=class extends qe{constructor(e){super(),He(this,e,PH,BH,ze,{plugin:1,value:0,showSuggester:5,showTextPrompt:6,allowsOther:7,onValueChange:8,setValue:9,addValue:10})}get setValue(){return this.$$.ctx[9]}get addValue(){return this.$$.ctx[10]}},YN=xv;var zp=class extends Zt{filterValue(e){return qi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return YN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e;return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowsOther:((e=this.base.getArgument("allowOther"))==null?void 0:e.value)===!0}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}openTextModal(){this.base.plugin.internal.openTextPromptModal({title:"Meta Bind List Suggester",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},onCancel:()=>{}})}};function jN(r,e,t){let n=r.slice();return n[8]=e[t],n}function ZN(r){let e,t=r[8].name+"",n,i;return{c(){e=K("option"),n=Le(t),e.__value=i=r[8].value,Ke(e,e.__value)},m(a,o){W(a,e,o),X(e,n)},p(a,o){o&2&&t!==(t=a[8].name+"")&&gt(n,t),o&2&&i!==(i=a[8].value)&&(e.__value=i,Ke(e,e.__value))},d(a){a&&G(e)}}}function OH(r){let e,t,n,i=ut(r[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=ZN(jN(r,i,o));return{c(){e=K("select");for(let o=0;o<a.length;o+=1)a[o].c();$(e,"class","dropdown"),r[0]===void 0&&Ma(()=>r[6].call(e))},m(o,u){W(o,e,u);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,null);Uo(e,r[0],!0),t||(n=[Ie(e,"change",r[6]),Ie(e,"change",r[7])],t=!0)},p(o,[u]){if(u&2){i=ut(o[1]);let s;for(s=0;s<i.length;s+=1){let l=jN(o,i,s);a[s]?a[s].p(l,u):(a[s]=ZN(l),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=i.length}u&3&&Uo(e,o[0])},i:We,o:We,d(o){o&&G(e),Gt(a,o),t=!1,Ct(n)}}}function kH(r,e,t){let{plugin:n}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function u(f){t(0,i=f)}function s(){o(i)}function l(){i=cc(this),t(0,i),t(1,a)}let c=()=>s();return r.$$set=f=>{"plugin"in f&&t(3,n=f.plugin),"value"in f&&t(0,i=f.value),"options"in f&&t(1,a=f.options),"onValueChange"in f&&t(4,o=f.onValueChange)},[i,a,s,n,o,u,l,c]}var wv=class extends qe{constructor(e){super(),He(this,e,kH,OH,ze,{plugin:3,value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},JN=wv;var Hp=class extends Zt{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){return Vo(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return JN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function XN(r,e,t){let n=r.slice();return n[16]=e[t],n[18]=t,n}function QN(r){let e;return{c(){e=K("span"),e.textContent="Empty",$(e,"class","mb-list-empty")},m(t,n){W(t,e,n)},p:We,d(t){t&&G(e)}}}function KN(r){let e,t,n,i,a,o;t=new Gi({props:{value:r[16]}});function u(...s){return r[10](r[18],...s)}return{c(){e=K("div"),we(t.$$.fragment),n=le(),$(e,"class","mb-list-item"),$(e,"role","listitem")},m(s,l){W(s,e,l),be(t,e,null),X(e,n),i=!0,a||(o=Ie(e,"contextmenu",u),a=!0)},p(s,l){r=s;let c={};l&1&&(c.value=r[16]),t.$set(c)},i(s){i||(Q(t.$$.fragment,s),i=!0)},o(s){ie(t.$$.fragment,s),i=!1},d(s){s&&G(e),xe(t),a=!1,o()}}}function RH(r){let e,t,n;return{c(){e=K("input"),$(e,"type","text"),$(e,"tabindex","0"),$(e,"placeholder",r[3]),$(e,"maxlength",r[2])},m(i,a){W(i,e,a),Ke(e,r[5]),t||(n=[Ie(e,"input",r[12]),Ie(e,"keyup",r[13])],t=!0)},p(i,a){a&8&&$(e,"placeholder",i[3]),a&4&&$(e,"maxlength",i[2]),a&32&&e.value!==i[5]&&Ke(e,i[5])},d(i){i&&G(e),t=!1,Ct(n)}}}function LH(r){let e,t,n;return{c(){e=K("textarea"),$(e,"tabindex","0"),$(e,"placeholder",r[3]),$(e,"maxlength",r[2])},m(i,a){W(i,e,a),Ke(e,r[5]),t||(n=Ie(e,"input",r[11]),t=!0)},p(i,a){a&8&&$(e,"placeholder",i[3]),a&4&&$(e,"maxlength",i[2]),a&32&&Ke(e,i[5])},d(i){i&&G(e),t=!1,n()}}}function eC(r){let e,t=tC(r[0].length,r[2])+"",n,i;return{c(){e=K("span"),n=Le(t),$(e,"class",i=`mb-content-limit-indicator ${r[0].length>r[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){W(a,e,o),X(e,n)},p(a,o){o&5&&t!==(t=tC(a[0].length,a[2])+"")&&gt(n,t),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&$(e,"class",i)},d(a){a&&G(e)}}}function VH(r){let e,t;return e=new Mr({props:{plugin:r[1],iconName:"plus"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function UH(r){let e,t,n,i,a,o,u,s=ut(r[0]),l=[];for(let g=0;g<s.length;g+=1)l[g]=KN(XN(r,s,g));let c=g=>ie(l[g],1,1,()=>{l[g]=null}),f=null;s.length||(f=QN(r));function p(g,y){return g[4]?LH:RH}let m=p(r,-1),h=m(r),d=r[2]!==void 0&&eC(r);return o=new wt({props:{disabled:!r[5],$$slots:{default:[VH]},$$scope:{ctx:r}}}),o.$on("click",r[14]),{c(){e=K("div");for(let g=0;g<l.length;g+=1)l[g].c();f&&f.c(),t=le(),n=K("div"),h.c(),i=le(),d&&d.c(),a=le(),we(o.$$.fragment),$(e,"class","mb-list-items"),$(n,"class","mb-list-input")},m(g,y){W(g,e,y);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(e,null);f&&f.m(e,null),W(g,t,y),W(g,n,y),h.m(n,null),X(n,i),d&&d.m(n,null),X(n,a),be(o,n,null),u=!0},p(g,[y]){if(y&129){s=ut(g[0]);let b;for(b=0;b<s.length;b+=1){let w=XN(g,s,b);l[b]?(l[b].p(w,y),Q(l[b],1)):(l[b]=KN(w),l[b].c(),Q(l[b],1),l[b].m(e,null))}for(yt(),b=s.length;b<l.length;b+=1)c(b);bt(),!s.length&&f?f.p(g,y):s.length?f&&(f.d(1),f=null):(f=QN(g),f.c(),f.m(e,null))}m===(m=p(g,y))&&h?h.p(g,y):(h.d(1),h=m(g),h&&(h.c(),h.m(n,i))),g[2]!==void 0?d?d.p(g,y):(d=eC(g),d.c(),d.m(n,a)):d&&(d.d(1),d=null);let _={};y&32&&(_.disabled=!g[5]),y&524290&&(_.$$scope={dirty:y,ctx:g}),o.$set(_)},i(g){if(!u){for(let y=0;y<s.length;y+=1)Q(l[y]);Q(o.$$.fragment,g),u=!0}},o(g){l=l.filter(Boolean);for(let y=0;y<l.length;y+=1)ie(l[y]);ie(o.$$.fragment,g),u=!1},d(g){g&&(G(e),G(t),G(n)),Gt(l,g),f&&f.d(),h.d(),d&&d.d(),xe(o)}}}function tC(r,e){let t=e.toString();return`${r.toString().padStart(t.length,"0")}/${t}`}function $H(r,e,t){let{plugin:n}=e,{value:i}=e,{limit:a}=e,{placeholder:o}=e,{multiLine:u}=e,{onValueChange:s}=e,l="";function c(b){t(0,i=b)}function f(){i.push(l),s(i),t(5,l=""),t(0,i)}function p(b){i.splice(b,1),s(i),t(0,i)}function m(b,w){let S=[];w>0&&S.push({name:"Move up",icon:"arrow-up",onclick:()=>{let x=i[w-1];t(0,i[w-1]=i[w],i),t(0,i[w]=x,i),s(i)}}),w<i.length-1&&S.push({name:"Move down",icon:"arrow-down",onclick:()=>{let x=i[w+1];t(0,i[w+1]=i[w],i),t(0,i[w]=x,i),s(i)}}),S.push({name:"Edit",icon:"pencil",onclick:()=>{n.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Edit the value of a list item.",value:ca(i[w]),multiline:u,onSubmit:x=>{t(0,i[w]=x,i),s(i)},onCancel:()=>{}})}}),S.push({name:"Remove",icon:"x",warning:!0,onclick:()=>p(w)}),n.internal.createContextMenu(S).showWithEvent(b)}let h=(b,w)=>m(w,b);function d(){l=this.value,t(5,l)}function g(){l=this.value,t(5,l)}let y=b=>{b.key==="Enter"&&l.length>0&&f()},_=()=>f();return r.$$set=b=>{"plugin"in b&&t(1,n=b.plugin),"value"in b&&t(0,i=b.value),"limit"in b&&t(2,a=b.limit),"placeholder"in b&&t(3,o=b.placeholder),"multiLine"in b&&t(4,u=b.multiLine),"onValueChange"in b&&t(8,s=b.onValueChange)},[i,n,a,o,u,l,f,m,s,c,h,d,g,y,_]}var _v=class extends qe{constructor(e){super(),He(this,e,$H,UH,ze,{plugin:1,value:0,limit:2,placeholder:3,multiLine:4,onValueChange:8,setValue:9})}get setValue(){return this.$$.ctx[9]}},rC=_v;var Gp=class extends Zt{filterValue(e){return qi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return rC}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e,t,n,i;return{placeholder:(t=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"New Entry...",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value,multiLine:((i=this.base.getArgument("multiLine"))==null?void 0:i.value)===!0}}};function nC(r,e,t){let n=r.slice();return n[14]=e[t],n[16]=t,n}function iC(r){let e;return{c(){e=K("span"),e.textContent="Empty",$(e,"class","mb-list-empty")},m(t,n){W(t,e,n)},p:We,d(t){t&&G(e)}}}function aC(r){let e,t,n,i,a,o;t=new Gi({props:{value:r[14]}});function u(...s){return r[9](r[16],...s)}return{c(){e=K("div"),we(t.$$.fragment),n=le(),$(e,"class","mb-list-item"),$(e,"role","listitem")},m(s,l){W(s,e,l),be(t,e,null),X(e,n),i=!0,a||(o=Ie(e,"contextmenu",u),a=!0)},p(s,l){r=s;let c={};l&1&&(c.value=r[14]),t.$set(c)},i(s){i||(Q(t.$$.fragment,s),i=!0)},o(s){ie(t.$$.fragment,s),i=!1},d(s){s&&G(e),xe(t),a=!1,o()}}}function qH(r){let e;return{c(){e=Le("Add new item")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function oC(r){let e,t;return e=new wt({props:{variant:"default",$$slots:{default:[zH]},$$scope:{ctx:r}}}),e.$on("click",r[11]),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&131072&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function zH(r){let e;return{c(){e=Le("Add other item")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function HH(r){let e,t,n,i,a,o,u=ut(r[0]),s=[];for(let p=0;p<u.length;p+=1)s[p]=aC(nC(r,u,p));let l=p=>ie(s[p],1,1,()=>{s[p]=null}),c=null;u.length||(c=iC(r)),i=new wt({props:{variant:"default",$$slots:{default:[qH]},$$scope:{ctx:r}}}),i.$on("click",r[10]);let f=r[3]&&oC(r);return{c(){e=K("div");for(let p=0;p<s.length;p+=1)s[p].c();c&&c.c(),t=le(),n=K("div"),we(i.$$.fragment),a=le(),f&&f.c(),$(e,"class","mb-list-items"),$(n,"class","mb-list-input")},m(p,m){W(p,e,m);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(e,null);c&&c.m(e,null),W(p,t,m),W(p,n,m),be(i,n,null),X(n,a),f&&f.m(n,null),o=!0},p(p,[m]){if(m&17){u=ut(p[0]);let d;for(d=0;d<u.length;d+=1){let g=nC(p,u,d);s[d]?(s[d].p(g,m),Q(s[d],1)):(s[d]=aC(g),s[d].c(),Q(s[d],1),s[d].m(e,null))}for(yt(),d=u.length;d<s.length;d+=1)l(d);bt(),!u.length&&c?c.p(p,m):u.length?c&&(c.d(1),c=null):(c=iC(p),c.c(),c.m(e,null))}let h={};m&131072&&(h.$$scope={dirty:m,ctx:p}),i.$set(h),p[3]?f?(f.p(p,m),m&8&&Q(f,1)):(f=oC(p),f.c(),Q(f,1),f.m(n,null)):f&&(yt(),ie(f,1,1,()=>{f=null}),bt())},i(p){if(!o){for(let m=0;m<u.length;m+=1)Q(s[m]);Q(i.$$.fragment,p),Q(f),o=!0}},o(p){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)ie(s[m]);ie(i.$$.fragment,p),ie(f),o=!1},d(p){p&&(G(e),G(t),G(n)),Gt(s,p),c&&c.d(),xe(i),f&&f.d()}}}function GH(r,e,t){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{showTextPrompt:o}=e,{allowOther:u}=e,{onValueChange:s}=e;function l(y){t(0,i=y)}function c(y){i.push(y),t(0,i)}function f(y){i.splice(y,1),s(i),t(0,i)}function p(y){y.key===" "&&a()}function m(y,_){let b=[];_>0&&b.push({name:"Move up",icon:"arrow-up",onclick:()=>{let w=i[_-1];t(0,i[_-1]=i[_],i),t(0,i[_]=w,i),s(i)}}),_<i.length-1&&b.push({name:"Move down",icon:"arrow-down",onclick:()=>{let w=i[_+1];t(0,i[_+1]=i[_],i),t(0,i[_]=w,i),s(i)}}),b.push({name:"Remove",icon:"x",warning:!0,onclick:()=>f(_)}),n.internal.createContextMenu(b).showWithEvent(y)}let h=(y,_)=>m(_,y),d=()=>a(),g=()=>o();return r.$$set=y=>{"plugin"in y&&t(5,n=y.plugin),"value"in y&&t(0,i=y.value),"showSuggester"in y&&t(1,a=y.showSuggester),"showTextPrompt"in y&&t(2,o=y.showTextPrompt),"allowOther"in y&&t(3,u=y.allowOther),"onValueChange"in y&&t(6,s=y.onValueChange)},[i,a,o,u,m,n,s,l,c,h,d,g]}var Sv=class extends qe{constructor(e){super(),He(this,e,GH,HH,ze,{plugin:5,value:0,showSuggester:1,showTextPrompt:2,allowOther:3,onValueChange:6,setValue:7,addValue:8})}get setValue(){return this.$$.ctx[7]}get addValue(){return this.$$.ctx[8]}},sC=Sv;var Wp=class extends Zt{filterValue(e){return qi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return sC}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e;return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowOther:((e=this.base.getArgument("allowOther"))==null?void 0:e.value)===!0}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}openTextModal(){this.base.plugin.internal.openTextPromptModal({title:"Meta Bind List Suggester",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},onCancel:()=>{}})}};function uC(r,e,t){let n=r.slice();return n[10]=e[t],n}function lC(r){let e,t,n,i,a,o,u,s,l;function c(){return r[7](r[10])}a=new Gi({props:{value:r[10].name}});function f(...m){return r[8](r[10],...m)}function p(...m){return r[9](r[10],...m)}return{c(){e=K("div"),t=K("input"),i=le(),we(a.$$.fragment),o=le(),$(t,"type","checkbox"),t.checked=n=r[0].includes(r[10].value),$(e,"class","mb-select-input-element mb-mod-multi"),$(e,"role","button"),$(e,"tabindex","0"),$t(e,"is-selected",r[0].includes(r[10].value))},m(m,h){W(m,e,h),X(e,t),X(e,i),be(a,e,null),X(e,o),u=!0,s||(l=[Ie(t,"input",c),Ie(e,"click",f),Ie(e,"keypress",p)],s=!0)},p(m,h){r=m,(!u||h&3&&n!==(n=r[0].includes(r[10].value)))&&(t.checked=n);let d={};h&2&&(d.value=r[10].name),a.$set(d),(!u||h&3)&&$t(e,"is-selected",r[0].includes(r[10].value))},i(m){u||(Q(a.$$.fragment,m),u=!0)},o(m){ie(a.$$.fragment,m),u=!1},d(m){m&&G(e),xe(a),s=!1,Ct(l)}}}function WH(r){let e,t,n=ut(r[1]),i=[];for(let o=0;o<n.length;o+=1)i[o]=lC(uC(r,n,o));let a=o=>ie(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Sr()},m(o,u){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,u);W(o,e,u),t=!0},p(o,[u]){if(u&15){n=ut(o[1]);let s;for(s=0;s<n.length;s+=1){let l=uC(o,n,s);i[s]?(i[s].p(l,u),Q(i[s],1)):(i[s]=lC(l),i[s].c(),Q(i[s],1),i[s].m(e.parentNode,e))}for(yt(),s=n.length;s<i.length;s+=1)a(s);bt()}},i(o){if(!t){for(let u=0;u<n.length;u+=1)Q(i[u]);t=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)ie(i[u]);t=!1},d(o){o&&G(e),Gt(i,o)}}}function YH(r,e,t){let{plugin:n}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function u(m){t(0,i=m)}function s(m){i.includes(m)?t(0,i=i.filter(h=>h!==m)):(i.push(m),t(0,i)),o(i)}function l(m,h){m.key===" "&&s(h)}let c=m=>s(m.value),f=(m,h)=>{h.target instanceof HTMLInputElement||s(m.value)},p=(m,h)=>l(h,m.value);return r.$$set=m=>{"plugin"in m&&t(4,n=m.plugin),"value"in m&&t(0,i=m.value),"options"in m&&t(1,a=m.options),"onValueChange"in m&&t(5,o=m.onValueChange)},[i,a,s,l,n,o,u,c,f,p]}var Av=class extends qe{constructor(e){super(),He(this,e,YH,WH,ze,{plugin:4,value:0,options:1,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},cC=Av;var Yp=class extends Zt{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){return qi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return cC}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function jH(r){let e,t,n;return{c(){e=K("input"),$(e,"type","number"),$(e,"tabindex","0"),$(e,"placeholder",r[1])},m(i,a){W(i,e,a),Ke(e,r[0]),t||(n=[Ie(e,"input",r[5]),Ie(e,"input",r[6])],t=!0)},p(i,[a]){a&2&&$(e,"placeholder",i[1]),a&1&&fi(e.value)!==i[0]&&Ke(e,i[0])},i:We,o:We,d(i){i&&G(e),t=!1,Ct(n)}}}function ZH(r,e,t){let{plugin:n}=e,{value:i}=e,{placeholder:a}=e,{onValueChange:o}=e;function u(c){t(0,i=c)}function s(){i=fi(this.value),t(0,i)}let l=()=>o(i);return r.$$set=c=>{"plugin"in c&&t(3,n=c.plugin),"value"in c&&t(0,i=c.value),"placeholder"in c&&t(1,a=c.placeholder),"onValueChange"in c&&t(2,o=c.onValueChange)},[i,a,o,n,u,s,l]}var Dv=class extends qe{constructor(e){super(),He(this,e,ZH,jH,ze,{plugin:3,value:0,placeholder:1,onValueChange:2,setValue:4})}get setValue(){return this.$$.ctx[4]}},fC=Dv;var jp=class extends Zt{filterValue(e){return Ju(e)}getFallbackDefaultValue(){return 0}getSvelteComponent(){return fC}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{placeholder:(e=this.base.getArgument("placeholder"))!=null?e:"Number"}}};var{window:pc}=lc;function JH(r){let e,t,n,i,a,o,u,s,l,c,f,p,m,h;return{c(){e=K("div"),t=K("div"),i=le(),a=K("span"),o=Le(r[0]),u=le(),s=K("span"),l=Le(r[1]),c=le(),f=K("span"),p=Le(r[2]),$(t,"class","mb-progress-bar-progress"),$(t,"style",n=`width: ${r[5](r[0])}%`),$(t,"role","slider"),$(t,"aria-valuemin",r[1]),$(t,"aria-valuemax",r[2]),$(t,"aria-valuenow",r[0]),$(t,"tabindex","0"),$(a,"class","mb-progress-bar-value"),$(s,"class","mb-progress-bar-label-left"),$(f,"class","mb-progress-bar-label-right"),$(e,"class","mb-progress-bar-input"),$(e,"tabindex","0"),$(e,"role","button")},m(d,g){W(d,e,g),X(e,t),X(e,i),X(e,a),X(a,o),X(e,u),X(e,s),X(s,l),X(e,c),X(e,f),X(f,p),r[15](e),m||(h=[Ie(pc,"touchmove",r[8],{passive:!1}),Ie(pc,"touchcancel",r[6]),Ie(pc,"touchend",r[6]),Ie(pc,"mousemove",r[8]),Ie(pc,"mouseup",r[6]),Ie(t,"dragstart",r[14]),Ie(e,"keydown",r[9]),Ie(e,"mousedown",r[7]),Ie(e,"touchstart",r[7])],m=!0)},p(d,[g]){g&1&&n!==(n=`width: ${d[5](d[0])}%`)&&$(t,"style",n),g&2&&$(t,"aria-valuemin",d[1]),g&4&&$(t,"aria-valuemax",d[2]),g&1&&$(t,"aria-valuenow",d[0]),g&1&&gt(o,d[0]),g&2&&gt(l,d[1]),g&4&&gt(p,d[2])},i:We,o:We,d(d){d&&G(e),r[15](null),m=!1,Ct(h)}}}function XH(r,e){return Number.parseFloat((Math.round(r/e)*e).toFixed(10))}function QH(r,e,t){let{plugin:n}=e,{onValueChange:i}=e,{value:a}=e,{minValue:o}=e,{maxValue:u}=e,{stepSize:s}=e,l=!1,c,f=0,p;function m(E){t(0,a=E)}function h(E){t(0,a=E),i(E)}function d(E){return E=ec(E,o,u),Sg(E,o,u,0,100)}function g(){t(3,l=!0)}function y(){t(3,l=!1)}function _(E){g(),b(E)}function b(E){if(!l)return;E.stopPropagation&&E.stopPropagation(),E.preventDefault&&E.preventDefault();let D=E instanceof TouchEvent?E.touches[0].clientX:E.clientX;w(D)}function w(E){let D=c.getBoundingClientRect();E=ec(E,D.left,D.right);let N=Sg(E,D.left,D.right,o,u);N=XH(N,s),h(N)}function S(E){f<50&&(f+=1);let D=Math.ceil(f/5);if(E.key==="ArrowUp"||E.key==="ArrowRight"){let N=ec(a+D,o,u);h(N)}if(E.key==="ArrowDown"||E.key==="ArrowLeft"){let N=ec(a-D,o,u);h(N)}window.clearTimeout(p),p=window.setTimeout(()=>f=1,100)}let x=()=>t(3,l=!0);function C(E){Jr[E?"unshift":"push"](()=>{c=E,t(4,c)})}return r.$$set=E=>{"plugin"in E&&t(10,n=E.plugin),"onValueChange"in E&&t(11,i=E.onValueChange),"value"in E&&t(0,a=E.value),"minValue"in E&&t(1,o=E.minValue),"maxValue"in E&&t(2,u=E.maxValue),"stepSize"in E&&t(12,s=E.stepSize)},[a,o,u,l,c,d,y,_,b,S,n,i,s,m,x,C]}var Ev=class extends qe{constructor(e){super(),He(this,e,QH,JH,ze,{plugin:10,onValueChange:11,value:0,minValue:1,maxValue:2,stepSize:12,setValue:13})}get setValue(){return this.$$.ctx[13]}},pC=Ev;var Zp=class extends Zt{constructor(e){var t,n,i,a,o,u;if(super(e),this.minValue=(n=(t=this.base.getArgument("minValue"))==null?void 0:t.value)!=null?n:0,this.maxValue=(a=(i=this.base.getArgument("maxValue"))==null?void 0:i.value)!=null?a:100,this.stepSize=(u=(o=this.base.getArgument("stepSize"))==null?void 0:o.value)!=null?u:1,this.minValue>=this.maxValue)throw new _r({errorLevel:"ERROR",effect:"can not create progress bar input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return Lf(Ju(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return pC}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize}}};function mC(r,e,t){let n=r.slice();return n[10]=e[t],n}function dC(r){let e,t,n,i,a,o,u,s,l;function c(){return r[7](r[10])}a=new Gi({props:{value:r[10].name}});function f(...m){return r[8](r[10],...m)}function p(...m){return r[9](r[10],...m)}return{c(){e=K("div"),t=K("input"),i=le(),we(a.$$.fragment),o=le(),$(t,"type","checkbox"),t.checked=n=r[10].value===r[0],$(e,"class","mb-select-input-element"),$(e,"role","button"),$(e,"tabindex","0"),$t(e,"is-selected",r[10].value===r[0])},m(m,h){W(m,e,h),X(e,t),X(e,i),be(a,e,null),X(e,o),u=!0,s||(l=[Ie(t,"input",c),Ie(e,"click",f),Ie(e,"keypress",p)],s=!0)},p(m,h){r=m,(!u||h&3&&n!==(n=r[10].value===r[0]))&&(t.checked=n);let d={};h&2&&(d.value=r[10].name),a.$set(d),(!u||h&3)&&$t(e,"is-selected",r[10].value===r[0])},i(m){u||(Q(a.$$.fragment,m),u=!0)},o(m){ie(a.$$.fragment,m),u=!1},d(m){m&&G(e),xe(a),s=!1,Ct(l)}}}function KH(r){let e,t,n=ut(r[1]),i=[];for(let o=0;o<n.length;o+=1)i[o]=dC(mC(r,n,o));let a=o=>ie(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Sr()},m(o,u){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,u);W(o,e,u),t=!0},p(o,[u]){if(u&15){n=ut(o[1]);let s;for(s=0;s<n.length;s+=1){let l=mC(o,n,s);i[s]?(i[s].p(l,u),Q(i[s],1)):(i[s]=dC(l),i[s].c(),Q(i[s],1),i[s].m(e.parentNode,e))}for(yt(),s=n.length;s<i.length;s+=1)a(s);bt()}},i(o){if(!t){for(let u=0;u<n.length;u+=1)Q(i[u]);t=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)ie(i[u]);t=!1},d(o){o&&G(e),Gt(i,o)}}}function eG(r,e,t){let{plugin:n}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function u(m){t(0,i=m)}function s(m){i===m?t(0,i=null):t(0,i=m),o(i)}function l(m,h){m.key===" "&&s(h)}let c=m=>s(m.value),f=(m,h)=>{h.target instanceof HTMLInputElement||s(m.value)},p=(m,h)=>l(h,m.value);return r.$$set=m=>{"plugin"in m&&t(4,n=m.plugin),"value"in m&&t(0,i=m.value),"options"in m&&t(1,a=m.options),"onValueChange"in m&&t(5,o=m.onValueChange)},[i,a,s,l,n,o,u,c,f,p]}var Nv=class extends qe{constructor(e){super(),He(this,e,eG,KH,ze,{plugin:4,value:0,options:1,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},hC=Nv;var Jp=class extends Zt{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){return Vo(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return hC}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function gC(r){let e,t;return{c(){e=K("span"),t=Le(r[1]),$(e,"class","mb-slider-input-label")},m(n,i){W(n,e,i),X(e,t)},p(n,i){i&2&&gt(t,n[1])},d(n){n&&G(e)}}}function vC(r){let e,t;return{c(){e=K("span"),t=Le(r[2]),$(e,"class","mb-slider-input-label")},m(n,i){W(n,e,i),X(e,t)},p(n,i){i&4&&gt(t,n[2])},d(n){n&&G(e)}}}function tG(r){let e,t,n,i,a,o,u=r[4]&&gC(r),s=r[4]&&vC(r);return{c(){u&&u.c(),e=le(),t=K("input"),n=le(),s&&s.c(),i=Sr(),$(t,"class","mb-slider-input slider"),$(t,"type","range"),$(t,"tabindex","0"),$(t,"min",r[1]),$(t,"max",r[2]),$(t,"step",r[3])},m(l,c){u&&u.m(l,c),W(l,e,c),W(l,t,c),Ke(t,r[0]),W(l,n,c),s&&s.m(l,c),W(l,i,c),a||(o=[Ie(t,"change",r[7]),Ie(t,"input",r[7]),Ie(t,"input",r[8])],a=!0)},p(l,[c]){l[4]?u?u.p(l,c):(u=gC(l),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),c&2&&$(t,"min",l[1]),c&4&&$(t,"max",l[2]),c&8&&$(t,"step",l[3]),c&1&&Ke(t,l[0]),l[4]?s?s.p(l,c):(s=vC(l),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},i:We,o:We,d(l){l&&(G(e),G(t),G(n),G(i)),u&&u.d(l),s&&s.d(l),a=!1,Ct(o)}}}function rG(r,e,t){let{value:n}=e,{minValue:i}=e,{maxValue:a}=e,{stepSize:o}=e,{addLabels:u}=e,{onValueChange:s}=e;function l(p){t(0,n=p)}function c(){n=fi(this.value),t(0,n)}let f=()=>s(n);return r.$$set=p=>{"value"in p&&t(0,n=p.value),"minValue"in p&&t(1,i=p.minValue),"maxValue"in p&&t(2,a=p.maxValue),"stepSize"in p&&t(3,o=p.stepSize),"addLabels"in p&&t(4,u=p.addLabels),"onValueChange"in p&&t(5,s=p.onValueChange)},[n,i,a,o,u,s,l,c,f]}var Cv=class extends qe{constructor(e){super(),He(this,e,rG,tG,ze,{value:0,minValue:1,maxValue:2,stepSize:3,addLabels:4,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},yC=Cv;var Xp=class extends Zt{constructor(e){var t,n,i,a,o,u;if(super(e),this.minValue=(n=(t=this.base.getArgument("minValue"))==null?void 0:t.value)!=null?n:0,this.maxValue=(a=(i=this.base.getArgument("maxValue"))==null?void 0:i.value)!=null?a:100,this.stepSize=(u=(o=this.base.getArgument("stepSize"))==null?void 0:o.value)!=null?u:1,this.minValue>=this.maxValue)throw new _r({errorLevel:"ERROR",effect:"can not create slider input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return Lf(Ju(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return yC}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize,addLabels:((e=this.base.getArgument("addLabels"))==null?void 0:e.value)===!0}}};function nG(r){let e,t;return{c(){e=K("span"),t=Le(r[5])},m(n,i){W(n,e,i),X(e,t)},p(n,i){i&32&&gt(t,n[5])},i:We,o:We,d(n){n&&G(e)}}}function iG(r){let e,t,n;function i(o){r[10](o)}let a={};return r[4]!==void 0&&(a.mdLink=r[4]),e=new Ho({props:a}),Jr.push(()=>so(e,"mdLink",i)),{c(){we(e.$$.fragment)},m(o,u){be(e,o,u),n=!0},p(o,u){let s={};!t&&u&16&&(t=!0,s.mdLink=o[4],oo(()=>t=!1)),e.$set(s)},i(o){n||(Q(e.$$.fragment,o),n=!0)},o(o){ie(e.$$.fragment,o),n=!1},d(o){xe(e,o)}}}function aG(r){let e,t;return e=new Mr({props:{plugin:r[0],iconName:"list"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.plugin=n[0]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function bC(r){let e,t;return e=new wt({props:{variant:"plain",$$slots:{default:[oG]},$$scope:{ctx:r}}}),e.$on("click",function(){Ws(r[2])&&r[2].apply(this,arguments)}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){r=n;let a={};i&2049&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function oG(r){let e,t;return e=new Mr({props:{plugin:r[0],iconName:"pencil"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.plugin=n[0]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function sG(r){let e,t,n,i,a,o,u,s,l=[iG,nG],c=[];function f(m,h){return m[6]?0:1}n=f(r,-1),i=c[n]=l[n](r),o=new wt({props:{variant:"plain",$$slots:{default:[aG]},$$scope:{ctx:r}}}),o.$on("click",function(){Ws(r[1])&&r[1].apply(this,arguments)});let p=r[3]&&bC(r);return{c(){e=K("div"),t=K("div"),i.c(),a=le(),we(o.$$.fragment),u=le(),p&&p.c(),$(t,"class","mb-suggest-text"),$(e,"class","mb-suggest-input")},m(m,h){W(m,e,h),X(e,t),c[n].m(t,null),X(e,a),be(o,e,null),X(e,u),p&&p.m(e,null),s=!0},p(m,[h]){r=m;let d=n;n=f(r,h),n===d?c[n].p(r,h):(yt(),ie(c[d],1,1,()=>{c[d]=null}),bt(),i=c[n],i?i.p(r,h):(i=c[n]=l[n](r),i.c()),Q(i,1),i.m(t,null));let g={};h&2049&&(g.$$scope={dirty:h,ctx:r}),o.$set(g),r[3]?p?(p.p(r,h),h&8&&Q(p,1)):(p=bC(r),p.c(),Q(p,1),p.m(e,null)):p&&(yt(),ie(p,1,1,()=>{p=null}),bt())},i(m){s||(Q(i),Q(o.$$.fragment,m),Q(p),s=!0)},o(m){ie(i),ie(o.$$.fragment,m),ie(p),s=!1},d(m){m&&G(e),c[n].d(),xe(o),p&&p.d()}}}function uG(r,e,t){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{showTextPrompt:o}=e,{allowOther:u}=e,{onValueChange:s}=e,l,c,f=!1;Fi(()=>{p(i)});function p(h){var d;let g=(d=h==null?void 0:h.toString())!==null&&d!==void 0?d:"null";if(t(6,f=on.isLink(g)),f)try{t(4,l=on.parseLink(g))}catch(y){console.warn(y)}else t(5,c=g)}function m(h){l=h,t(4,l)}return r.$$set=h=>{"plugin"in h&&t(0,n=h.plugin),"value"in h&&t(7,i=h.value),"showSuggester"in h&&t(1,a=h.showSuggester),"showTextPrompt"in h&&t(2,o=h.showTextPrompt),"allowOther"in h&&t(3,u=h.allowOther),"onValueChange"in h&&t(8,s=h.onValueChange)},[n,a,o,u,l,c,f,i,s,p,m]}var Tv=class extends qe{constructor(e){super(),He(this,e,uG,sG,ze,{plugin:0,value:7,showSuggester:1,showTextPrompt:2,allowOther:3,onValueChange:8,setValue:9})}get setValue(){return this.$$.ctx[9]}},xC=Tv;var Qp=class extends Zt{filterValue(e){return Vo(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return xC}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e;return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowOther:((e=this.base.getArgument("allowOther"))==null?void 0:e.value)===!0}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>this.setInternalValue(e.value))}openTextModal(){this.base.plugin.internal.openTextPromptModal({title:"Meta Bind Suggester",subTitle:"Set the suggester value.",value:"",multiline:!1,onSubmit:e=>{this.setInternalValue(e)},onCancel:()=>{}})}};function wC(r){let e,t=_C(r[0].length,r[2])+"",n,i;return{c(){e=K("span"),n=Le(t),$(e,"class",i=`mb-content-limit-indicator ${r[0].length>r[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){W(a,e,o),X(e,n)},p(a,o){o&5&&t!==(t=_C(a[0].length,a[2])+"")&&gt(n,t),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&$(e,"class",i)},d(a){a&&G(e)}}}function lG(r){let e,t,n,i,a,o=r[2]!==void 0&&wC(r);return{c(){e=K("input"),t=le(),o&&o.c(),n=Sr(),$(e,"type","text"),$(e,"tabindex","0"),$(e,"placeholder",r[1]),$(e,"maxlength",r[2])},m(u,s){W(u,e,s),Ke(e,r[0]),W(u,t,s),o&&o.m(u,s),W(u,n,s),i||(a=[Ie(e,"input",r[6]),Ie(e,"input",r[7])],i=!0)},p(u,[s]){s&2&&$(e,"placeholder",u[1]),s&4&&$(e,"maxlength",u[2]),s&1&&e.value!==u[0]&&Ke(e,u[0]),u[2]!==void 0?o?o.p(u,s):(o=wC(u),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:We,o:We,d(u){u&&(G(e),G(t),G(n)),o&&o.d(u),i=!1,Ct(a)}}}function _C(r,e){let t=e.toString();return`${r.toString().padStart(t.length,"0")}/${t}`}function cG(r,e,t){let{plugin:n}=e,{value:i}=e,{placeholder:a}=e,{limit:o}=e,{onValueChange:u}=e;function s(f){t(0,i=f)}function l(){i=this.value,t(0,i)}let c=()=>u(i);return r.$$set=f=>{"plugin"in f&&t(4,n=f.plugin),"value"in f&&t(0,i=f.value),"placeholder"in f&&t(1,a=f.placeholder),"limit"in f&&t(2,o=f.limit),"onValueChange"in f&&t(3,u=f.onValueChange)},[i,a,o,u,n,s,l,c]}var Mv=class extends qe{constructor(e){super(),He(this,e,cG,lG,ze,{plugin:4,value:0,placeholder:1,limit:2,onValueChange:3,setValue:5})}get setValue(){return this.$$.ctx[5]}},SC=Mv;var Kp=class extends Zt{filterValue(e){return Ta(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return SC}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value}}};function fG(r){let e,t,n;return{c(){e=K("textarea"),$(e,"class","mb-input-textarea"),$(e,"tabindex","0"),$(e,"placeholder",r[1]),$(e,"maxlength",r[2])},m(i,a){W(i,e,a),Ke(e,r[0]),t||(n=[Ie(e,"input",r[5]),Ie(e,"input",r[6])],t=!0)},p(i,[a]){a&2&&$(e,"placeholder",i[1]),a&4&&$(e,"maxlength",i[2]),a&1&&Ke(e,i[0])},i:We,o:We,d(i){i&&G(e),t=!1,Ct(n)}}}function pG(r,e,t){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function u(c){t(0,n=c)}function s(){n=this.value,t(0,n)}let l=()=>o(n);return r.$$set=c=>{"value"in c&&t(0,n=c.value),"placeholder"in c&&t(1,i=c.placeholder),"limit"in c&&t(2,a=c.limit),"onValueChange"in c&&t(3,o=c.onValueChange)},[n,i,a,o,u,s,l]}var Fv=class extends qe{constructor(e){super(),He(this,e,pG,fG,ze,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},AC=Fv;var em=class extends Zt{filterValue(e){return Ta(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return AC}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value}}};function mG(r){let e,t,n;return{c(){e=K("input"),$(e,"type","time")},m(i,a){W(i,e,a),Ke(e,r[0]),t||(n=[Ie(e,"input",r[3]),Ie(e,"input",r[4])],t=!0)},p(i,[a]){a&1&&Ke(e,i[0])},i:We,o:We,d(i){i&&G(e),t=!1,Ct(n)}}}function dG(r,e,t){let{value:n}=e,{onValueChange:i}=e;function a(s){t(0,n=s)}function o(){n=this.value,t(0,n)}let u=()=>i(n);return r.$$set=s=>{"value"in s&&t(0,n=s.value),"onValueChange"in s&&t(1,i=s.onValueChange)},[n,i,a,o,u]}var Iv=class extends qe{constructor(e){super(),He(this,e,dG,mG,ze,{value:0,onValueChange:1,setValue:2})}get setValue(){return this.$$.ctx[2]}},DC=Iv;var tm=class extends Zt{filterValue(e){return Ta(e)}getFallbackDefaultValue(){return"00:00"}getSvelteComponent(){return DC}rawMapValue(e){return e}rawReverseMapValue(e){return e}};function hG(r){let e,t,n,i;return{c(){e=K("div"),t=K("input"),$(t,"type","checkbox"),$(t,"tabindex","-1"),t.checked=r[0],$(e,"class","checkbox-container"),$(e,"role","switch"),$(e,"tabindex","0"),$(e,"aria-checked",r[0]),$t(e,"is-enabled",r[0])},m(a,o){W(a,e,o),X(e,t),n||(i=[Ie(e,"click",r[5]),Ie(e,"keypress",r[6])],n=!0)},p(a,[o]){o&1&&(t.checked=a[0]),o&1&&$(e,"aria-checked",a[0]),o&1&&$t(e,"is-enabled",a[0])},i:We,o:We,d(a){a&&G(e),n=!1,Ct(i)}}}function gG(r,e,t){let{value:n}=e,{onValueChange:i}=e;function a(c){t(0,n=c)}function o(){t(0,n=!n),i(n)}function u(c){c.key===" "&&o()}let s=()=>o(),l=c=>u(c);return r.$$set=c=>{"value"in c&&t(0,n=c.value),"onValueChange"in c&&t(3,i=c.onValueChange)},[n,o,u,i,a,s,l]}var Bv=class extends qe{constructor(e){super(),He(this,e,gG,hG,ze,{value:0,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},EC=Bv;var rm=class extends Zt{constructor(e){var t,n,i,a;super(e),this.onValue=(n=(t=this.base.getArgument("onValue"))==null?void 0:t.value)!=null?n:!0,this.offValue=(a=(i=this.base.getArgument("offValue"))==null?void 0:i.value)!=null?a:!1}filterValue(e){return e===this.onValue||e===this.offValue?Vo(e):void 0}getFallbackDefaultValue(){return!1}getSvelteComponent(){return EC}rawReverseMapValue(e){return e===this.onValue?!0:(e===this.offValue,!1)}rawMapValue(e){return e?this.onValue:this.offValue}};function NC(r,e,t){let n=r.slice();return n[11]=e[t],n[13]=t,n}function CC(r){let e,t,n,i,a,o,u,s=r[11]+"",l,c,f,p;function m(...h){return r[7](r[13],...h)}return{c(){e=K("div"),t=K("img"),a=le(),o=K("div"),u=K("span"),l=Le(s),c=le(),$(t,"class","mb-image-card-image"),zi(t.src,n=r[1].internal.imagePathToUri(r[11]))||$(t,"src",n),$(t,"alt",i=r[11]),$(o,"class","mb-image-card-footer"),$(e,"class","mb-image-card"),$(e,"role","listitem")},m(h,d){W(h,e,d),X(e,t),X(e,a),X(e,o),X(o,u),X(u,l),X(e,c),f||(p=Ie(e,"contextmenu",m),f=!0)},p(h,d){r=h,d&3&&!zi(t.src,n=r[1].internal.imagePathToUri(r[11]))&&$(t,"src",n),d&1&&i!==(i=r[11])&&$(t,"alt",i),d&1&&s!==(s=r[11]+"")&&gt(l,s)},d(h){h&&G(e),f=!1,p()}}}function vG(r){let e;return{c(){e=Le("Add new image")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function yG(r){let e,t,n,i,a,o=ut(r[0]),u=[];for(let s=0;s<o.length;s+=1)u[s]=CC(NC(r,o,s));return i=new wt({props:{variant:"default",$$slots:{default:[vG]},$$scope:{ctx:r}}}),i.$on("click",r[8]),{c(){e=K("div");for(let s=0;s<u.length;s+=1)u[s].c();t=le(),n=K("div"),we(i.$$.fragment),$(e,"class","mb-image-card-grid"),$(n,"class","mb-list-input")},m(s,l){W(s,e,l);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(e,null);W(s,t,l),W(s,n,l),be(i,n,null),a=!0},p(s,[l]){if(l&11){o=ut(s[0]);let f;for(f=0;f<o.length;f+=1){let p=NC(s,o,f);u[f]?u[f].p(p,l):(u[f]=CC(p),u[f].c(),u[f].m(e,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=o.length}let c={};l&16384&&(c.$$scope={dirty:l,ctx:s}),i.$set(c)},i(s){a||(Q(i.$$.fragment,s),a=!0)},o(s){ie(i.$$.fragment,s),a=!1},d(s){s&&(G(e),G(t),G(n)),Gt(u,s),xe(i)}}}function bG(r,e,t){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{onValueChange:o}=e;function u(h){t(0,i=h)}function s(h){i.push(h),t(0,i)}function l(h){i.splice(h,1),o(i),t(0,i)}function c(h){h.key===" "&&a()}function f(h,d){let g=[];d>0&&g.push({name:"Move left",icon:"arrow-left",onclick:()=>{let y=i[d-1];t(0,i[d-1]=i[d],i),t(0,i[d]=y,i),o(i)}}),d<i.length-1&&g.push({name:"Move right",icon:"arrow-right",onclick:()=>{let y=i[d+1];t(0,i[d+1]=i[d],i),t(0,i[d]=y,i),o(i)}}),g.push({name:"Copy image path",icon:"copy",onclick:()=>{let y=i[d];navigator.clipboard.writeText(y).then(()=>{n.internal.showNotice("Image path copied to clipboard")})}}),g.push({name:"Remove",icon:"x",warning:!0,onclick:()=>l(d)}),n.internal.createContextMenu(g).showWithEvent(h)}let p=(h,d)=>f(d,h),m=()=>a();return r.$$set=h=>{"plugin"in h&&t(1,n=h.plugin),"value"in h&&t(0,i=h.value),"showSuggester"in h&&t(2,a=h.showSuggester),"onValueChange"in h&&t(4,o=h.onValueChange)},[i,n,a,f,o,u,s,p,m]}var Pv=class extends qe{constructor(e){super(),He(this,e,bG,yG,ze,{plugin:1,value:0,showSuggester:2,onValueChange:4,setValue:5,addValue:6})}get setValue(){return this.$$.ctx[5]}get addValue(){return this.$$.ctx[6]}},TC=Pv;var nm=class extends Zt{filterValue(e){return qi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return TC}rawMapValue(e){return e}rawReverseMapValue(e){return e.map(t=>ca(t)).filter(t=>t!==void 0)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openImageSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)})}};function xG(r){let e,t,n;return{c(){e=K("input"),$(e,"type","datetime-local")},m(i,a){W(i,e,a),Ke(e,r[0]),t||(n=[Ie(e,"input",r[3]),Ie(e,"input",r[4])],t=!0)},p(i,[a]){a&1&&Ke(e,i[0])},i:We,o:We,d(i){i&&G(e),t=!1,Ct(n)}}}function wG(r,e,t){let{value:n}=e,{onValueChange:i}=e;function a(s){t(0,n=s)}function o(){n=this.value,t(0,n)}let u=()=>i(n);return r.$$set=s=>{"value"in s&&t(0,n=s.value),"onValueChange"in s&&t(1,i=s.onValueChange)},[n,i,a,o,u]}var Ov=class extends qe{constructor(e){super(),He(this,e,wG,xG,ze,{value:0,onValueChange:1,setValue:2})}get setValue(){return this.$$.ctx[2]}},MC=Ov;var im=class extends Zt{filterValue(e){return Ta(e)}getFallbackDefaultValue(){return Rn.stringify(Rn.getDefaultDate())}getSvelteComponent(){return MC}rawMapValue(e){return e}rawReverseMapValue(e){return e}};var am=class{constructor(e){this.plugin=e}createInputField(e){let t=e.declaration.inputFieldType,n=e.renderChildType;if(t!=="invalid"&&this.checkRenderChildTypeAllowed(t,n),t==="toggle")return new rm(e);if(t==="slider")return new Xp(e);if(t==="text")return new Kp(e);if(t==="textArea")return new em(e);if(t==="select")return new Jp(e);if(t==="multiSelect")return new Yp(e);if(t==="datePicker")return new Lp(e);if(t==="number")return new jp(e);if(t==="suggester")return new Qp(e);if(t==="editor")return new Vp(e);if(t==="progressBar")return new Zp(e);if(t==="inlineSelect")return new Hp(e);if(t==="imageSuggester")return new Up(e);if(t==="list")return new Gp(e);if(t==="listSuggester")return new Wp(e);if(t==="date")return new Rp(e);if(t==="time")return new tm(e);if(t==="inlineListSuggester")return new zp(e);if(t==="inlineList")return new qp(e);if(t==="imageListSuggester")return new nm(e);if(t==="dateTime")return new im(e);}checkRenderChildTypeAllowed(e,t){if(this.plugin.settings.ignoreCodeBlockRestrictions)return;let n=Ff[e];if(t==="block"&&!n.allowInBlock)throw new Xa({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of code blocks`,docs:[Rt.linkToInputField(e)]});if(t==="inline"&&!n.allowInline)throw new Xa({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of inline code blocks`,docs:[Rt.linkToInputField(e)]})}};var om=class extends _n{constructor(e,t,n,i){super(e,t,n),this.declaration=i,this.declarationString=i.declarationString,this.errorCollection=new Vt(this.getUuid()),this.errorCollection.merge(i.errorCollection),this.variables=[],this.buildVariables()}buildVariables(){var e;if(this.errorCollection.isEmpty())try{for(let t of(e=this.declaration.bindTargetMappings)!=null?e:[])this.variables.push({bindTargetDeclaration:t.bindTarget,inputSignal:new Fr(void 0),uuid:pr(),contextName:t.name})}catch(t){this.errorCollection.add(t)}}buildContext(){var t,n;let e={};for(let i of(t=this.variables)!=null?t:[])!i.contextName||!i.inputSignal||(e[i.contextName]=(n=i.inputSignal.get())!=null?n:"");return e}async evaluate(){var e;return(e=this.jsRenderer)==null?void 0:e.evaluate({bound:this.buildContext()})}registerSelfToMetadataManager(){let e=new Fr(void 0);this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.getUuid(),e,this.declaration.writeToBindTarget,this.variables.map(t=>({bindTarget:t.bindTargetDeclaration,callbackSignal:t.inputSignal})),async()=>await this.evaluate(),()=>this.unmount())}unregisterSelfFromMetadataManager(){var e;(e=this.metadataSubscription)==null||e.unsubscribe()}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){if(console.debug("meta-bind | JsViewField >> mount",this.declaration),ft.addClass(e,"mb-view"),ft.empty(e),this.plugin.internal.isJsEngineAvailable()||this.errorCollection.add(new Xl({errorLevel:"ERROR",effect:"can not create js view field",cause:"The JS Engine plugin is not installed and enabled."})),!this.plugin.settings.enableJs)throw new Xl({errorLevel:"CRITICAL",effect:"Can't evaluate expression.",cause:"JS expressions are disabled in the plugin settings."});if(this.createErrorIndicator(e),this.errorCollection.hasErrors())return;let t=document.createElement("div");ft.addClass(t,"mb-view-wrapper"),this.jsRenderer=this.plugin.internal.createJsRenderer(t,this.getFilePath(),this.declaration.code),this.registerSelfToMetadataManager(),e.appendChild(t)}onUnmount(e){console.debug("meta-bind | JsViewField >> unmount",this.declaration),this.unregisterSelfFromMetadataManager(),kn(e,"js view field")}};var el=class extends _n{constructor(e,t,n,i,a){super(e,t,n),this.renderChildType=i,this.declaration=a,this.declarationString=a.declarationString,this.errorCollection=new Vt(this.getUuid()),this.errorCollection.merge(a.errorCollection)}hasArgument(e){return this.getArguments(e).length>0}getArgument(e){return this.getArguments(e).at(0)}getArguments(e){if(this.declaration.errorCollection.hasErrors())throw new Ot({errorLevel:"ERROR",effect:"an not retrieve arguments",cause:"viewFieldDeclaration has errors"});return this.declaration.argumentContainer.getAll(e)}getDeclaration(){return this.declaration}createViewField(){if(!this.errorCollection.hasErrors())try{this.viewField=this.plugin.api.viewFieldFactory.createViewField(this)}catch(e){this.errorCollection.add(e)}!this.errorCollection.hasErrors()&&!this.viewField&&this.errorCollection.add(new Ot({errorLevel:"CRITICAL",effect:"can't render view field",cause:"view field is undefined"}))}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){var i;if(console.debug("meta-bind | ViewFieldBase >> mount",this.declaration),ft.empty(e),ft.addClass(e,"mb-view"),this.createViewField(),this.errorCollection.hasErrors()){this.createErrorIndicator(e);return}let t=document.createElement("div");ft.addClass(t,"mb-view-wrapper");try{(i=this.viewField)==null||i.mount(t)}catch(a){this.errorCollection.add(a)}this.createErrorIndicator(e),e.append(t);let n=this.getArguments("class");for(let a of n)ft.addClasses(t,a.value);ft.addClass(t,`mb-view-type-${this.declaration.viewFieldType}`),this.renderChildType==="block"?ft.addClass(e,"mb-view-block"):ft.addClass(e,"mb-view-inline")}onUnmount(e){var t;console.debug("meta-bind | ViewFieldBase >> unmount",this.declaration),(t=this.viewField)==null||t.unmount(),kn(e,"view field")}};var Fa=class extends ci{constructor(e){super(),this.base=e,this.inputSignal=new Fr(void 0),this.variables=[],this.hidden=!1}async initialRender(e){var t,n;ft.addClass(e,"mb-view-text"),this.hidden=(n=(t=this.base.getArgument("hidden"))==null?void 0:t.value)!=null?n:!1,this.hidden&&ft.addClass(e,"mb-view-hidden"),await this.onInitialRender(e),await this.rerender(e,"")}async rerender(e,t){var n;if(!this.hidden){let i=(n=bp(t,this.base.plugin.settings.viewFieldDisplayNullAsEmpty))!=null?n:"";ft.empty(e),await this.onRerender(e,i)}}onMount(e){this.buildVariables(),this.inputSignal.registerListener({callback:t=>void this.rerender(e,t)}),this.metadataSubscription=this.base.plugin.metadataManager.subscribeComputed(this.base.getUuid(),this.inputSignal,this.base.getDeclaration().writeToBindTarget,this.variables.map(t=>({bindTarget:t.bindTargetDeclaration,callbackSignal:t.inputSignal})),async()=>await this.computeValue(),()=>this.base.unmount()),this.initialRender(e)}onUnmount(){var e;this.inputSignal.unregisterAllListeners(),(e=this.metadataSubscription)==null||e.unsubscribe()}};function _G(r){let e,t;return e=new $p({props:{elements:r[0],$$slots:{default:[DG,({element:n})=>({1:n}),({element:n})=>n?2:0]},$$scope:{ctx:r}}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.elements=n[0]),i&6&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function SG(r){let e,t;return e=new Ho({props:{mdLink:r[0][0]}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.mdLink=n[0][0]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function AG(r){let e;return{c(){e=K("span")},m(t,n){W(t,e,n)},p:We,i:We,o:We,d(t){t&&G(e)}}}function DG(r){let e,t;return e=new Ho({props:{mdLink:r[1]}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.mdLink=n[1]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function EG(r){let e,t,n,i,a=[AG,SG,_G],o=[];function u(s,l){return s[0].length===0?0:s[0].length===1?1:2}return e=u(r,-1),t=o[e]=a[e](r),{c(){t.c(),n=Sr()},m(s,l){o[e].m(s,l),W(s,n,l),i=!0},p(s,[l]){let c=e;e=u(s,l),e===c?o[e].p(s,l):(yt(),ie(o[c],1,1,()=>{o[c]=null}),bt(),t=o[e],t?t.p(s,l):(t=o[e]=a[e](s),t.c()),Q(t,1),t.m(n.parentNode,n))},i(s){i||(Q(t),i=!0)},o(s){ie(t),i=!1},d(s){s&&G(n),o[e].d(s)}}}function NG(r,e,t){let{mdLinkList:n}=e;return r.$$set=i=>{"mdLinkList"in i&&t(0,n=i.mdLinkList)},[n]}var kv=class extends qe{constructor(e){super(),He(this,e,NG,EG,ze,{mdLinkList:0})}},Rv=kv;var sm=class extends Fa{constructor(e){super(e)}buildVariables(){let e=this.base.getDeclaration().templateDeclaration.filter(n=>typeof n=="string"?n:!0);if(e.length!==1)throw new Mo({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});let t=e[0];if(typeof t=="string")throw new Mo({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});t.listenToChildren=!0,this.variables=[{bindTargetDeclaration:t,inputSignal:new Fr(void 0),uuid:pr(),contextName:"MB_VAR_0"}]}computeValue(){if(this.variables.length!==1)throw new sa({errorLevel:"CRITICAL",effect:"failed to evaluate link view field",cause:"there should be exactly one variable"});let t=this.variables[0].inputSignal.get();return typeof t=="string"?on.convertToLinkString(t):Array.isArray(t)?t.filter(i=>typeof i=="string").map(i=>on.convertToLinkString(i)).filter(i=>i!=="").join(", "):""}onInitialRender(e){this.component=new Rv({target:e,props:{mdLinkList:[]}})}async onRerender(e,t){let n=on.parseLinkList(t);this.component=new Rv({target:e,props:{mdLinkList:n}})}onUnmount(){var e;super.onUnmount(),(e=this.component)==null||e.$destroy()}};function Or(){return Or=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Or.apply(this,arguments)}var Lv={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function xt(r){return typeof r=="number"}function lt(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function ri(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function uo(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function Cn(r){return r&&r.constructor.prototype.isUnit===!0||!1}function Hr(r){return typeof r=="string"}var Jt=Array.isArray;function it(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Xr(r){return Array.isArray(r)||it(r)}function Xs(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function ha(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function tl(r){return r&&r.constructor.prototype.isRange===!0||!1}function Go(r){return r&&r.constructor.prototype.isIndex===!0||!1}function FC(r){return typeof r=="boolean"}function IC(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function um(r){return r&&r.constructor.prototype.isHelp===!0||!1}function BC(r){return typeof r=="function"}function PC(r){return r instanceof Date}function OC(r){return r instanceof RegExp}function Wo(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!ri(r)&&!uo(r))}function kC(r){return r===null}function RC(r){return r===void 0}function Ii(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Tn(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function LC(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function VC(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function UC(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Lt(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function mc(r){return Lt(r)||Br(r)&&r.args.length===1&&Lt(r.args[0])&&"-+~".includes(r.op)}function Ia(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function ni(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Wi(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function qt(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Yo(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Br(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Mn(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function $C(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function qC(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ar(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function lm(r){return r&&r.constructor.prototype.isChain===!0||!1}function Wt(r){var e=typeof r;return e==="object"?r===null?"null":lt(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function dt(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return dt(t)});if(r instanceof Date)return new Date(r.valueOf());if(lt(r))return r;if(Wo(r))return CG(r,dt);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function CG(r,e){var t={};for(var n in r)ot(r,n)&&(t[n]=e(r[n]));return t}function cm(r,e){for(var t in e)ot(e,t)&&(r[t]=e[t]);return r}function ga(r,e){var t,n,i;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(n=0,i=r.length;n<i;n++)if(!ga(r[n],e[n]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!ga(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function zC(r,e,t){var n=!0,i;Object.defineProperty(r,e,{get:function(){return n&&(i=t(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function ot(r,e){return r&&Object.hasOwnProperty.call(r,e)}function HC(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],a=r[i];a!==void 0&&(t[i]=a)}return t}var GC=["Matrix","Array"],WC=["number","BigNumber","Fraction"];var Be=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Lv)};Or(Be,Lv,{MATRIX_OPTIONS:GC,NUMBER_OPTIONS:WC});var ey=hr($v(),1);function tt(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var Yi=Math.sign||function(r){return r>0?1:r<0?-1:0},ZC=Math.log2||function(e){return Math.log(e)/Math.LN2},JC=Math.log10||function(e){return Math.log(e)/Math.LN10},fm=Math.log1p||function(r){return Math.log(r+1)},XC=Math.cbrt||function(e){if(e===0)return e;var t=e<0,n;return t&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,t?-n:n},QC=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function qv(r,e,t){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!tt(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!tt(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),a="i".concat(t)}var o="";return r<0&&(r=-r,o="-"),"".concat(o).concat(i).concat(r.toString(e)).concat(a)}function va(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:t,precision:n,wordSize:i}=zv(e);switch(t){case"fixed":return Hv(r,n);case"exponential":return KC(r,n);case"engineering":return TG(r,n);case"bin":return qv(r,2,i);case"oct":return qv(r,8,i);case"hex":return qv(r,16,i);case"auto":return MG(r,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function zv(r){var e="auto",t,n;if(r!==void 0)if(xt(r))t=r;else if(lt(r))t=r.toNumber();else if(Wo(r))r.precision!==void 0&&(t=YC(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(n=YC(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:n}}function nl(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(u){return i-=u.length,""}).replace(/0*$/,"").split("").map(function(u){return parseInt(u)});return o.length===0&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function TG(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=nl(r),n=pm(t,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(xt(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var u=Math.abs(i-o)-(a.length-1),s=0;s<u;s++)a.push(0);for(var l=Math.abs(i-o),c=1;l>0;)c++,l--;var f=a.slice(c).join(""),p=xt(e)&&f.length||f.match(/[1-9]/)?"."+f:"",m=a.slice(0,c).join("")+p+"e"+(i>=0?"+":"")+o.toString();return n.sign+m}function Hv(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=nl(r),n=typeof e=="number"?pm(t,t.exponent+1+e):t,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(rl(o-i.length))),a<0&&(i=rl(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function KC(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=nl(r),n=e?pm(t,e):t,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(rl(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function MG(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var n=jC(t==null?void 0:t.lowerExp,-3),i=jC(t==null?void 0:t.upperExp,5),a=nl(r),o=e?pm(a,e):a;if(o.exponent<n||o.exponent>=i)return KC(r,e);var u=o.coefficients,s=o.exponent;u.length<e&&(u=u.concat(rl(e-u.length))),u=u.concat(rl(s-u.length+1+(u.length<e?e-u.length:0))),u=rl(-s).concat(u);var l=s>0?s:0;return l<u.length-1&&u.splice(l+1,0,"."),o.sign+u.join("")}function pm(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=t.coefficients;e<=0;)n.unshift(0),t.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),t.exponent++,a++),a--,n[a]++}}return t}function rl(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function eT(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var FG=Number.EPSILON||2220446049250313e-31;function $r(r,e,t){if(t==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var n=Math.abs(r-e);return n<=FG?!0:n<=Math.max(Math.abs(r),Math.abs(e))*t}return!1}var tT=Math.acosh||function(r){return Math.log(Math.sqrt(r*r-1)+r)},rT=Math.asinh||function(r){return Math.log(Math.sqrt(r*r+1)+r)},nT=Math.atanh||function(r){return Math.log((1+r)/(1-r))/2},mm=Math.cosh||function(r){return(Math.exp(r)+Math.exp(-r))/2},iT=Math.sinh||function(r){return(Math.exp(r)-Math.exp(-r))/2},dm=Math.tanh||function(r){var e=Math.exp(2*r);return(e-1)/(e+1)};function aT(r,e){var t=r>0?!0:r<0?!1:1/r===1/0,n=e>0?!0:e<0?!1:1/e===1/0;return t^n?-r:r}function YC(r,e){if(xt(r))return r;if(lt(r))return r.toNumber();e()}function jC(r,e){return xt(r)?r:lt(r)?r.toNumber():e}function Gv(r,e,t){var n=r.constructor,i=new n(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!tt(t))throw new Error("size must be an integer");if(r.greaterThan(i.pow(t-1).sub(1))||r.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function uT(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:n,wordSize:i}=zv(e);switch(t){case"fixed":return BG(r,n);case"exponential":return oT(r,n);case"engineering":return IG(r,n);case"bin":return Gv(r,2,i);case"oct":return Gv(r,8,i);case"hex":return Gv(r,16,i);case"auto":{var a=sT(e==null?void 0:e.lowerExp,-3),o=sT(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var u,s=r.toSignificantDigits(n),l=s.e;return l>=a&&l<o?u=s.toFixed():u=oT(r,n),u.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function IG(r,e){var t=r.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,i=r.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var o=r.constructor;a=new o(a).toFixed()}return a+"e"+(t>=0?"+":"")+n.toString()}function oT(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function BG(r,e){return r.toFixed(e)}function sT(r,e){return xt(r)?r:lt(r)?r.toNumber():e}function cT(r,e){var t=r.length-e.length,n=r.length;return r.substring(t,n)===e}function St(r,e){var t=PG(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function PG(r,e){if(typeof r=="number")return va(r,e);if(lt(r))return uT(r,e);if(OG(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return fT(r,e);if(Hr(r))return Qs(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(n=>Qs(n)+": "+St(r[n],e));return"{"+t.join(", ")+"}"}return String(r)}function Qs(r){for(var e=String(r),t="",n=0;n<e.length;){var i=e.charAt(n);t+=i in lT?lT[i]:i,n++}return'"'+t+'"'}var lT={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function gn(r){var e=String(r);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function fT(r,e){if(Array.isArray(r)){for(var t="[",n=r.length,i=0;i<n;i++)i!==0&&(t+=", "),t+=fT(r[i],e);return t+="]",t}else return St(r,e)}function OG(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function hm(r,e){if(!Hr(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Wt(r)+", index: 0)");if(!Hr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Wt(e)+", index: 1)");return r===e?0:r>e?1:-1}function Dt(r,e,t){if(!(this instanceof Dt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}Dt.prototype=new RangeError;Dt.prototype.constructor=RangeError;Dt.prototype.name="DimensionError";Dt.prototype.isDimensionError=!0;function Fn(r,e,t){if(!(this instanceof Fn))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Fn.prototype=new RangeError;Fn.prototype.constructor=RangeError;Fn.prototype.name="IndexError";Fn.prototype.isIndexError=!0;function vt(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function pT(r,e,t){var n,i=r.length;if(i!==e[t])throw new Dt(i,e[t]);if(t<e.length-1){var a=t+1;for(n=0;n<i;n++){var o=r[n];if(!Array.isArray(o))throw new Dt(e.length-1,e.length,"<");pT(r[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new Dt(e.length+1,e.length,">")}function Yv(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new Dt(r.length,0)}else pT(r,e,0)}function dc(r,e){var t=r.isMatrix?r._size:vt(r),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==t[a])throw new Dt(i,t[a])})}function mr(r,e){if(r!==void 0){if(!xt(r)||!tt(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new Fn(r,e)}}function Ks(r){for(var e=0;e<r._dimensions.length;++e){var t=r._dimensions[e];if(t._data&&Jt(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(Hr(t)&&t.length===0)return!0}return!1}function ya(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!xt(i)||!tt(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+St(e)+")")}),(xt(r)||lt(r))&&(r=[r]);var n=t!==void 0?t:0;return Wv(r,e,0,n),r}function Wv(r,e,t,n){var i,a,o=r.length,u=e[t],s=Math.min(o,u);if(r.length=u,t<e.length-1){var l=t+1;for(i=0;i<s;i++)a=r[i],Array.isArray(a)||(a=[a],r[i]=a),Wv(a,e,l,n);for(i=s;i<u;i++)a=[],r[i]=a,Wv(a,e,l,n)}else{for(i=0;i<s;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=s;i<u;i++)r[i]=n}}function hc(r,e){var t=Mt(r),n=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Dt(0,n,"!=");e=gc(e,n);var i=mT(e);if(n!==i)throw new Dt(i,n,"!=");try{return kG(t,e)}catch(a){throw a instanceof Dt?new Dt(i,n,"!="):a}}function gc(r,e){var t=mT(r),n=r.slice(),i=-1,a=r.indexOf(i),o=r.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var u=a>=0,s=e%t===0;if(u)if(s)n[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return n}function mT(r){return r.reduce((e,t)=>e*t,1)}function kG(r,e){for(var t=r,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=t.length/a,u=0;u<o;u++)n.push(t.slice(u*a,(u+1)*a));t=n}return t}function il(r,e){for(var t=e||vt(r);Array.isArray(r)&&r.length===1;)r=r[0],t.shift();for(var n=t.length;t[n-1]===1;)n--;return n<t.length&&(r=dT(r,n,0),t.length=n),r}function dT(r,e,t){var n,i;if(t<e){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=dT(r[n],e,a)}else for(;Array.isArray(r);)r=r[0];return r}function gm(r,e,t,n){var i=n||vt(r);if(t)for(var a=0;a<t;a++)r=[r],i.unshift(1);for(r=hT(r,e,0);i.length<e;)i.push(1);return r}function hT(r,e,t){var n,i;if(Array.isArray(r)){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=hT(r[n],e,a)}else for(var o=t;o<e;o++)r=[r];return r}function Mt(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e}function pi(r,e){return Array.prototype.map.call(r,e)}function jo(r,e){Array.prototype.forEach.call(r,e)}function vm(r,e){if(vt(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,e)}function al(r,e){if(vt(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,t=>e.test(t))}function jv(r,e){return Array.prototype.join.call(r,e)}function lo(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;var e=[],t=0;e[0]={value:r[0],identifier:0};for(var n=1;n<r.length;n++)r[n]===r[n-1]?t++:t=0,e.push({value:r[n],identifier:t});return e}function ol(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;for(var e=[],t=0;t<r.length;t++)e.push(r[t].value);return e}function Zo(r,e){for(var t,n=0,i=0;i<r.length;i++){var a=r[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var u=o?Zo(a,e):e(a);if(t===void 0)t=u;else if(t!==u)return"mixed"}return t}function gT(r,e,t,n){if(n<t){if(r.length!==e.length)throw new Dt(r.length,e.length);for(var i=[],a=0;a<r.length;a++)i[a]=gT(r[a],e[a],t,n+1);return i}else return r.concat(e)}function Zv(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,n){return gT(t,n,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function RG(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var n=e.map(p=>p.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var u=e[o],s=n[o],l=0;l<s;l++){var c=i-s+l;u[l]>a[c]&&(a[c]=u[l])}for(var f=0;f<e.length;f++)vc(e[f],a);return a}function vc(r,e){for(var t=e.length,n=r.length,i=0;i<n;i++){var a=t-n+i;if(r[i]<e[a]&&r[i]>1||r[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(n," with size ").concat(r[i]," to size ").concat(e[a]))}}function Jv(r,e){var t=vt(r);if(ga(t,e))return r;vc(t,e);var n=RG(t,e),i=n.length,a=[...Array(i-t.length).fill(1),...t],o=VG(r);t.length<i&&(o=hc(o,a),t=vt(o));for(var u=0;u<i;u++)t[u]<n[u]&&(o=LG(o,n[u],u),t=vt(o));return o}function LG(r,e,t){return Zv(...Array(e).fill(r),t)}function VG(r){return Or([],r)}function T(r,e,t,n){function i(a){var o=HC(a,e.map(qG));return UG(r,e,a),t(o)}return i.isFactory=!0,i.fn=r,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function UG(r,e,t){var n=e.filter(a=>!$G(a)).every(a=>t[a]!==void 0);if(!n){var i=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function $G(r){return r&&r[0]==="?"}function qG(r){return r&&r[0]==="?"?r.slice(1):r}function kr(r,e){if(xT(r)&&yT(r,e))return r[e];throw typeof r[e]=="function"&&ym(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Ba(r,e,t){if(xT(r)&&yT(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function vT(r,e){return e in r}function yT(r,e){return!r||typeof r!="object"?!1:ot(zG,e)?!0:!(e in Object.prototype||e in Function.prototype)}function bT(r,e){if(!ym(r,e))throw new Error('No access to method "'+e+'"');return r[e]}function ym(r,e){return r==null||typeof r[e]!="function"||ot(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:ot(HG,e)?!0:!(e in Object.prototype||e in Function.prototype)}function xT(r){return typeof r=="object"&&r&&r.constructor===Object}var zG={length:!0,name:!0},HG={toString:!0,valueOf:!0,toLocaleString:!0};var eu=class{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return kr(this.wrappedObject,e)}set(e,t){return Ba(this.wrappedObject,e,t),this}has(e){return vT(this.wrappedObject,e)}entries(){return wT(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}},sl=class{constructor(e,t,n){this.a=e,this.b=t,this.bKeys=n,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,t){return this.bKeys.has(e)?this.b.set(e,t):this.a.set(e,t),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return wT(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}};function wT(r,e){return{next:()=>{var t=r.next();return t.done?t:{value:e(t.value),done:!1}}}}function Jo(){return new Map}function co(r){if(!r)return Jo();if(Xv(r))return r;if(Wo(r))return new eu(r);throw new Error("createMap can create maps from objects or Maps")}function _T(r){if(r instanceof eu)return r.wrappedObject;var e={};for(var t of r.keys()){var n=r.get(t);Ba(e,t,n)}return e}function Xv(r){return r?r instanceof Map||r instanceof eu||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var ST=function(){return ST=ey.default.create,ey.default},GG=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],ty=T("typed",GG,function(e){var{BigNumber:t,Complex:n,DenseMatrix:i,Fraction:a}=e,o=ST();return o.clear(),o.addTypes([{name:"number",test:xt},{name:"Complex",test:ri},{name:"BigNumber",test:lt},{name:"Fraction",test:uo},{name:"Unit",test:Cn},{name:"identifier",test:u=>Hr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(u)},{name:"string",test:Hr},{name:"Chain",test:lm},{name:"Array",test:Jt},{name:"Matrix",test:it},{name:"DenseMatrix",test:Xs},{name:"SparseMatrix",test:ha},{name:"Range",test:tl},{name:"Index",test:Go},{name:"boolean",test:FC},{name:"ResultSet",test:IC},{name:"Help",test:um},{name:"function",test:BC},{name:"Date",test:PC},{name:"RegExp",test:OC},{name:"null",test:kC},{name:"undefined",test:RC},{name:"AccessorNode",test:Ii},{name:"ArrayNode",test:Tn},{name:"AssignmentNode",test:LC},{name:"BlockNode",test:VC},{name:"ConditionalNode",test:UC},{name:"ConstantNode",test:Lt},{name:"FunctionNode",test:ni},{name:"FunctionAssignmentNode",test:Ia},{name:"IndexNode",test:Wi},{name:"Node",test:qt},{name:"ObjectNode",test:Yo},{name:"OperatorNode",test:Br},{name:"ParenthesisNode",test:Mn},{name:"RangeNode",test:$C},{name:"RelationalNode",test:qC},{name:"SymbolNode",test:Ar},{name:"Map",test:Xv},{name:"Object",test:Wo}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(s){if(t||Qv(s),eT(s)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new t(s)}},{from:"number",to:"Complex",convert:function(s){return n||bm(s),new n(s,0)}},{from:"BigNumber",to:"Complex",convert:function(s){return n||bm(s),new n(s.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return n||bm(s),new n(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){a||Kv(s);var l=new a(s);if(l.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(s){var l=Number(s);if(isNaN(l))throw new Error('Cannot convert "'+s+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(s){t||Qv(s);try{return new t(s)}catch(l){throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(s){a||Kv(s);try{return new a(s)}catch(l){throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){n||bm(s);try{return new n(s)}catch(l){throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return t||Qv(s),new t(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return a||Kv(s),new a(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return i||WG(),new i(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}]),o.onMismatch=(u,s,l)=>{var c=o.createError(u,s,l);if(["wrongType","mismatch"].includes(c.data.category)&&s.length===1&&Xr(s[0])&&l.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw f.data=c.data,f}throw c},o.onMismatch=(u,s,l)=>{var c=o.createError(u,s,l);if(["wrongType","mismatch"].includes(c.data.category)&&s.length===1&&Xr(s[0])&&l.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw f.data=c.data,f}throw c},o});function Qv(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function bm(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function WG(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Kv(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var YG="ResultSet",jG=[],ry=T(YG,jG,()=>{function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return r.prototype.type="ResultSet",r.prototype.isResultSet=!0,r.prototype.valueOf=function(){return this.entries},r.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},r.fromJSON=function(e){return new r(e.entries)},r},{isClass:!0});var ul=9e15,es=1e9,ny="0123456789abcdef",wm="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",_m="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",iy={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ul,maxE:ul,crypto:!1},NT,fo,zt=!0,Am="[DecimalError] ",Ko=Am+"Invalid argument: ",CT=Am+"Precision limit exceeded",TT=Am+"crypto unavailable",MT="[object Decimal]",Un=Math.floor,vn=Math.pow,ZG=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,JG=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,XG=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,FT=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xa=1e7,Bt=7,QG=9007199254740991,KG=wm.length-1,ay=_m.length-1,Ge={toStringTag:MT};Ge.absoluteValue=Ge.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),Et(r)};Ge.ceil=function(){return Et(new this.constructor(this),this.e+1,2)};Ge.clampedTo=Ge.clamp=function(r,e){var t,n=this,i=n.constructor;if(r=new i(r),e=new i(e),!r.s||!e.s)return new i(NaN);if(r.gt(e))throw Error(Ko+e);return t=n.cmp(r),t<0?r:n.cmp(e)>0?e:new i(n)};Ge.comparedTo=Ge.cmp=function(r){var e,t,n,i,a=this,o=a.d,u=(r=new a.constructor(r)).d,s=a.s,l=r.s;if(!o||!u)return!s||!l?NaN:s!==l?s:o===u?0:!o^s<0?1:-1;if(!o[0]||!u[0])return o[0]?s:u[0]?-l:0;if(s!==l)return s;if(a.e!==r.e)return a.e>r.e^s<0?1:-1;for(n=o.length,i=u.length,e=0,t=n<i?n:i;e<t;++e)if(o[e]!==u[e])return o[e]>u[e]^s<0?1:-1;return n===i?0:n>i^s<0?1:-1};Ge.cosine=Ge.cos=function(){var r,e,t=this,n=t.constructor;return t.d?t.d[0]?(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+Bt,n.rounding=1,t=eW(n,kT(n,t)),n.precision=r,n.rounding=e,Et(fo==2||fo==3?t.neg():t,r,e,!0)):new n(1):new n(NaN)};Ge.cubeRoot=Ge.cbrt=function(){var r,e,t,n,i,a,o,u,s,l,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(zt=!1,a=c.s*vn(c.s*c,1/3),!a||Math.abs(a)==1/0?(t=In(c.d),r=c.e,(a=(r-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=vn(t,1/3),r=Un((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?t="5e"+r:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new f(t),n.s=c.s):n=new f(a.toString()),o=(r=f.precision)+3;;)if(u=n,s=u.times(u).times(u),l=s.plus(c),n=Rr(l.plus(c).times(u),l.plus(s),o+2,1),In(u.d).slice(0,o)===(t=In(n.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!i&&t=="4999"){if(!i&&(Et(u,r+1,0),u.times(u).times(u).eq(c))){n=u;break}o+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Et(n,r+1,1),e=!n.times(n).times(n).eq(c));break}return zt=!0,Et(n,r,f.rounding,e)};Ge.decimalPlaces=Ge.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-Un(this.e/Bt))*Bt,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};Ge.dividedBy=Ge.div=function(r){return Rr(this,new this.constructor(r))};Ge.dividedToIntegerBy=Ge.divToInt=function(r){var e=this,t=e.constructor;return Et(Rr(e,new t(r),0,1,1),t.precision,t.rounding)};Ge.equals=Ge.eq=function(r){return this.cmp(r)===0};Ge.floor=function(){return Et(new this.constructor(this),this.e+1,3)};Ge.greaterThan=Ge.gt=function(r){return this.cmp(r)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(r){var e=this.cmp(r);return e==1||e===0};Ge.hyperbolicCosine=Ge.cosh=function(){var r,e,t,n,i,a=this,o=a.constructor,u=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return u;t=o.precision,n=o.rounding,o.precision=t+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(r=Math.ceil(i/3),e=(1/Em(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),a=ll(o,1,a.times(e),new o(1),!0);for(var s,l=r,c=new o(8);l--;)s=a.times(a),a=u.minus(s.times(c.minus(s.times(c))));return Et(a,o.precision=t,o.rounding=n,!0)};Ge.hyperbolicSine=Ge.sinh=function(){var r,e,t,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=ll(a,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/Em(5,r)),i=ll(a,2,i,i,!0);for(var o,u=new a(5),s=new a(16),l=new a(20);r--;)o=i.times(i),i=i.times(u.plus(o.times(s.times(o).plus(l))))}return a.precision=e,a.rounding=t,Et(i,e,t,!0)};Ge.hyperbolicTangent=Ge.tanh=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+7,n.rounding=1,Rr(t.sinh(),t.cosh(),n.precision=r,n.rounding=e)):new n(t.s)};Ge.inverseCosine=Ge.acos=function(){var r,e=this,t=e.constructor,n=e.abs().cmp(1),i=t.precision,a=t.rounding;return n!==-1?n===0?e.isNeg()?ba(t,i,a):new t(0):new t(NaN):e.isZero()?ba(t,i+4,a).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),r=ba(t,i+4,a).times(.5),t.precision=i,t.rounding=a,r.minus(e))};Ge.inverseHyperbolicCosine=Ge.acosh=function(){var r,e,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(r=n.precision,e=n.rounding,n.precision=r+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,zt=!1,t=t.times(t).minus(1).sqrt().plus(t),zt=!0,n.precision=r,n.rounding=e,t.ln()):new n(t)};Ge.inverseHyperbolicSine=Ge.asinh=function(){var r,e,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,zt=!1,t=t.times(t).plus(1).sqrt().plus(t),zt=!0,n.precision=r,n.rounding=e,t.ln())};Ge.inverseHyperbolicTangent=Ge.atanh=function(){var r,e,t,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=a.precision,e=a.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?Et(new a(i),r,e,!0):(a.precision=t=n-i.e,i=Rr(i.plus(1),new a(1).minus(i),t+r,1),a.precision=r+4,a.rounding=1,i=i.ln(),a.precision=r,a.rounding=e,i.times(.5))):new a(NaN)};Ge.inverseSine=Ge.asin=function(){var r,e,t,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),t=a.precision,n=a.rounding,e!==-1?e===0?(r=ba(a,t+4,n).times(.5),r.s=i.s,r):new a(NaN):(a.precision=t+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=n,i.times(2)))};Ge.inverseTangent=Ge.atan=function(){var r,e,t,n,i,a,o,u,s,l=this,c=l.constructor,f=c.precision,p=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&f+4<=ay)return o=ba(c,f+4,p).times(.25),o.s=l.s,o}else{if(!l.s)return new c(NaN);if(f+4<=ay)return o=ba(c,f+4,p).times(.5),o.s=l.s,o}for(c.precision=u=f+10,c.rounding=1,t=Math.min(28,u/Bt+2|0),r=t;r;--r)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(zt=!1,e=Math.ceil(u/Bt),n=1,s=l.times(l),o=new c(l),i=l;r!==-1;)if(i=i.times(s),a=o.minus(i.div(n+=2)),i=i.times(s),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(r=e;o.d[r]===a.d[r]&&r--;);return t&&(o=o.times(2<<t-1)),zt=!0,Et(o,c.precision=f,c.rounding=p,!0)};Ge.isFinite=function(){return!!this.d};Ge.isInteger=Ge.isInt=function(){return!!this.d&&Un(this.e/Bt)>this.d.length-2};Ge.isNaN=function(){return!this.s};Ge.isNegative=Ge.isNeg=function(){return this.s<0};Ge.isPositive=Ge.isPos=function(){return this.s>0};Ge.isZero=function(){return!!this.d&&this.d[0]===0};Ge.lessThan=Ge.lt=function(r){return this.cmp(r)<0};Ge.lessThanOrEqualTo=Ge.lte=function(r){return this.cmp(r)<1};Ge.logarithm=Ge.log=function(r){var e,t,n,i,a,o,u,s,l=this,c=l.constructor,f=c.precision,p=c.rounding,m=5;if(r==null)r=new c(10),e=!0;else{if(r=new c(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new c(NaN);e=r.eq(10)}if(t=l.d,l.s<0||!t||!t[0]||l.eq(1))return new c(t&&!t[0]?-1/0:l.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(i=t[0];i%10===0;)i/=10;a=i!==1}if(zt=!1,u=f+m,o=Qo(l,u),n=e?Sm(c,u+10):Qo(r,u),s=Rr(o,n,u,1),yc(s.d,i=f,p))do if(u+=10,o=Qo(l,u),n=e?Sm(c,u+10):Qo(r,u),s=Rr(o,n,u,1),!a){+In(s.d).slice(i+1,i+15)+1==1e14&&(s=Et(s,f+1,0));break}while(yc(s.d,i+=10,p));return zt=!0,Et(s,f,p)};Ge.minus=Ge.sub=function(r){var e,t,n,i,a,o,u,s,l,c,f,p,m=this,h=m.constructor;if(r=new h(r),!m.d||!r.d)return!m.s||!r.s?r=new h(NaN):m.d?r.s=-r.s:r=new h(r.d||m.s!==r.s?m:NaN),r;if(m.s!=r.s)return r.s=-r.s,m.plus(r);if(l=m.d,p=r.d,u=h.precision,s=h.rounding,!l[0]||!p[0]){if(p[0])r.s=-r.s;else if(l[0])r=new h(m);else return new h(s===3?-0:0);return zt?Et(r,u,s):r}if(t=Un(r.e/Bt),c=Un(m.e/Bt),l=l.slice(),a=c-t,a){for(f=a<0,f?(e=l,a=-a,o=p.length):(e=p,t=c,o=l.length),n=Math.max(Math.ceil(u/Bt),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=l.length,o=p.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(l[n]!=p[n]){f=l[n]<p[n];break}a=0}for(f&&(e=l,l=p,p=e,r.s=-r.s),o=l.length,n=p.length-o;n>0;--n)l[o++]=0;for(n=p.length;n>a;){if(l[--n]<p[n]){for(i=n;i&&l[--i]===0;)l[i]=xa-1;--l[i],l[n]+=xa}l[n]-=p[n]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--t;return l[0]?(r.d=l,r.e=Dm(l,t),zt?Et(r,u,s):r):new h(s===3?-0:0)};Ge.modulo=Ge.mod=function(r){var e,t=this,n=t.constructor;return r=new n(r),!t.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||t.d&&!t.d[0]?Et(new n(t),n.precision,n.rounding):(zt=!1,n.modulo==9?(e=Rr(t,r.abs(),0,3,1),e.s*=r.s):e=Rr(t,r,0,n.modulo,1),e=e.times(r),zt=!0,t.minus(e))};Ge.naturalExponential=Ge.exp=function(){return oy(this)};Ge.naturalLogarithm=Ge.ln=function(){return Qo(this)};Ge.negated=Ge.neg=function(){var r=new this.constructor(this);return r.s=-r.s,Et(r)};Ge.plus=Ge.add=function(r){var e,t,n,i,a,o,u,s,l,c,f=this,p=f.constructor;if(r=new p(r),!f.d||!r.d)return!f.s||!r.s?r=new p(NaN):f.d||(r=new p(r.d||f.s===r.s?f:NaN)),r;if(f.s!=r.s)return r.s=-r.s,f.minus(r);if(l=f.d,c=r.d,u=p.precision,s=p.rounding,!l[0]||!c[0])return c[0]||(r=new p(f)),zt?Et(r,u,s):r;if(a=Un(f.e/Bt),n=Un(r.e/Bt),l=l.slice(),i=a-n,i){for(i<0?(t=l,i=-i,o=c.length):(t=c,n=a,o=l.length),a=Math.ceil(u/Bt),o=a>o?a+1:o+1,i>o&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,t=c,c=l,l=t),e=0;i;)e=(l[--i]=l[i]+c[i]+e)/xa|0,l[i]%=xa;for(e&&(l.unshift(e),++n),o=l.length;l[--o]==0;)l.pop();return r.d=l,r.e=Dm(l,n),zt?Et(r,u,s):r};Ge.precision=Ge.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Ko+r);return t.d?(e=IT(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};Ge.round=function(){var r=this,e=r.constructor;return Et(new e(r),r.e+1,e.rounding)};Ge.sine=Ge.sin=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+Bt,n.rounding=1,t=rW(n,kT(n,t)),n.precision=r,n.rounding=e,Et(fo>2?t.neg():t,r,e,!0)):new n(NaN)};Ge.squareRoot=Ge.sqrt=function(){var r,e,t,n,i,a,o=this,u=o.d,s=o.e,l=o.s,c=o.constructor;if(l!==1||!u||!u[0])return new c(!l||l<0&&(!u||u[0])?NaN:u?o:1/0);for(zt=!1,l=Math.sqrt(+o),l==0||l==1/0?(e=In(u),(e.length+s)%2==0&&(e+="0"),l=Math.sqrt(e),s=Un((s+1)/2)-(s<0||s%2),l==1/0?e="5e"+s:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+s),n=new c(e)):n=new c(l.toString()),t=(s=c.precision)+3;;)if(a=n,n=a.plus(Rr(o,a,t+2,1)).times(.5),In(a.d).slice(0,t)===(e=In(n.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(Et(a,s+1,0),a.times(a).eq(o))){n=a;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Et(n,s+1,1),r=!n.times(n).eq(o));break}return zt=!0,Et(n,s,c.rounding,r)};Ge.tangent=Ge.tan=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+10,n.rounding=1,t=t.sin(),t.s=1,t=Rr(t,new n(1).minus(t.times(t)).sqrt(),r+10,0),n.precision=r,n.rounding=e,Et(fo==2||fo==4?t.neg():t,r,e,!0)):new n(NaN)};Ge.times=Ge.mul=function(r){var e,t,n,i,a,o,u,s,l,c=this,f=c.constructor,p=c.d,m=(r=new f(r)).d;if(r.s*=c.s,!p||!p[0]||!m||!m[0])return new f(!r.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?r.s/0:r.s*0);for(t=Un(c.e/Bt)+Un(r.e/Bt),s=p.length,l=m.length,s<l&&(a=p,p=m,m=a,o=s,s=l,l=o),a=[],o=s+l,n=o;n--;)a.push(0);for(n=l;--n>=0;){for(e=0,i=s+n;i>n;)u=a[i]+m[n]*p[i-n-1]+e,a[i--]=u%xa|0,e=u/xa|0;a[i]=(a[i]+e)%xa|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),r.d=a,r.e=Dm(a,t),zt?Et(r,f.precision,f.rounding):r};Ge.toBinary=function(r,e){return uy(this,2,r,e)};Ge.toDecimalPlaces=Ge.toDP=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(mi(r,0,es),e===void 0?e=n.rounding:mi(e,0,8),Et(t,r+t.e+1,e))};Ge.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Pa(n,!0):(mi(r,0,es),e===void 0?e=i.rounding:mi(e,0,8),n=Et(new i(n),r+1,e),t=Pa(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+t:t};Ge.toFixed=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?t=Pa(i):(mi(r,0,es),e===void 0?e=a.rounding:mi(e,0,8),n=Et(new a(i),r+i.e+1,e),t=Pa(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};Ge.toFraction=function(r){var e,t,n,i,a,o,u,s,l,c,f,p,m=this,h=m.d,d=m.constructor;if(!h)return new d(m);if(l=t=new d(1),n=s=new d(0),e=new d(n),a=e.e=IT(h)-m.e-1,o=a%Bt,e.d[0]=vn(10,o<0?Bt+o:o),r==null)r=a>0?e:l;else{if(u=new d(r),!u.isInt()||u.lt(l))throw Error(Ko+u);r=u.gt(e)?a>0?e:l:u}for(zt=!1,u=new d(In(h)),c=d.precision,d.precision=a=h.length*Bt*2;f=Rr(u,e,0,1,1),i=t.plus(f.times(n)),i.cmp(r)!=1;)t=n,n=i,i=l,l=s.plus(f.times(i)),s=i,i=e,e=u.minus(f.times(i)),u=i;return i=Rr(r.minus(t),n,0,1,1),s=s.plus(i.times(l)),t=t.plus(i.times(n)),s.s=l.s=m.s,p=Rr(l,n,a,1).minus(m).abs().cmp(Rr(s,t,a,1).minus(m).abs())<1?[l,n]:[s,t],d.precision=c,zt=!0,p};Ge.toHexadecimal=Ge.toHex=function(r,e){return uy(this,16,r,e)};Ge.toNearest=function(r,e){var t=this,n=t.constructor;if(t=new n(t),r==null){if(!t.d)return t;r=new n(1),e=n.rounding}else{if(r=new n(r),e===void 0?e=n.rounding:mi(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(zt=!1,t=Rr(t,r,0,e,1).times(r),zt=!0,Et(t)):(r.s=t.s,t=r),t};Ge.toNumber=function(){return+this};Ge.toOctal=function(r,e){return uy(this,8,r,e)};Ge.toPower=Ge.pow=function(r){var e,t,n,i,a,o,u=this,s=u.constructor,l=+(r=new s(r));if(!u.d||!r.d||!u.d[0]||!r.d[0])return new s(vn(+u,l));if(u=new s(u),u.eq(1))return u;if(n=s.precision,a=s.rounding,r.eq(1))return Et(u,n,a);if(e=Un(r.e/Bt),e>=r.d.length-1&&(t=l<0?-l:l)<=QG)return i=BT(s,u,t,n),r.s<0?new s(1).div(i):Et(i,n,a);if(o=u.s,o<0){if(e<r.d.length-1)return new s(NaN);if(r.d[e]&1||(o=1),u.e==0&&u.d[0]==1&&u.d.length==1)return u.s=o,u}return t=vn(+u,l),e=t==0||!isFinite(t)?Un(l*(Math.log("0."+In(u.d))/Math.LN10+u.e+1)):new s(t+"").e,e>s.maxE+1||e<s.minE-1?new s(e>0?o/0:0):(zt=!1,s.rounding=u.s=1,t=Math.min(12,(e+"").length),i=oy(r.times(Qo(u,n+t)),n),i.d&&(i=Et(i,n+5,1),yc(i.d,n,a)&&(e=n+10,i=Et(oy(r.times(Qo(u,e+t)),e),e+5,1),+In(i.d).slice(n+1,n+15)+1==1e14&&(i=Et(i,n+1,0)))),i.s=o,zt=!0,s.rounding=a,Et(i,n,a))};Ge.toPrecision=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Pa(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(mi(r,1,es),e===void 0?e=i.rounding:mi(e,0,8),n=Et(new i(n),r,e),t=Pa(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+t:t};Ge.toSignificantDigits=Ge.toSD=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(mi(r,1,es),e===void 0?e=n.rounding:mi(e,0,8)),Et(new n(t),r,e)};Ge.toString=function(){var r=this,e=r.constructor,t=Pa(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};Ge.truncated=Ge.trunc=function(){return Et(new this.constructor(this),this.e+1,1)};Ge.valueOf=Ge.toJSON=function(){var r=this,e=r.constructor,t=Pa(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function In(r){var e,t,n,i=r.length-1,a="",o=r[0];if(i>0){for(a+=o,e=1;e<i;e++)n=r[e]+"",t=Bt-n.length,t&&(a+=Xo(t)),a+=n;o=r[e],n=o+"",t=Bt-n.length,t&&(a+=Xo(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function mi(r,e,t){if(r!==~~r||r<e||r>t)throw Error(Ko+r)}function yc(r,e,t,n){var i,a,o,u;for(a=r[0];a>=10;a/=10)--e;return--e<0?(e+=Bt,i=0):(i=Math.ceil((e+1)/Bt),e%=Bt),a=vn(10,Bt-e),u=r[i]%a|0,n==null?e<3?(e==0?u=u/100|0:e==1&&(u=u/10|0),o=t<4&&u==99999||t>3&&u==49999||u==5e4||u==0):o=(t<4&&u+1==a||t>3&&u+1==a/2)&&(r[i+1]/a/100|0)==vn(10,e-2)-1||(u==a/2||u==0)&&(r[i+1]/a/100|0)==0:e<4?(e==0?u=u/1e3|0:e==1?u=u/100|0:e==2&&(u=u/10|0),o=(n||t<4)&&u==9999||!n&&t>3&&u==4999):o=((n||t<4)&&u+1==a||!n&&t>3&&u+1==a/2)&&(r[i+1]/a/1e3|0)==vn(10,e-3)-1,o}function xm(r,e,t){for(var n,i=[0],a,o=0,u=r.length;o<u;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=ny.indexOf(r.charAt(o++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function eW(r,e){var t,n,i;if(e.isZero())return e;n=e.d.length,n<32?(t=Math.ceil(n/3),i=(1/Em(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),r.precision+=t,e=ll(r,1,e.times(i),new r(1));for(var a=t;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return r.precision-=t,e}var Rr=function(){function r(n,i,a){var o,u=0,s=n.length;for(n=n.slice();s--;)o=n[s]*i+u,n[s]=o%a|0,u=o/a|0;return u&&n.unshift(u),n}function e(n,i,a,o){var u,s;if(a!=o)s=a>o?1:-1;else for(u=s=0;u<a;u++)if(n[u]!=i[u]){s=n[u]>i[u]?1:-1;break}return s}function t(n,i,a,o){for(var u=0;a--;)n[a]-=u,u=n[a]<i[a]?1:0,n[a]=u*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,u,s){var l,c,f,p,m,h,d,g,y,_,b,w,S,x,C,E,D,N,I,O,V=n.constructor,q=n.s==i.s?1:-1,L=n.d,P=i.d;if(!L||!L[0]||!P||!P[0])return new V(!n.s||!i.s||(L?P&&L[0]==P[0]:!P)?NaN:L&&L[0]==0||!P?q*0:q/0);for(s?(m=1,c=n.e-i.e):(s=xa,m=Bt,c=Un(n.e/m)-Un(i.e/m)),I=P.length,D=L.length,y=new V(q),_=y.d=[],f=0;P[f]==(L[f]||0);f++);if(P[f]>(L[f]||0)&&c--,a==null?(x=a=V.precision,o=V.rounding):u?x=a+(n.e-i.e)+1:x=a,x<0)_.push(1),h=!0;else{if(x=x/m+2|0,f=0,I==1){for(p=0,P=P[0],x++;(f<D||p)&&x--;f++)C=p*s+(L[f]||0),_[f]=C/P|0,p=C%P|0;h=p||f<D}else{for(p=s/(P[0]+1)|0,p>1&&(P=r(P,p,s),L=r(L,p,s),I=P.length,D=L.length),E=I,b=L.slice(0,I),w=b.length;w<I;)b[w++]=0;O=P.slice(),O.unshift(0),N=P[0],P[1]>=s/2&&++N;do p=0,l=e(P,b,I,w),l<0?(S=b[0],I!=w&&(S=S*s+(b[1]||0)),p=S/N|0,p>1?(p>=s&&(p=s-1),d=r(P,p,s),g=d.length,w=b.length,l=e(d,b,g,w),l==1&&(p--,t(d,I<g?O:P,g,s))):(p==0&&(l=p=1),d=P.slice()),g=d.length,g<w&&d.unshift(0),t(b,d,w,s),l==-1&&(w=b.length,l=e(P,b,I,w),l<1&&(p++,t(b,I<w?O:P,w,s))),w=b.length):l===0&&(p++,b=[0]),_[f++]=p,l&&b[0]?b[w++]=L[E]||0:(b=[L[E]],w=1);while((E++<D||b[0]!==void 0)&&x--);h=b[0]!==void 0}_[0]||_.shift()}if(m==1)y.e=c,NT=h;else{for(f=1,p=_[0];p>=10;p/=10)f++;y.e=f+c*m-1,Et(y,u?a+y.e+1:a,o,h)}return y}}();function Et(r,e,t,n){var i,a,o,u,s,l,c,f,p,m=r.constructor;e:if(e!=null){if(f=r.d,!f)return r;for(i=1,u=f[0];u>=10;u/=10)i++;if(a=e-i,a<0)a+=Bt,o=e,c=f[p=0],s=c/vn(10,i-o-1)%10|0;else if(p=Math.ceil((a+1)/Bt),u=f.length,p>=u)if(n){for(;u++<=p;)f.push(0);c=s=0,i=1,a%=Bt,o=a-Bt+1}else break e;else{for(c=u=f[p],i=1;u>=10;u/=10)i++;a%=Bt,o=a-Bt+i,s=o<0?0:c/vn(10,i-o-1)%10|0}if(n=n||e<0||f[p+1]!==void 0||(o<0?c:c%vn(10,i-o-1)),l=t<4?(s||n)&&(t==0||t==(r.s<0?3:2)):s>5||s==5&&(t==4||n||t==6&&(a>0?o>0?c/vn(10,i-o):0:f[p-1])%10&1||t==(r.s<0?8:7)),e<1||!f[0])return f.length=0,l?(e-=r.e+1,f[0]=vn(10,(Bt-e%Bt)%Bt),r.e=-e||0):f[0]=r.e=0,r;if(a==0?(f.length=p,u=1,p--):(f.length=p+1,u=vn(10,Bt-a),f[p]=o>0?(c/vn(10,i-o)%vn(10,o)|0)*u:0),l)for(;;)if(p==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=u,u=1;o>=10;o/=10)u++;a!=u&&(r.e++,f[0]==xa&&(f[0]=1));break}else{if(f[p]+=u,f[p]!=xa)break;f[p--]=0,u=1}for(a=f.length;f[--a]===0;)f.pop()}return zt&&(r.e>m.maxE?(r.d=null,r.e=NaN):r.e<m.minE&&(r.e=0,r.d=[0])),r}function Pa(r,e,t){if(!r.isFinite())return OT(r);var n,i=r.e,a=In(r.d),o=a.length;return e?(t&&(n=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+Xo(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):i<0?(a="0."+Xo(-i-1)+a,t&&(n=t-o)>0&&(a+=Xo(n))):i>=o?(a+=Xo(i+1-o),t&&(n=t-i-1)>0&&(a=a+"."+Xo(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),t&&(n=t-o)>0&&(i+1===o&&(a+="."),a+=Xo(n))),a}function Dm(r,e){var t=r[0];for(e*=Bt;t>=10;t/=10)e++;return e}function Sm(r,e,t){if(e>KG)throw zt=!0,t&&(r.precision=t),Error(CT);return Et(new r(wm),e,1,!0)}function ba(r,e,t){if(e>ay)throw Error(CT);return Et(new r(_m),e,t,!0)}function IT(r){var e=r.length-1,t=e*Bt+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function Xo(r){for(var e="";r--;)e+="0";return e}function BT(r,e,t,n){var i,a=new r(1),o=Math.ceil(n/Bt+4);for(zt=!1;;){if(t%2&&(a=a.times(e),DT(a.d,o)&&(i=!0)),t=Un(t/2),t===0){t=a.d.length-1,i&&a.d[t]===0&&++a.d[t];break}e=e.times(e),DT(e.d,o)}return zt=!0,a}function AT(r){return r.d[r.d.length-1]&1}function PT(r,e,t){for(var n,i=new r(e[0]),a=0;++a<e.length;)if(n=new r(e[a]),n.s)i[t](n)&&(i=n);else{i=n;break}return i}function oy(r,e){var t,n,i,a,o,u,s,l=0,c=0,f=0,p=r.constructor,m=p.rounding,h=p.precision;if(!r.d||!r.d[0]||r.e>17)return new p(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(zt=!1,s=h):s=e,u=new p(.03125);r.e>-2;)r=r.times(u),f+=5;for(n=Math.log(vn(2,f))/Math.LN10*2+5|0,s+=n,t=a=o=new p(1),p.precision=s;;){if(a=Et(a.times(r),s,1),t=t.times(++c),u=o.plus(Rr(a,t,s,1)),In(u.d).slice(0,s)===In(o.d).slice(0,s)){for(i=f;i--;)o=Et(o.times(o),s,1);if(e==null)if(l<3&&yc(o.d,s-n,m,l))p.precision=s+=10,t=a=u=new p(1),c=0,l++;else return Et(o,p.precision=h,m,zt=!0);else return p.precision=h,o}o=u}}function Qo(r,e){var t,n,i,a,o,u,s,l,c,f,p,m=1,h=10,d=r,g=d.d,y=d.constructor,_=y.rounding,b=y.precision;if(d.s<0||!g||!g[0]||!d.e&&g[0]==1&&g.length==1)return new y(g&&!g[0]?-1/0:d.s!=1?NaN:g?0:d);if(e==null?(zt=!1,c=b):c=e,y.precision=c+=h,t=In(g),n=t.charAt(0),Math.abs(a=d.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)d=d.times(r),t=In(d.d),n=t.charAt(0),m++;a=d.e,n>1?(d=new y("0."+t),a++):d=new y(n+"."+t.slice(1))}else return l=Sm(y,c+2,b).times(a+""),d=Qo(new y(n+"."+t.slice(1)),c-h).plus(l),y.precision=b,e==null?Et(d,b,_,zt=!0):d;for(f=d,s=o=d=Rr(d.minus(1),d.plus(1),c,1),p=Et(d.times(d),c,1),i=3;;){if(o=Et(o.times(p),c,1),l=s.plus(Rr(o,new y(i),c,1)),In(l.d).slice(0,c)===In(s.d).slice(0,c))if(s=s.times(2),a!==0&&(s=s.plus(Sm(y,c+2,b).times(a+""))),s=Rr(s,new y(m),c,1),e==null)if(yc(s.d,c-h,_,u))y.precision=c+=h,l=o=d=Rr(f.minus(1),f.plus(1),c,1),p=Et(d.times(d),c,1),i=u=1;else return Et(s,y.precision=b,_,zt=!0);else return y.precision=b,s;s=l,i+=2}}function OT(r){return String(r.s*r.s/0)}function sy(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,r.e=t=t-n-1,r.d=[],n=(t+1)%Bt,t<0&&(n+=Bt),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=Bt;n<i;)r.d.push(+e.slice(n,n+=Bt));e=e.slice(n),n=Bt-e.length}else n-=i;for(;n--;)e+="0";r.d.push(+e),zt&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function tW(r,e){var t,n,i,a,o,u,s,l,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),FT.test(e))return sy(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(JG.test(e))t=16,e=e.toLowerCase();else if(ZG.test(e))t=2;else if(XG.test(e))t=8;else throw Error(Ko+e);for(a=e.search(/p/i),a>0?(s=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=r.constructor,o&&(e=e.replace(".",""),u=e.length,a=u-a,i=BT(n,new n(t),a,a*2)),l=xm(e,t,xa),c=l.length-1,a=c;l[a]===0;--a)l.pop();return a<0?new n(r.s*0):(r.e=Dm(l,c),r.d=l,zt=!1,o&&(r=Rr(r,i,u*4)),s&&(r=r.times(Math.abs(s)<54?vn(2,s):bc.pow(2,s))),zt=!0,r)}function rW(r,e){var t,n=e.d.length;if(n<3)return e.isZero()?e:ll(r,2,e,e);t=1.4*Math.sqrt(n),t=t>16?16:t|0,e=e.times(1/Em(5,t)),e=ll(r,2,e,e);for(var i,a=new r(5),o=new r(16),u=new r(20);t--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(u))));return e}function ll(r,e,t,n,i){var a,o,u,s,l=1,c=r.precision,f=Math.ceil(c/Bt);for(zt=!1,s=t.times(t),u=new r(n);;){if(o=Rr(u.times(s),new r(e++*e++),c,1),u=i?n.plus(o):n.minus(o),n=Rr(o.times(s),new r(e++*e++),c,1),o=u.plus(n),o.d[f]!==void 0){for(a=f;o.d[a]===u.d[a]&&a--;);if(a==-1)break}a=u,u=n,n=o,o=a,l++}return zt=!0,o.d.length=f+1,o}function Em(r,e){for(var t=r;--e;)t*=r;return t}function kT(r,e){var t,n=e.s<0,i=ba(r,r.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return fo=n?4:1,e;if(t=e.divToInt(i),t.isZero())fo=n?3:2;else{if(e=e.minus(t.times(i)),e.lte(a))return fo=AT(t)?n?2:3:n?4:1,e;fo=AT(t)?n?1:4:n?3:2}return e.minus(i).abs()}function uy(r,e,t,n){var i,a,o,u,s,l,c,f,p,m=r.constructor,h=t!==void 0;if(h?(mi(t,1,es),n===void 0?n=m.rounding:mi(n,0,8)):(t=m.precision,n=m.rounding),!r.isFinite())c=OT(r);else{for(c=Pa(r),o=c.indexOf("."),h?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,o>=0&&(c=c.replace(".",""),p=new m(1),p.e=c.length-o,p.d=xm(Pa(p),10,i),p.e=p.d.length),f=xm(c,10,i),a=s=f.length;f[--s]==0;)f.pop();if(!f[0])c=h?"0p+0":"0";else{if(o<0?a--:(r=new m(r),r.d=f,r.e=a,r=Rr(r,p,t,n,0,i),f=r.d,a=r.e,l=NT),o=f[t],u=i/2,l=l||f[t+1]!==void 0,l=n<4?(o!==void 0||l)&&(n===0||n===(r.s<0?3:2)):o>u||o===u&&(n===4||l||n===6&&f[t-1]&1||n===(r.s<0?8:7)),f.length=t,l)for(;++f[--t]>i-1;)f[t]=0,t||(++a,f.unshift(1));for(s=f.length;!f[s-1];--s);for(o=0,c="";o<s;o++)c+=ny.charAt(f[o]);if(h){if(s>1)if(e==16||e==8){for(o=e==16?4:3,--s;s%o;s++)c+="0";for(f=xm(c,i,e),s=f.length;!f[s-1];--s);for(o=1,c="1.";o<s;o++)c+=ny.charAt(f[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>s)for(a-=s;a--;)c+="0";else a<s&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return r.s<0?"-"+c:c}function DT(r,e){if(r.length>e)return r.length=e,!0}function nW(r){return new this(r).abs()}function iW(r){return new this(r).acos()}function aW(r){return new this(r).acosh()}function oW(r,e){return new this(r).plus(e)}function sW(r){return new this(r).asin()}function uW(r){return new this(r).asinh()}function lW(r){return new this(r).atan()}function cW(r){return new this(r).atanh()}function fW(r,e){r=new this(r),e=new this(e);var t,n=this.precision,i=this.rounding,a=n+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=ba(this,a,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?ba(this,n,i):new this(0),t.s=r.s):!r.d||e.isZero()?(t=ba(this,a,1).times(.5),t.s=r.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(Rr(r,e,a,1)),e=ba(this,a,1),this.precision=n,this.rounding=i,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(Rr(r,e,a,1)),t}function pW(r){return new this(r).cbrt()}function mW(r){return Et(r=new this(r),r.e+1,2)}function dW(r,e,t){return new this(r).clamp(e,t)}function hW(r){if(!r||typeof r!="object")throw Error(Am+"Object expected");var e,t,n,i=r.defaults===!0,a=["precision",1,es,"rounding",0,8,"toExpNeg",-ul,0,"toExpPos",0,ul,"maxE",0,ul,"minE",-ul,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],i&&(this[t]=iy[t]),(n=r[t])!==void 0)if(Un(n)===n&&n>=a[e+1]&&n<=a[e+2])this[t]=n;else throw Error(Ko+t+": "+n);if(t="crypto",i&&(this[t]=iy[t]),(n=r[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(TT);else this[t]=!1;else throw Error(Ko+t+": "+n);return this}function gW(r){return new this(r).cos()}function vW(r){return new this(r).cosh()}function RT(r){var e,t,n;function i(a){var o,u,s,l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,ET(a)){l.s=a.s,zt?!a.d||a.e>i.maxE?(l.e=NaN,l.d=null):a.e<i.minE?(l.e=0,l.d=[0]):(l.e=a.e,l.d=a.d.slice()):(l.e=a.e,l.d=a.d?a.d.slice():a.d);return}if(s=typeof a,s==="number"){if(a===0){l.s=1/a<0?-1:1,l.e=0,l.d=[0];return}if(a<0?(a=-a,l.s=-1):l.s=1,a===~~a&&a<1e7){for(o=0,u=a;u>=10;u/=10)o++;zt?o>i.maxE?(l.e=NaN,l.d=null):o<i.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[a]):(l.e=o,l.d=[a]);return}else if(a*0!==0){a||(l.s=NaN),l.e=NaN,l.d=null;return}return sy(l,a.toString())}else if(s!=="string")throw Error(Ko+a);return(u=a.charCodeAt(0))===45?(a=a.slice(1),l.s=-1):(u===43&&(a=a.slice(1)),l.s=1),FT.test(a)?sy(l,a):tW(l,a)}if(i.prototype=Ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=hW,i.clone=RT,i.isDecimal=ET,i.abs=nW,i.acos=iW,i.acosh=aW,i.add=oW,i.asin=sW,i.asinh=uW,i.atan=lW,i.atanh=cW,i.atan2=fW,i.cbrt=pW,i.ceil=mW,i.clamp=dW,i.cos=gW,i.cosh=vW,i.div=yW,i.exp=bW,i.floor=xW,i.hypot=wW,i.ln=_W,i.log=SW,i.log10=DW,i.log2=AW,i.max=EW,i.min=NW,i.mod=CW,i.mul=TW,i.pow=MW,i.random=FW,i.round=IW,i.sign=BW,i.sin=PW,i.sinh=OW,i.sqrt=kW,i.sub=RW,i.sum=LW,i.tan=VW,i.tanh=UW,i.trunc=$W,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function yW(r,e){return new this(r).div(e)}function bW(r){return new this(r).exp()}function xW(r){return Et(r=new this(r),r.e+1,3)}function wW(){var r,e,t=new this(0);for(zt=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return zt=!0,new this(1/0);t=e}return zt=!0,t.sqrt()}function ET(r){return r instanceof bc||r&&r.toStringTag===MT||!1}function _W(r){return new this(r).ln()}function SW(r,e){return new this(r).log(e)}function AW(r){return new this(r).log(2)}function DW(r){return new this(r).log(10)}function EW(){return PT(this,arguments,"lt")}function NW(){return PT(this,arguments,"gt")}function CW(r,e){return new this(r).mod(e)}function TW(r,e){return new this(r).mul(e)}function MW(r,e){return new this(r).pow(e)}function FW(r){var e,t,n,i,a=0,o=new this(1),u=[];if(r===void 0?r=this.precision:mi(r,1,es),n=Math.ceil(r/Bt),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:u[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(u.push(i%1e7),a+=4);a=n/4}else throw Error(TT);else for(;a<n;)u[a++]=Math.random()*1e7|0;for(n=u[--a],r%=Bt,n&&r&&(i=vn(10,Bt-r),u[a]=(n/i|0)*i);u[a]===0;a--)u.pop();if(a<0)t=0,u=[0];else{for(t=-1;u[0]===0;t-=Bt)u.shift();for(n=1,i=u[0];i>=10;i/=10)n++;n<Bt&&(t-=Bt-n)}return o.e=t,o.d=u,o}function IW(r){return Et(r=new this(r),r.e+1,this.rounding)}function BW(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function PW(r){return new this(r).sin()}function OW(r){return new this(r).sinh()}function kW(r){return new this(r).sqrt()}function RW(r,e){return new this(r).sub(e)}function LW(){var r=0,e=arguments,t=new this(e[r]);for(zt=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return zt=!0,Et(t,this.precision,this.rounding)}function VW(r){return new this(r).tan()}function UW(r){return new this(r).tanh()}function $W(r){return Et(r=new this(r),r.e+1,1)}Ge[Symbol.for("nodejs.util.inspect.custom")]=Ge.toString;Ge[Symbol.toStringTag]="Decimal";var bc=Ge.constructor=RT(iy);wm=new bc(wm);_m=new bc(_m);var tu=bc;var qW="BigNumber",zW=["?on","config"],ly=T(qW,zW,r=>{var{on:e,config:t}=r,n=tu.clone({precision:t.precision,modulo:tu.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var Sn=hr(VT(),1);var HW="Complex",GW=[],fy=T(HW,GW,()=>(Object.defineProperty(Sn.default,"name",{value:"Complex"}),Sn.default.prototype.constructor=Sn.default,Sn.default.prototype.type="Complex",Sn.default.prototype.isComplex=!0,Sn.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Sn.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Sn.default.prototype.format=function(r){var e="",t=this.im,n=this.re,i=va(this.re,r),a=va(this.im,r),o=xt(r)?r:r?r.precision:null;if(o!==null){var u=Math.pow(10,-o);Math.abs(n/t)<u&&(n=0),Math.abs(t/n)<u&&(t=0)}return t===0?e=i:n===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+a+"i",e},Sn.default.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Sn.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(xt(t)){if(Cn(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),xt(n))return new Sn.default({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Sn.default.prototype.valueOf=Sn.default.prototype.toString,Sn.default.fromJSON=function(r){return new Sn.default(r)},Sn.default.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Sn.default),{isClass:!0});var Oa=hr($T(),1);var WW="Fraction",YW=[],my=T(WW,YW,()=>(Object.defineProperty(Oa.default,"name",{value:"Fraction"}),Oa.default.prototype.constructor=Oa.default,Oa.default.prototype.type="Fraction",Oa.default.prototype.isFraction=!0,Oa.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Oa.default.fromJSON=function(r){return new Oa.default(r)},Oa.default),{isClass:!0});var jW="Range",ZW=[],dy=T(jW,ZW,()=>{function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=t!=null,o=n!=null;if(i){if(lt(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if(lt(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter end must be a number")}if(o){if(lt(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(t):0,this.step=o?parseFloat(n):1}return r.prototype.type="Range",r.prototype.isRange=!0,r.parse=function(e){if(typeof e!="string")return null;var t=e.split(":"),n=t.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[2],n[1]);default:return null}},r.prototype.clone=function(){return new r(this.start,this.end,this.step)},r.prototype.size=function(){var e=0,t=this.start,n=this.step,i=this.end,a=i-t;return Yi(n)===Yi(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},r.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},r.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},r.prototype.forEach=function(e){var t=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;t<i;)e(t,[a],this),t+=n,a++;else if(n<0)for(;t>i;)e(t,[a],this),t+=n,a++},r.prototype.map=function(e){var t=[];return this.forEach(function(n,i,a){t[i[0]]=e(n,i,a)}),t},r.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},r.prototype.valueOf=function(){return this.toArray()},r.prototype.format=function(e){var t=va(this.start,e);return this.step!==1&&(t+=":"+va(this.step,e)),t+=":"+va(this.end,e),t},r.prototype.toString=function(){return this.format()},r.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(e){return new r(e.start,e.end,e.step)},r},{isClass:!0});var JW="Matrix",XW=[],hy=T(JW,XW,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function qT(r){var e=0,t=1,n=Object.create(null),i=Object.create(null),a=0,o=function(s){var l=i[s];if(l&&(delete n[l],delete i[s],--e,t===l)){if(!e){a=0,t=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++t););}};return r=Math.abs(r),{hit:function(s){var l=i[s],c=++a;if(n[c]=s,i[s]=c,!l)return++e,e<=r?void 0:(s=n[t],o(s),s);if(delete n[l],t===l)for(;!Object.prototype.hasOwnProperty.call(n,++t););},delete:o,clear:function(){e=a=0,t=1,n=Object.create(null),i=Object.create(null)}}}function ru(r){var{hasher:e,limit:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=t==null?Number.POSITIVE_INFINITY:t,e=e==null?JSON.stringify:e,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:qT(t||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var u=r.apply(r,i);return n.cache.values.set(o,u),n.cache.values.delete(n.cache.lru.hit(o)),u}}function Nm(r){return Object.keys(r.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var QW="DenseMatrix",KW=["Matrix"],gy=T(QW,KW,r=>{var{Matrix:e}=r;function t(c,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Hr(f))throw new Error("Invalid datatype: "+f);if(it(c))c.type==="DenseMatrix"?(this._data=dt(c._data),this._size=dt(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&Jt(c.data)&&Jt(c.size))this._data=c.data,this._size=c.size,Yv(this._data,this._size),this._datatype=f||c.datatype;else if(Jt(c))this._data=l(c),this._size=vt(this._data),Yv(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+Wt(c)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new e,t.prototype.createDenseMatrix=function(c,f){return new t(c,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Zo(this._data,Wt)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(c,f){return new t(c,f)},t.prototype.subset=function(c,f,p){switch(arguments.length){case 1:return n(this,c);case 2:case 3:return a(this,c,f,p);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(c){if(!Jt(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new Dt(c.length,this._size.length);for(var f=0;f<c.length;f++)mr(c[f],this._size[f]);for(var p=this._data,m=0,h=c.length;m<h;m++){var d=c[m];mr(d,p.length),p=p[d]}return p},t.prototype.set=function(c,f,p){if(!Jt(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new Dt(c.length,this._size.length,"<");var m,h,d,g=c.map(function(_){return _+1});s(this,g,p);var y=this._data;for(m=0,h=c.length-1;m<h;m++)d=c[m],mr(d,y.length),y=y[d];return d=c[c.length-1],mr(d,y.length),y[d]=f,this};function n(c,f){if(!Go(f))throw new TypeError("Invalid index");var p=f.isScalar();if(p)return c.get(f.min());var m=f.size();if(m.length!==c._size.length)throw new Dt(m.length,c._size.length);for(var h=f.min(),d=f.max(),g=0,y=c._size.length;g<y;g++)mr(h[g],c._size[g]),mr(d[g],c._size[g]);return new t(i(c._data,f,m.length,0),c._datatype)}function i(c,f,p,m){var h=m===p-1,d=f.dimension(m);return h?d.map(function(g){return mr(g,c.length),c[g]}).valueOf():d.map(function(g){mr(g,c.length);var y=c[g];return i(y,f,p,m+1)}).valueOf()}function a(c,f,p,m){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var h=f.size(),d=f.isScalar(),g;if(it(p)?(g=p.size(),p=p.valueOf()):g=vt(p),d){if(g.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),p,m)}else{if(!ga(g,h))try{g.length===0?p=Jv([p],h):p=Jv(p,h),g=vt(p)}catch(x){}if(h.length<c._size.length)throw new Dt(h.length,c._size.length,"<");if(g.length<h.length){for(var y=0,_=0;h[y]===1&&g[y]===1;)y++;for(;h[y]===1;)_++,y++;p=gm(p,h.length,_,g)}if(!ga(h,g))throw new Dt(h,g,">");var b=f.max().map(function(x){return x+1});s(c,b,m);var w=h.length,S=0;o(c._data,f,p,w,S)}return c}function o(c,f,p,m,h){var d=h===m-1,g=f.dimension(h);d?g.forEach(function(y,_){mr(y),c[y]=p[_[0]]}):g.forEach(function(y,_){mr(y),o(c[y],f,p[_[0]],m,h+1)})}t.prototype.resize=function(c,f,p){if(!Xr(c))throw new TypeError("Array or Matrix expected");var m=c.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),h=p?this.clone():this;return u(h,m,f)};function u(c,f,p){if(f.length===0){for(var m=c._data;Jt(m);)m=m[0];return m}return c._size=f.slice(0),c._data=ya(c._data,c._size,p),c}t.prototype.reshape=function(c,f){var p=f?this.clone():this;p._data=hc(p._data,c);var m=p._size.reduce((h,d)=>h*d);return p._size=gc(c,m),p};function s(c,f,p){for(var m=c._size.slice(0),h=!1;m.length<f.length;)m.push(0),h=!0;for(var d=0,g=f.length;d<g;d++)f[d]>m[d]&&(m[d]=f[d],h=!0);h&&u(c,m,p)}t.prototype.clone=function(){var c=new t({data:dt(this._data),size:dt(this._size),datatype:this._datatype});return c},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(c){var f=this,p=Nm(c),m=function g(y,_){return Jt(y)?y.map(function(b,w){return g(b,_.concat(w))}):p===1?c(y):p===2?c(y,_):c(y,_,f)},h=m(this._data,[]),d=this._datatype!==void 0?Zo(h,Wt):void 0;return new t(h,d)},t.prototype.forEach=function(c){var f=this,p=function m(h,d){Jt(h)?h.forEach(function(g,y){m(g,d.concat(y))}):c(h,d,f)};p(this._data,[])},t.prototype[Symbol.iterator]=function*(){var c=function*f(p,m){if(Jt(p))for(var h=0;h<p.length;h++)yield*f(p[h],m.concat(h));else yield{value:p,index:m}};yield*c(this._data,[])},t.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var m of p)c.push(new t([m],this._datatype));return c},t.prototype.columns=function(){var c=this,f=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,h=function(y){var _=m.map(b=>[b[y]]);f.push(new t(_,c._datatype))},d=0;d<p[1];d++)h(d);return f},t.prototype.toArray=function(){return dt(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(c){return St(this._data,c)},t.prototype.toString=function(){return St(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(c){if(c){if(lt(c)&&(c=c.toNumber()),!xt(c)||!tt(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,p=c<0?-c:0,m=this._size[0],h=this._size[1],d=Math.min(m-p,h-f),g=[],y=0;y<d;y++)g[y]=this._data[y+p][y+f];return new t({data:g,size:[d],datatype:this._datatype})},t.diagonal=function(c,f,p,m){if(!Jt(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(C){if(lt(C)&&(C=C.toNumber()),!xt(C)||!tt(C)||C<1)throw new Error("Size values must be positive integers");return C}),p){if(lt(p)&&(p=p.toNumber()),!xt(p)||!tt(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var h=p>0?p:0,d=p<0?-p:0,g=c[0],y=c[1],_=Math.min(g-d,y-h),b;if(Jt(f)){if(f.length!==_)throw new Error("Invalid value array length");b=function(E){return f[E]}}else if(it(f)){var w=f.size();if(w.length!==1||w[0]!==_)throw new Error("Invalid matrix length");b=function(E){return f.get([E])}}else b=function(){return f};m||(m=lt(b(0))?b(0).mul(0):0);var S=[];if(c.length>0){S=ya(S,c,m);for(var x=0;x<_;x++)S[x+d][x+h]=b(x)}return new t({data:S,size:[g,y]})},t.fromJSON=function(c){return new t(c)},t.prototype.swapRows=function(c,f){if(!xt(c)||!tt(c)||!xt(f)||!tt(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return mr(c,this._size[0]),mr(f,this._size[0]),t._swapRows(c,f,this._data),this},t._swapRows=function(c,f,p){var m=p[c];p[c]=p[f],p[f]=m};function l(c){return it(c)?l(c.valueOf()):Jt(c)?c.map(l):c}return t},{isClass:!0});var zT="clone",eY=["typed"],vy=T(zT,eY,r=>{var{typed:e}=r;return e(zT,{any:dt})});function Cm(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}function ji(r){for(var e=0;e<r.length;e++)if(Xr(r[e]))return!0;return!1}function $n(r,e){it(r)&&(r=r.valueOf());for(var t=0,n=r.length;t<n;t++){var i=r[t];Array.isArray(i)?$n(i,e):e(i)}}function st(r,e,t){return r&&typeof r.map=="function"?r.map(function(n){return st(n,e,t)}):e(r)}function ts(r,e,t){var n=Array.isArray(r)?vt(r):r.size();if(e<0||e>=n.length)throw new Fn(e,n.length);return it(r)?r.create(Tm(r.valueOf(),e,t)):Tm(r,e,t)}function Tm(r,e,t){var n,i,a,o;if(e<=0)if(Array.isArray(r[0])){for(o=Cm(r),i=[],n=0;n<o.length;n++)i[n]=Tm(o[n],e-1,t);return i}else{for(a=r[0],n=1;n<r.length;n++)a=t(a,r[n]);return a}else{for(i=[],n=0;n<r.length;n++)i[n]=Tm(r[n],e-1,t);return i}}function yy(r,e,t,n,i,a,o,u,s,l,c){var f=r._values,p=r._index,m=r._ptr,h,d,g,y;if(n)for(d=m[e],g=m[e+1],h=d;h<g;h++)y=p[h],t[y]!==a?(t[y]=a,o.push(y),l?(n[y]=s?u(f[h],c):u(c,f[h]),i[y]=a):n[y]=f[h]):(n[y]=s?u(f[h],n[y]):u(n[y],f[h]),i[y]=a);else for(d=m[e],g=m[e+1],h=d;h<g;h++)y=p[h],t[y]!==a?(t[y]=a,o.push(y)):i[y]=a}var HT="isInteger",tY=["typed"],by=T(HT,tY,r=>{var{typed:e}=r;return e(HT,{number:tt,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(t=>n=>st(n,t))})});var di="number",po="number, number";function xy(r){return Math.abs(r)}xy.signature=di;function wy(r,e){return r+e}wy.signature=po;function _y(r,e){return r-e}_y.signature=po;function Sy(r,e){return r*e}Sy.signature=po;function rY(r,e){return r/e}rY.signature=po;function Ay(r){return-r}Ay.signature=di;function Dy(r){return r}Dy.signature=di;function cl(r){return XC(r)}cl.signature=di;function Ey(r){return r*r*r}Ey.signature=di;function Ny(r){return Math.exp(r)}Ny.signature=di;function Cy(r){return QC(r)}Cy.signature=di;function nY(r,e){if(!tt(r)||!tt(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=r%e,r=e,e=t;return r<0?-r:r}nY.signature=po;function Ty(r,e){if(!tt(r)||!tt(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var t,n=r*e;e!==0;)t=e,e=r%t,r=t;return Math.abs(n/r)}Ty.signature=po;function GT(r,e){return e?Math.log(r)/Math.log(e):Math.log(r)}function My(r){return JC(r)}My.signature=di;function Fy(r){return ZC(r)}Fy.signature=di;function iY(r){return fm(r)}iY.signature=di;function aY(r,e){return e===0?r:r-e*Math.floor(r/e)}aY.signature=po;function Iy(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e<0;if(t&&(e=-e),e===0)throw new Error("Root must be non-zero");if(r<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(r===0)return t?1/0:0;if(!isFinite(r))return t?0:r;var n=Math.pow(Math.abs(r),1/e);return n=r<0?-n:n,t?1/n:n}function Mm(r){return Yi(r)}Mm.signature=di;function oY(r){return Math.sqrt(r)}oY.signature=di;function By(r){return r*r}By.signature=di;function Py(r,e){var t,n,i,a=0,o=1,u=1,s=0;if(!tt(r)||!tt(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(r/e),i=r-n*e,t=a,a=o-n*a,o=t,t=u,u=s-n*u,s=t,r=e,e=i;var l;return r<0?l=[-r,-o,-s]:l=[r,r?o:0,s],l}Py.signature=po;function Oy(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}Oy.signature=po;function fl(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!tt(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Hv(r,e))}function sY(r){return Math.abs(r)}sY.signature=di;var uY="number",pl="number, number";function ky(r,e){if(!tt(r)||!tt(e))throw new Error("Integers expected in function bitAnd");return r&e}ky.signature=pl;function Ry(r){if(!tt(r))throw new Error("Integer expected in function bitNot");return~r}Ry.signature=uY;function Ly(r,e){if(!tt(r)||!tt(e))throw new Error("Integers expected in function bitOr");return r|e}Ly.signature=pl;function Vy(r,e){if(!tt(r)||!tt(e))throw new Error("Integers expected in function bitXor");return r^e}Vy.signature=pl;function Uy(r,e){if(!tt(r)||!tt(e))throw new Error("Integers expected in function leftShift");return r<<e}Uy.signature=pl;function $y(r,e){if(!tt(r)||!tt(e))throw new Error("Integers expected in function rightArithShift");return r>>e}$y.signature=pl;function qy(r,e){if(!tt(r)||!tt(e))throw new Error("Integers expected in function rightLogShift");return r>>>e}qy.signature=pl;function Bi(r,e){if(e<r)return 1;if(e===r)return e;var t=e+r>>1;return Bi(r,t)*Bi(t+1,e)}function zy(r,e){if(!tt(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!tt(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>r)throw new TypeError("k must be less than or equal to n");for(var t=r-e,n=1,i=e<t?t+1:e+1,a=2,o=e<t?e:t,u=i;u<=r;++u)for(n*=u;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=Bi(a,o)),n}zy.signature="number, number";var WT=Math.PI,YT=2*Math.PI,jT=Math.E,ZT=1.618033988749895;var lY="number",Hy="number, number";function Gy(r){return!r}Gy.signature=lY;function Wy(r,e){return!!(r||e)}Wy.signature=Hy;function Yy(r,e){return!!r!=!!e}Yy.signature=Hy;function jy(r,e){return!!(r&&e)}jy.signature=Hy;function xc(r){var e;if(tt(r))return r<=0?isFinite(r)?1/0:NaN:r>171?1/0:Bi(1,r-1);if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*xc(1-r));if(r>=171.35)return 1/0;if(r>85){var t=r*r,n=t*r,i=n*r,a=i*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*t)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*r))}--r,e=nu[0];for(var o=1;o<nu.length;++o)e+=nu[o]/(r+o);var u=r+Zy+.5;return Math.sqrt(2*Math.PI)*Math.pow(u,r+.5)*Math.exp(-u)*e}xc.signature="number";var Zy=4.7421875,nu=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Jy=.9189385332046728,cY=5,fY=7,JT=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function wc(r){if(r<0)return NaN;if(r===0)return 1/0;if(!isFinite(r))return r;if(r<.5)return Math.log(Math.PI/Math.sin(Math.PI*r))-wc(1-r);r=r-1;for(var e=r+cY+.5,t=JT[0],n=fY-1;n>=1;n--)t+=JT[n]/(r+n);return Jy+(r+.5)*Math.log(e)-e+Math.log(t)}wc.signature="number";var Gr="number",pY="number, number";function mY(r){return Math.acos(r)}mY.signature=Gr;function Xy(r){return tT(r)}Xy.signature=Gr;function Qy(r){return Math.atan(1/r)}Qy.signature=Gr;function Ky(r){return isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0}Ky.signature=Gr;function e0(r){return Math.asin(1/r)}e0.signature=Gr;function t0(r){var e=1/r;return Math.log(e+Math.sqrt(e*e+1))}t0.signature=Gr;function r0(r){return Math.acos(1/r)}r0.signature=Gr;function n0(r){var e=1/r,t=Math.sqrt(e*e-1);return Math.log(t+e)}n0.signature=Gr;function dY(r){return Math.asin(r)}dY.signature=Gr;function i0(r){return rT(r)}i0.signature=Gr;function hY(r){return Math.atan(r)}hY.signature=Gr;function gY(r,e){return Math.atan2(r,e)}gY.signature=pY;function a0(r){return nT(r)}a0.signature=Gr;function vY(r){return Math.cos(r)}vY.signature=Gr;function yY(r){return mm(r)}yY.signature=Gr;function o0(r){return 1/Math.tan(r)}o0.signature=Gr;function s0(r){var e=Math.exp(2*r);return(e+1)/(e-1)}s0.signature=Gr;function u0(r){return 1/Math.sin(r)}u0.signature=Gr;function l0(r){return r===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*Yi(r)}l0.signature=Gr;function c0(r){return 1/Math.cos(r)}c0.signature=Gr;function f0(r){return 2/(Math.exp(r)+Math.exp(-r))}f0.signature=Gr;function bY(r){return Math.sin(r)}bY.signature=Gr;function p0(r){return iT(r)}p0.signature=Gr;function xY(r){return Math.tan(r)}xY.signature=Gr;function wY(r){return dm(r)}wY.signature=Gr;var _c="number";function _Y(r){return tt(r)}_Y.signature=_c;function m0(r){return r<0}m0.signature=_c;function d0(r){return r>0}d0.signature=_c;function h0(r){return r===0}h0.signature=_c;function g0(r){return Number.isNaN(r)}g0.signature=_c;var XT="isNegative",SY=["typed"],v0=T(XT,SY,r=>{var{typed:e}=r;return e(XT,{number:m0,BigNumber:function(n){return n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s<0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>st(n,t))})});var QT="isNumeric",AY=["typed"],y0=T(QT,AY,r=>{var{typed:e}=r;return e(QT,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>n=>st(n,t))})});var KT="hasNumericValue",DY=["typed","isNumeric"],b0=T(KT,DY,r=>{var{typed:e,isNumeric:t}=r;return e(KT,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})});var eM="isPositive",EY=["typed"],x0=T(eM,EY,r=>{var{typed:e}=r;return e(eM,{number:d0,BigNumber:function(n){return!n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s>0&&n.n>0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>st(n,t))})});var tM="isZero",NY=["typed"],w0=T(tM,NY,r=>{var{typed:e}=r;return e(tM,{number:h0,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>st(n,t))})});var rM="isNaN",CY=["typed"],_0=T(rM,CY,r=>{var{typed:e}=r;return e(rM,{number:g0,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return st(n,Number.isNaN)}})});var nM="typeOf",TY=["typed"],S0=T(nM,TY,r=>{var{typed:e}=r;return e(nM,{any:Wt})});function sn(r,e,t){if(t==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var n=r.minus(e).abs();if(n.isZero())return!0;var i=r.constructor.max(r.abs(),e.abs());return n.lte(i.times(t))}return!1}function iM(r,e,t){return $r(r.re,e.re,t)&&$r(r.im,e.im,t)}var Zi=T("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),i.valueType()])(n.value,i.value)})}});var Fm="equalScalar",MY=["typed","config"],A0=T(Fm,MY,r=>{var{typed:e,config:t}=r,n=Zi({typed:e});return e(Fm,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return $r(a,o,t.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||sn(a,o,t.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return iM(a,o,t.epsilon)}},n)}),Xge=T(Fm,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Fm,{"number, number":function(i,a){return $r(i,a,t.epsilon)}})});var FY="SparseMatrix",IY=["typed","equalScalar","Matrix"],D0=T(FY,IY,r=>{var{typed:e,equalScalar:t,Matrix:n}=r;function i(d,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!Hr(g))throw new Error("Invalid datatype: "+g);if(it(d))a(this,d,g);else if(d&&Jt(d.index)&&Jt(d.ptr)&&Jt(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=g||d.datatype;else if(Jt(d))o(this,d,g);else{if(d)throw new TypeError("Unsupported type of data ("+Wt(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function a(d,g,y){g.type==="SparseMatrix"?(d._values=g._values?dt(g._values):void 0,d._index=dt(g._index),d._ptr=dt(g._ptr),d._size=dt(g._size),d._datatype=y||g._datatype):o(d,g.valueOf(),y||g._datatype)}function o(d,g,y){d._values=[],d._index=[],d._ptr=[],d._datatype=y;var _=g.length,b=0,w=t,S=0;if(Hr(y)&&(w=e.find(t,[y,y])||t,S=e.convert(0,y)),_>0){var x=0;do{d._ptr.push(d._index.length);for(var C=0;C<_;C++){var E=g[C];if(Jt(E)){if(x===0&&b<E.length&&(b=E.length),x<E.length){var D=E[x];w(D,S)||(d._values.push(D),d._index.push(C))}}else x===0&&b<1&&(b=1),w(E,S)||(d._values.push(E),d._index.push(C))}x++}while(x<b)}d._ptr.push(d._index.length),d._size=[_,b]}i.prototype=new n,i.prototype.createSparseMatrix=function(d,g){return new i(d,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Zo(this._values,Wt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,g){return new i(d,g)},i.prototype.density=function(){var d=this._size[0],g=this._size[1];return d!==0&&g!==0?this._index.length/(d*g):0},i.prototype.subset=function(d,g,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return u(this,d);case 2:case 3:return s(this,d,g,y);default:throw new SyntaxError("Wrong number of arguments")}};function u(d,g){if(!Go(g))throw new TypeError("Invalid index");var y=g.isScalar();if(y)return d.get(g.min());var _=g.size();if(_.length!==d._size.length)throw new Dt(_.length,d._size.length);var b,w,S,x,C=g.min(),E=g.max();for(b=0,w=d._size.length;b<w;b++)mr(C[b],d._size[b]),mr(E[b],d._size[b]);var D=d._values,N=d._index,I=d._ptr,O=g.dimension(0),V=g.dimension(1),q=[],L=[];O.forEach(function(B,Z){L[B]=Z[0],q[B]=!0});var P=D?[]:void 0,k=[],Y=[];return V.forEach(function(B){for(Y.push(k.length),S=I[B],x=I[B+1];S<x;S++)b=N[S],q[b]===!0&&(k.push(L[b]),P&&P.push(D[S]))}),Y.push(k.length),new i({values:P,index:k,ptr:Y,size:_,datatype:d._datatype})}function s(d,g,y,_){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var b=g.size(),w=g.isScalar(),S;if(it(y)?(S=y.size(),y=y.toArray()):S=vt(y),w){if(S.length!==0)throw new TypeError("Scalar expected");d.set(g.min(),y,_)}else{if(b.length!==1&&b.length!==2)throw new Dt(b.length,d._size.length,"<");if(S.length<b.length){for(var x=0,C=0;b[x]===1&&S[x]===1;)x++;for(;b[x]===1;)C++,x++;y=gm(y,b.length,C,S)}if(!ga(b,S))throw new Dt(b,S,">");if(b.length===1){var E=g.dimension(0);E.forEach(function(I,O){mr(I),d.set([I,0],y[O[0]],_)})}else{var D=g.dimension(0),N=g.dimension(1);D.forEach(function(I,O){mr(I),N.forEach(function(V,q){mr(V),d.set([I,V],y[O[0]][q[0]],_)})})}}return d}i.prototype.get=function(d){if(!Jt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new Dt(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=d[0],y=d[1];mr(g,this._size[0]),mr(y,this._size[1]);var _=l(g,this._ptr[y],this._ptr[y+1],this._index);return _<this._ptr[y+1]&&this._index[_]===g?this._values[_]:0},i.prototype.set=function(d,g,y){if(!Jt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new Dt(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var _=d[0],b=d[1],w=this._size[0],S=this._size[1],x=t,C=0;Hr(this._datatype)&&(x=e.find(t,[this._datatype,this._datatype])||t,C=e.convert(0,this._datatype)),(_>w-1||b>S-1)&&(p(this,Math.max(_+1,w),Math.max(b+1,S),y),w=this._size[0],S=this._size[1]),mr(_,w),mr(b,S);var E=l(_,this._ptr[b],this._ptr[b+1],this._index);return E<this._ptr[b+1]&&this._index[E]===_?x(g,C)?c(E,b,this._values,this._index,this._ptr):this._values[E]=g:x(g,C)||f(E,_,b,g,this._values,this._index,this._ptr),this};function l(d,g,y,_){if(y-g===0)return y;for(var b=g;b<y;b++)if(_[b]===d)return b;return g}function c(d,g,y,_,b){y.splice(d,1),_.splice(d,1);for(var w=g+1;w<b.length;w++)b[w]--}function f(d,g,y,_,b,w,S){b.splice(d,0,_),w.splice(d,0,g);for(var x=y+1;x<S.length;x++)S[x]++}i.prototype.resize=function(d,g,y){if(!Xr(d))throw new TypeError("Array or Matrix expected");var _=d.valueOf().map(w=>Array.isArray(w)&&w.length===1?w[0]:w);if(_.length!==2)throw new Error("Only two dimensions matrix are supported");_.forEach(function(w){if(!xt(w)||!tt(w)||w<0)throw new TypeError("Invalid size, must contain positive integers (size: "+St(_)+")")});var b=y?this.clone():this;return p(b,_[0],_[1],g)};function p(d,g,y,_){var b=_||0,w=t,S=0;Hr(d._datatype)&&(w=e.find(t,[d._datatype,d._datatype])||t,S=e.convert(0,d._datatype),b=e.convert(b,d._datatype));var x=!w(b,S),C=d._size[0],E=d._size[1],D,N,I;if(y>E){for(N=E;N<y;N++)if(d._ptr[N]=d._values.length,x)for(D=0;D<C;D++)d._values.push(b),d._index.push(D);d._ptr[y]=d._values.length}else y<E&&(d._ptr.splice(y+1,E-y),d._values.splice(d._ptr[y],d._values.length),d._index.splice(d._ptr[y],d._index.length));if(E=y,g>C){if(x){var O=0;for(N=0;N<E;N++){d._ptr[N]=d._ptr[N]+O,I=d._ptr[N+1]+O;var V=0;for(D=C;D<g;D++,V++)d._values.splice(I+V,0,b),d._index.splice(I+V,0,D),O++}d._ptr[E]=d._values.length}}else if(g<C){var q=0;for(N=0;N<E;N++){d._ptr[N]=d._ptr[N]-q;var L=d._ptr[N],P=d._ptr[N+1]-q;for(I=L;I<P;I++)D=d._index[I],D>g-1&&(d._values.splice(I,1),d._index.splice(I,1),q++)}d._ptr[N]=d._values.length}return d._size[0]=g,d._size[1]=y,d}i.prototype.reshape=function(d,g){if(!Jt(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(B){if(!xt(B)||!tt(B)||B<=-2||B===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+St(d)+")")});var y=this._size[0]*this._size[1];d=gc(d,y);var _=d[0]*d[1];if(y!==_)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=g?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return b;for(var w=[],S=0;S<b._ptr.length;S++)for(var x=0;x<b._ptr[S+1]-b._ptr[S];x++)w.push(S);for(var C=b._values.slice(),E=b._index.slice(),D=0;D<b._index.length;D++){var N=E[D],I=w[D],O=N*b._size[1]+I;w[D]=O%d[1],E[D]=Math.floor(O/d[1])}b._values.length=0,b._index.length=0,b._ptr.length=d[1]+1,b._size=d.slice();for(var V=0;V<b._ptr.length;V++)b._ptr[V]=0;for(var q=0;q<C.length;q++){var L=E[q],P=w[q],k=C[q],Y=l(L,b._ptr[P],b._ptr[P+1],b._index);f(Y,L,P,k,b._values,b._index,b._ptr)}return b},i.prototype.clone=function(){var d=new i({values:this._values?dt(this._values):void 0,index:dt(this._index),ptr:dt(this._ptr),size:dt(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,_=this._size[0],b=this._size[1],w=Nm(d),S=function(C,E,D){return w===1?d(C):w===2?d(C,[E,D]):d(C,[E,D],y)};return m(this,0,_-1,0,b-1,S,g)};function m(d,g,y,_,b,w,S){var x=[],C=[],E=[],D=t,N=0;Hr(d._datatype)&&(D=e.find(t,[d._datatype,d._datatype])||t,N=e.convert(0,d._datatype));for(var I=function(U,fe,Ee){U=w(U,fe,Ee),D(U,N)||(x.push(U),C.push(fe))},O=_;O<=b;O++){E.push(x.length);var V=d._ptr[O],q=d._ptr[O+1];if(S)for(var L=V;L<q;L++){var P=d._index[L];P>=g&&P<=y&&I(d._values[L],P-g,O-_)}else{for(var k={},Y=V;Y<q;Y++){var B=d._index[Y];k[B]=d._values[Y]}for(var Z=g;Z<=y;Z++){var oe=Z in k?k[Z]:0;I(oe,Z-g,O-_)}}}return E.push(x.length),new i({values:x,index:C,ptr:E,size:[y-g+1,b-_+1]})}i.prototype.forEach=function(d,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,_=this._size[0],b=this._size[1],w=0;w<b;w++){var S=this._ptr[w],x=this._ptr[w+1];if(g)for(var C=S;C<x;C++){var E=this._index[C];d(this._values[C],[E,w],y)}else{for(var D={},N=S;N<x;N++){var I=this._index[N];D[I]=this._values[N]}for(var O=0;O<_;O++){var V=O in D?D[O]:0;d(V,[O,w],y)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],g=0;g<d;g++)for(var y=this._ptr[g],_=this._ptr[g+1],b=y;b<_;b++){var w=this._index[b];yield{value:this._values[b],index:[w,g]}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(d,g,y,_,b){var w=_[0],S=_[1],x=[],C,E;for(C=0;C<w;C++)for(x[C]=[],E=0;E<S;E++)x[C][E]=0;for(E=0;E<S;E++)for(var D=y[E],N=y[E+1],I=D;I<N;I++)C=g[I],x[C][E]=d?b?dt(d[I]):d[I]:1;return x}return i.prototype.format=function(d){for(var g=this._size[0],y=this._size[1],_=this.density(),b="Sparse Matrix ["+St(g,d)+" x "+St(y,d)+"] density: "+St(_,d)+`
`,w=0;w<y;w++)for(var S=this._ptr[w],x=this._ptr[w+1],C=S;C<x;C++){var E=this._index[C];b+=`
    (`+St(E,d)+", "+St(w,d)+") ==> "+(this._values?St(this._values[C],d):"X")}return b},i.prototype.toString=function(){return St(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(lt(d)&&(d=d.toNumber()),!xt(d)||!tt(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var g=d>0?d:0,y=d<0?-d:0,_=this._size[0],b=this._size[1],w=Math.min(_-y,b-g),S=[],x=[],C=[];C[0]=0;for(var E=g;E<b&&S.length<w;E++)for(var D=this._ptr[E],N=this._ptr[E+1],I=D;I<N;I++){var O=this._index[I];if(O===E-g+y){S.push(this._values[I]),x[S.length-1]=O-y;break}}return C.push(S.length),new i({values:S,index:x,ptr:C,size:[w,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,g,y,_,b){if(!Jt(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(B){if(lt(B)&&(B=B.toNumber()),!xt(B)||!tt(B)||B<1)throw new Error("Size values must be positive integers");return B}),y){if(lt(y)&&(y=y.toNumber()),!xt(y)||!tt(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var w=t,S=0;Hr(b)&&(w=e.find(t,[b,b])||t,S=e.convert(0,b));var x=y>0?y:0,C=y<0?-y:0,E=d[0],D=d[1],N=Math.min(E-C,D-x),I;if(Jt(g)){if(g.length!==N)throw new Error("Invalid value array length");I=function(Z){return g[Z]}}else if(it(g)){var O=g.size();if(O.length!==1||O[0]!==N)throw new Error("Invalid matrix length");I=function(Z){return g.get([Z])}}else I=function(){return g};for(var V=[],q=[],L=[],P=0;P<D;P++){L.push(V.length);var k=P-x;if(k>=0&&k<N){var Y=I(k);w(Y,S)||(q.push(k+C),V.push(Y))}}return L.push(V.length),new i({values:V,index:q,ptr:L,size:[E,D]})},i.prototype.swapRows=function(d,g){if(!xt(d)||!tt(d)||!xt(g)||!tt(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return mr(d,this._size[0]),mr(g,this._size[0]),i._swapRows(d,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,g,y,_,b){for(var w=_[d],S=_[d+1],x=w;x<S;x++)b(y[x],g[x])},i._swapRows=function(d,g,y,_,b,w){for(var S=0;S<y;S++){var x=w[S],C=w[S+1],E=l(d,x,C,b),D=l(g,x,C,b);if(E<C&&D<C&&b[E]===d&&b[D]===g){if(_){var N=_[E];_[E]=_[D],_[D]=N}continue}if(E<C&&b[E]===d&&(D>=C||b[D]!==g)){var I=_?_[E]:void 0;b.splice(D,0,g),_&&_.splice(D,0,I),b.splice(D<=E?E+1:E,1),_&&_.splice(D<=E?E+1:E,1);continue}if(D<C&&b[D]===g&&(E>=C||b[E]!==d)){var O=_?_[D]:void 0;b.splice(E,0,d),_&&_.splice(E,0,O),b.splice(E<=D?D+1:D,1),_&&_.splice(E<=D?D+1:D,1)}}},i},{isClass:!0});var BY="number",PY=["typed"];function OY(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:r,radix:t,integerPart:n,fractionalPart:i}}else return null}function kY(r){for(var e=parseInt(r.integerPart,r.radix),t=0,n=0;n<r.fractionalPart.length;n++){var i=parseInt(r.fractionalPart[n],r.radix);t+=i/Math.pow(r.radix,n+1)}var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+r.input+'" is not a valid number');return a}var E0=T(BY,PY,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=OY(i);if(a)return kY(a);var o=0,u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);u&&(o=Number(u[2]),i=u[1]);var s=Number(i);if(isNaN(s))throw new SyntaxError('String "'+i+'" is not a valid number');if(u){if(s>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));s>=2**(o-1)&&(s=s-2**o)}return s},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>st(i,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t});var aM="string",RY=["typed"],N0=T(aM,RY,r=>{var{typed:e}=r;return e(aM,{"":function(){return""},number:va,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(t=>n=>st(n,t)),any:function(n){return String(n)}})});var oM="boolean",LY=["typed"],C0=T(oM,LY,r=>{var{typed:e}=r;return e(oM,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>n=>st(n,t))})});var VY="bignumber",UY=["typed","BigNumber"],T0=T(VY,UY,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],u=t(a[1]),s=new t(2).pow(Number(o));if(u.gt(s.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var l=new t(2).pow(Number(o)-1);return u.gte(l)?u.sub(s):u}return new t(i)},BigNumber:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(n=>i=>st(i,n))})});var $Y="complex",qY=["typed","Complex"],M0=T($Y,qY,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,a){return new t(i,a)},"BigNumber, BigNumber":function(i,a){return new t(i.toNumber(),a.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>st(i,n))})});var zY="fraction",HY=["typed","Fraction"],F0=T(zY,HY,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,a){return new t(i,a)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>st(i,n))})});var sM="matrix",GY=["typed","Matrix","DenseMatrix","SparseMatrix"],I0=T(sM,GY,r=>{var{typed:e,Matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(sM,{"":function(){return a([])},string:function(u){return a([],u)},"string, string":function(u,s){return a([],u,s)},Array:function(u){return a(u)},Matrix:function(u){return a(u,u.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,u,s){if(u==="dense"||u==="default"||u===void 0)return new n(o,s);if(u==="sparse")return new i(o,s);throw new TypeError("Unknown matrix type "+JSON.stringify(u)+".")}});var uM="matrixFromFunction",WY=["typed","matrix","isZero"],B0=T(uM,WY,r=>{var{typed:e,matrix:t,isZero:n}=r;return e(uM,{"Array | Matrix, function, string, string":function(o,u,s,l){return i(o,u,s,l)},"Array | Matrix, function, string":function(o,u,s){return i(o,u,s)},"Matrix, function":function(o,u){return i(o,u,"dense")},"Array, function":function(o,u){return i(o,u,"dense").toArray()},"Array | Matrix, string, function":function(o,u,s){return i(o,s,u)},"Array | Matrix, string, string, function":function(o,u,s,l){return i(o,l,u,s)}});function i(a,o,u,s){var l;return s!==void 0?l=t(u,s):l=t(u),l.resize(a),l.forEach(function(c,f){var p=o(f);n(p)||l.set(f,p)}),l}});var lM="matrixFromRows",YY=["typed","matrix","flatten","size"],P0=T(lM,YY,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(lM,{"...Array":function(s){return a(s)},"...Matrix":function(s){return t(a(s.map(l=>l.toArray())))}});function a(u){if(u.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var s=o(u[0]),l=[];for(var c of u){var f=o(c);if(f!==s)throw new TypeError("The vectors had different length: "+(s|0)+" \u2260 "+(f|0));l.push(n(c))}return l}function o(u){var s=i(u);if(s.length===1)return s[0];if(s.length===2){if(s[0]===1)return s[1];if(s[1]===1)return s[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var cM="matrixFromColumns",jY=["typed","matrix","flatten","size"],O0=T(cM,jY,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(cM,{"...Array":function(s){return a(s)},"...Matrix":function(s){return t(a(s.map(l=>l.toArray())))}});function a(u){if(u.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var s=o(u[0]),l=[],c=0;c<s;c++)l[c]=[];for(var f of u){var p=o(f);if(p!==s)throw new TypeError("The vectors had different length: "+(s|0)+" \u2260 "+(p|0));for(var m=n(f),h=0;h<s;h++)l[h].push(m[h])}return l}function o(u){var s=i(u);if(s.length===1)return s[0];if(s.length===2){if(s[0]===1)return s[1];if(s[1]===1)return s[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var fM="splitUnit",ZY=["typed"],k0=T(fM,ZY,r=>{var{typed:e}=r;return e(fM,{"Unit, Array":function(n,i){return n.splitUnit(i)}})});var pM="unaryMinus",JY=["typed"],R0=T(pM,JY,r=>{var{typed:e}=r;return e(pM,{number:Ay,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>n=>{var i=n.clone();return i.value=e.find(t,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(t=>n=>st(n,t,!0))})});var mM="unaryPlus",XY=["typed","config","BigNumber"],L0=T(mM,XY,r=>{var{typed:e,config:t,BigNumber:n}=r;return e(mM,{number:Dy,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>st(a,i,!0)),"boolean | string":function(a){return t.number==="BigNumber"?new n(+a):+a}})});var dM="abs",QY=["typed"],V0=T(dM,QY,r=>{var{typed:e}=r;return e(dM,{number:xy,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":e.referToSelf(t=>n=>st(n,t,!0))})});var hM="apply",KY=["typed","isInteger"],iu=T(hM,KY,r=>{var{typed:e,isInteger:t}=r;return e(hM,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!t(a))throw new TypeError("Integer number expected for dimension");var u=Array.isArray(i)?vt(i):i.size();if(a<0||a>=u.length)throw new Fn(a,u.length);return it(i)?i.create(Im(i.valueOf(),a,o)):Im(i,a,o)}})});function Im(r,e,t){var n,i,a;if(e<=0)if(Array.isArray(r[0])){for(a=ej(r),i=[],n=0;n<a.length;n++)i[n]=Im(a[n],e-1,t);return i}else return t(r);else{for(i=[],n=0;n<r.length;n++)i[n]=Im(r[n],e-1,t);return i}}function ej(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}var gM="addScalar",tj=["typed"],U0=T(gM,tj,r=>{var{typed:e}=r;return e(gM,{"number, number":wy,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var vM="subtractScalar",rj=["typed"],$0=T(vM,rj,r=>{var{typed:e}=r;return e(vM,{"number, number":_y,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var yM="cbrt",nj=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],q0=T(yM,nj,r=>{var{config:e,typed:t,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:u,Fraction:s}=r;return t(yM,{number:cl,Complex:l,"Complex, boolean":l,BigNumber:function(p){return p.cbrt()},Unit:c});function l(f,p){var m=f.arg()/3,h=f.abs(),d=new o(cl(h),0).mul(new o(0,m).exp());if(p){var g=[d,new o(cl(h),0).mul(new o(0,m+Math.PI*2/3).exp()),new o(cl(h),0).mul(new o(0,m-Math.PI*2/3).exp())];return e.matrix==="Array"?g:a(g)}else return d}function c(f){if(f.value&&ri(f.value)){var p=f.clone();return p.value=1,p=p.pow(1/3),p.value=l(f.value),p}else{var m=n(f.value);m&&(f.value=i(f.value));var h;lt(f.value)?h=new u(1).div(3):uo(f.value)?h=new s(1,3):h=1/3;var d=f.pow(h);return m&&(d.value=i(d.value)),d}}});var ij="matAlgo11xS0s",aj=["typed","equalScalar"],dr=T(ij,aj,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,u){var s=i._values,l=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,g=t,y=0,_=o;typeof p=="string"&&(d=p,g=e.find(t,[d,d]),y=e.convert(0,d),a=e.convert(a,d),_=e.find(o,[d,d]));for(var b=[],w=[],S=[],x=0;x<h;x++){S[x]=w.length;for(var C=c[x],E=c[x+1],D=C;D<E;D++){var N=l[D],I=u?_(a,s[D]):_(s[D],a);g(I,y)||(w.push(N),b.push(I))}}return S[h]=w.length,i.createSparseMatrix({values:b,index:w,ptr:S,size:[m,h],datatype:d})}});var oj="matAlgo12xSfs",sj=["typed","DenseMatrix"],nr=T(oj,sj,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,u){var s=i._values,l=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,g=o;typeof p=="string"&&(d=p,a=e.convert(a,d),g=e.find(o,[d,d]));for(var y=[],_=[],b=[],w=0;w<h;w++){for(var S=w+1,x=c[w],C=c[w+1],E=x;E<C;E++){var D=l[E];_[D]=s[E],b[D]=S}for(var N=0;N<m;N++)w===0&&(y[N]=[]),b[N]===S?y[N][w]=u?g(a,_[N]):g(_[N],a):y[N][w]=u?g(a,0):g(0,a)}return new t({data:y,size:[m,h],datatype:d})}});var uj="matAlgo14xDs",lj=["typed"],tn=T(uj,lj,r=>{var{typed:e}=r;return function(i,a,o,u){var s=i._data,l=i._size,c=i._datatype,f,p=o;typeof c=="string"&&(f=c,a=e.convert(a,f),p=e.find(o,[f,f]));var m=l.length>0?t(p,0,l,l[0],s,a,u):[];return i.createDenseMatrix({data:m,size:dt(l),datatype:f})};function t(n,i,a,o,u,s,l){var c=[];if(i===a.length-1)for(var f=0;f<o;f++)c[f]=l?n(s,u[f]):n(u[f],s);else for(var p=0;p<o;p++)c[p]=t(n,i+1,a,a[i+1],u[p],s,l);return c}});var z0="ceil",cj=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],fj=T(z0,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(z0,{number:function(a){return $r(a,n(a),t.epsilon)?n(a):Math.ceil(a)},"number, number":function(a,o){if($r(a,n(a,o),t.epsilon))return n(a,o);var[u,s]="".concat(a,"e").split("e"),l=Math.ceil(Number("".concat(u,"e").concat(Number(s)+o)));return[u,s]="".concat(l,"e").split("e"),Number("".concat(u,"e").concat(Number(s)-o))}})}),H0=T(z0,cj,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u}=r,s=dr({typed:e,equalScalar:a}),l=nr({typed:e,DenseMatrix:u}),c=tn({typed:e}),f=fj({typed:e,config:t,round:n});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.ceil()},"Complex, number":function(m,h){return m.ceil(h)},"Complex, BigNumber":function(m,h){return m.ceil(h.toNumber())},BigNumber:function(m){return sn(m,n(m),t.epsilon)?n(m):m.ceil()},"BigNumber, BigNumber":function(m,h){return sn(m,n(m,h),t.epsilon)?n(m,h):m.toDecimalPlaces(h.toNumber(),tu.ROUND_CEIL)},Fraction:function(m){return m.ceil()},"Fraction, number":function(m,h){return m.ceil(h)},"Fraction, BigNumber":function(m,h){return m.ceil(h.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>st(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>st(m,d=>p(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>s(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>a(m,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):l(h,m,p,!0))})});var bM="cube",pj=["typed"],G0=T(bM,pj,r=>{var{typed:e}=r;return e(bM,{number:Ey,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});var xM="exp",mj=["typed"],W0=T(xM,mj,r=>{var{typed:e}=r;return e(xM,{number:Ny,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})});var wM="expm1",dj=["typed","Complex"],Y0=T(wM,dj,r=>{var{typed:e,Complex:t}=r;return e(wM,{number:Cy,Complex:function(i){var a=Math.exp(i.re);return new t(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var j0="fix",hj=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],gj=T(j0,["typed","ceil","floor"],r=>{var{typed:e,ceil:t,floor:n}=r;return e(j0,{number:function(a){return a>0?n(a):t(a)},"number, number":function(a,o){return a>0?n(a,o):t(a,o)}})}),Z0=T(j0,hj,r=>{var{typed:e,Complex:t,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:u,DenseMatrix:s}=r,l=nr({typed:e,DenseMatrix:s}),c=tn({typed:e}),f=gj({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(m){return new t(m.re>0?Math.floor(m.re):Math.ceil(m.re),m.im>0?Math.floor(m.im):Math.ceil(m.im))},"Complex, number":function(m,h){return new t(m.re>0?a(m.re,h):i(m.re,h),m.im>0?a(m.im,h):i(m.im,h))},"Complex, BigNumber":function(m,h){var d=h.toNumber();return new t(m.re>0?a(m.re,d):i(m.re,d),m.im>0?a(m.im,d):i(m.im,d))},BigNumber:function(m){return m.isNegative()?i(m):a(m)},"BigNumber, number | BigNumber":function(m,h){return m.isNegative()?i(m,h):a(m,h)},Fraction:function(m){return m.s<0?m.ceil():m.floor()},"Fraction, number | BigNumber":function(m,h){return m.s<0?i(m,h):a(m,h)},"Array | Matrix":e.referToSelf(p=>m=>st(m,p,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(p=>(m,h)=>st(m,d=>p(d,h),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(n(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>o(m,0)?u(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):l(h,m,p,!0))})});var J0="floor",vj=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],yj=T(J0,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(J0,{number:function(a){return $r(a,n(a),t.epsilon)?n(a):Math.floor(a)},"number, number":function(a,o){if($r(a,n(a,o),t.epsilon))return n(a,o);var[u,s]="".concat(a,"e").split("e"),l=Math.floor(Number("".concat(u,"e").concat(Number(s)+o)));return[u,s]="".concat(l,"e").split("e"),Number("".concat(u,"e").concat(Number(s)-o))}})}),Sc=T(J0,vj,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u}=r,s=dr({typed:e,equalScalar:a}),l=nr({typed:e,DenseMatrix:u}),c=tn({typed:e}),f=yj({typed:e,config:t,round:n});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.floor()},"Complex, number":function(m,h){return m.floor(h)},"Complex, BigNumber":function(m,h){return m.floor(h.toNumber())},BigNumber:function(m){return sn(m,n(m),t.epsilon)?n(m):m.floor()},"BigNumber, BigNumber":function(m,h){return sn(m,n(m,h),t.epsilon)?n(m,h):m.toDecimalPlaces(h.toNumber(),tu.ROUND_FLOOR)},Fraction:function(m){return m.floor()},"Fraction, number":function(m,h){return m.floor(h)},"Fraction, BigNumber":function(m,h){return m.floor(h.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>st(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>st(m,d=>p(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>s(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>a(m,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):l(h,m,p,!0))})});var bj="matAlgo02xDS0",xj=["typed","equalScalar"],rn=T(bj,xj,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,u){var s=i._data,l=i._size,c=i._datatype||i.getDataType(),f=a._values,p=a._index,m=a._ptr,h=a._size,d=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==h.length)throw new Dt(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=l[0],y=l[1],_,b=t,w=0,S=o;typeof c=="string"&&c===d&&c!=="mixed"&&(_=c,b=e.find(t,[_,_]),w=e.convert(0,_),S=e.find(o,[_,_]));for(var x=[],C=[],E=[],D=0;D<y;D++){E[D]=C.length;for(var N=m[D],I=m[D+1],O=N;O<I;O++){var V=p[O],q=u?S(f[O],s[V][D]):S(s[V][D],f[O]);b(q,w)||(C.push(V),x.push(q))}}return E[y]=C.length,a.createSparseMatrix({values:x,index:C,ptr:E,size:[g,y],datatype:c===i._datatype&&d===a._datatype?_:void 0})}});var wj="matAlgo03xDSf",_j=["typed"],Er=T(wj,_j,r=>{var{typed:e}=r;return function(n,i,a,o){var u=n._data,s=n._size,l=n._datatype||n.getDataType(),c=i._values,f=i._index,p=i._ptr,m=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(s.length!==m.length)throw new Dt(s.length,m.length);if(s[0]!==m[0]||s[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=s[0],g=s[1],y,_=0,b=a;typeof l=="string"&&l===h&&l!=="mixed"&&(y=l,_=e.convert(0,y),b=e.find(a,[y,y]));for(var w=[],S=0;S<d;S++)w[S]=[];for(var x=[],C=[],E=0;E<g;E++){for(var D=E+1,N=p[E],I=p[E+1],O=N;O<I;O++){var V=f[O];x[V]=o?b(c[O],u[V][E]):b(u[V][E],c[O]),C[V]=D}for(var q=0;q<d;q++)C[q]===D?w[q][E]=x[q]:w[q][E]=o?b(_,u[q][E]):b(u[q][E],_)}return n.createDenseMatrix({data:w,size:[d,g],datatype:l===n._datatype&&h===i._datatype?y:void 0})}});var Sj="matAlgo05xSfSf",Aj=["typed","equalScalar"],rs=T(Sj,Aj,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var u=i._values,s=i._index,l=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,g=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==d.length)throw new Dt(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var y=c[0],_=c[1],b,w=t,S=0,x=o;typeof f=="string"&&f===g&&f!=="mixed"&&(b=f,w=e.find(t,[b,b]),S=e.convert(0,b),x=e.find(o,[b,b]));var C=u&&p?[]:void 0,E=[],D=[],N=C?[]:void 0,I=C?[]:void 0,O=[],V=[],q,L,P,k;for(L=0;L<_;L++){D[L]=E.length;var Y=L+1;for(P=l[L],k=l[L+1];P<k;P++)q=s[P],E.push(q),O[q]=Y,N&&(N[q]=u[P]);for(P=h[L],k=h[L+1];P<k;P++)q=m[P],O[q]!==Y&&E.push(q),V[q]=Y,I&&(I[q]=p[P]);if(C)for(P=D[L];P<E.length;){q=E[P];var B=O[q],Z=V[q];if(B===Y||Z===Y){var oe=B===Y?N[q]:S,ne=Z===Y?I[q]:S,U=x(oe,ne);w(U,S)?E.splice(P,1):(C.push(U),P++)}}}return D[_]=E.length,i.createSparseMatrix({values:C,index:E,ptr:D,size:[y,_],datatype:f===i._datatype&&g===a._datatype?b:void 0})}});var Dj="matAlgo13xDD",Ej=["typed"],_M=T(Dj,Ej,r=>{var{typed:e}=r;return function(i,a,o){var u=i._data,s=i._size,l=i._datatype,c=a._data,f=a._size,p=a._datatype,m=[];if(s.length!==f.length)throw new Dt(s.length,f.length);for(var h=0;h<s.length;h++){if(s[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");m[h]=s[h]}var d,g=o;typeof l=="string"&&l===p&&(d=l,g=e.find(o,[d,d]));var y=m.length>0?t(g,0,m,m[0],u,c):[];return i.createDenseMatrix({data:y,size:m,datatype:d})};function t(n,i,a,o,u,s){var l=[];if(i===a.length-1)for(var c=0;c<o;c++)l[c]=n(u[c],s[c]);else for(var f=0;f<o;f++)l[f]=t(n,i+1,a,a[i+1],u[f],s[f]);return l}});var Nj="broadcast",Cj=["concat"],SM=T(Nj,Cj,r=>{var{concat:e}=r;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((h,d)=>h===a._size[d]))return[i,a];for(var u=t(i._size,o,0),s=t(a._size,o,0),l=[],c=0;c<o;c++)l[c]=Math.max(u[c],s[c]);vc(u,l),vc(s,l);var f=i.clone(),p=a.clone();f._size.length<o?f.reshape(t(f._size,o,1)):p._size.length<o&&p.reshape(t(p._size,o,1));for(var m=0;m<o;m++)f._size[m]<l[m]&&(f=n(f,l[m],m)),p._size[m]<l[m]&&(p=n(p,l[m],m));return[f,p]};function t(i,a,o){return[...Array(a-i.length).fill(o),...i]}function n(i,a,o){return e(...Array(a).fill(i),o)}});var Tj="matrixAlgorithmSuite",Mj=["typed","matrix","concat"],Nt=T(Tj,Mj,r=>{var{typed:e,matrix:t,concat:n}=r,i=_M({typed:e}),a=tn({typed:e}),o=SM({concat:n});return function(s){var l=s.elop,c=s.SD||s.DS,f;l?(f={"DenseMatrix, DenseMatrix":(d,g)=>i(...o(d,g),l),"Array, Array":(d,g)=>i(...o(t(d),t(g)),l).valueOf(),"Array, DenseMatrix":(d,g)=>i(...o(t(d),g),l),"DenseMatrix, Array":(d,g)=>i(...o(d,t(g)),l)},s.SS&&(f["SparseMatrix, SparseMatrix"]=(d,g)=>s.SS(...o(d,g),l,!1)),s.DS&&(f["DenseMatrix, SparseMatrix"]=(d,g)=>s.DS(...o(d,g),l,!1),f["Array, SparseMatrix"]=(d,g)=>s.DS(...o(t(d),g),l,!1)),c&&(f["SparseMatrix, DenseMatrix"]=(d,g)=>c(...o(g,d),l,!0),f["SparseMatrix, Array"]=(d,g)=>c(...o(t(g),d),l,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(d=>(g,y)=>i(...o(g,y),d)),"Array, Array":e.referToSelf(d=>(g,y)=>i(...o(t(g),t(y)),d).valueOf()),"Array, DenseMatrix":e.referToSelf(d=>(g,y)=>i(...o(t(g),y),d)),"DenseMatrix, Array":e.referToSelf(d=>(g,y)=>i(...o(g,t(y)),d))},s.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,y)=>s.SS(...o(g,y),d,!1))),s.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,y)=>s.DS(...o(g,y),d,!1)),f["Array, SparseMatrix"]=e.referToSelf(d=>(g,y)=>s.DS(...o(t(g),y),d,!1))),c&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(d=>(g,y)=>c(...o(y,g),d,!0)),f["SparseMatrix, Array"]=e.referToSelf(d=>(g,y)=>c(...o(t(y),g),d,!0))));var p=s.scalar||"any",m=s.Ds||s.Ss;m&&(l?(f["DenseMatrix,"+p]=(d,g)=>a(d,g,l,!1),f[p+", DenseMatrix"]=(d,g)=>a(g,d,l,!0),f["Array,"+p]=(d,g)=>a(t(d),g,l,!1).valueOf(),f[p+", Array"]=(d,g)=>a(t(g),d,l,!0).valueOf()):(f["DenseMatrix,"+p]=e.referToSelf(d=>(g,y)=>a(g,y,d,!1)),f[p+", DenseMatrix"]=e.referToSelf(d=>(g,y)=>a(y,g,d,!0)),f["Array,"+p]=e.referToSelf(d=>(g,y)=>a(t(g),y,d,!1).valueOf()),f[p+", Array"]=e.referToSelf(d=>(g,y)=>a(t(y),g,d,!0).valueOf())));var h=s.sS!==void 0?s.sS:s.Ss;return l?(s.Ss&&(f["SparseMatrix,"+p]=(d,g)=>s.Ss(d,g,l,!1)),h&&(f[p+", SparseMatrix"]=(d,g)=>h(g,d,l,!0))):(s.Ss&&(f["SparseMatrix,"+p]=e.referToSelf(d=>(g,y)=>s.Ss(g,y,d,!1))),h&&(f[p+", SparseMatrix"]=e.referToSelf(d=>(g,y)=>h(y,g,d,!0)))),l&&l.signatures&&cm(f,l.signatures),f}});var AM="mod",Fj=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],Ac=T(AM,Fj,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u,concat:s}=r,l=Sc({typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u}),c=rn({typed:e,equalScalar:a}),f=Er({typed:e}),p=rs({typed:e,equalScalar:a}),m=dr({typed:e,equalScalar:a}),h=nr({typed:e,DenseMatrix:u}),d=Nt({typed:e,matrix:i,concat:s});return e(AM,{"number, number":g,"BigNumber, BigNumber":function(_,b){return b.isZero()?_:_.sub(b.mul(l(_.div(b))))},"Fraction, Fraction":function(_,b){return b.equals(0)?_:_.sub(b.mul(l(_.div(b))))}},d({SS:p,DS:f,SD:c,Ss:m,sS:h}));function g(y,_){return _===0?y:y-_*l(y/_)}});var Ij="matAlgo01xDSid",Bj=["typed"],qn=T(Ij,Bj,r=>{var{typed:e}=r;return function(n,i,a,o){var u=n._data,s=n._size,l=n._datatype||n.getDataType(),c=i._values,f=i._index,p=i._ptr,m=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(s.length!==m.length)throw new Dt(s.length,m.length);if(s[0]!==m[0]||s[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=s[0],g=s[1],y=typeof l=="string"&&l!=="mixed"&&l===h?l:void 0,_=y?e.find(a,[y,y]):a,b,w,S=[];for(b=0;b<d;b++)S[b]=[];var x=[],C=[];for(w=0;w<g;w++){for(var E=w+1,D=p[w],N=p[w+1],I=D;I<N;I++)b=f[I],x[b]=o?_(c[I],u[b][w]):_(u[b][w],c[I]),C[b]=E;for(b=0;b<d;b++)C[b]===E?S[b][w]=x[b]:S[b][w]=u[b][w]}return n.createDenseMatrix({data:S,size:[d,g],datatype:l===n._datatype&&h===i._datatype?y:void 0})}});var Pj="matAlgo04xSidSid",Oj=["typed","equalScalar"],ml=T(Pj,Oj,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var u=i._values,s=i._index,l=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,g=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==d.length)throw new Dt(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var y=c[0],_=c[1],b,w=t,S=0,x=o;typeof f=="string"&&f===g&&f!=="mixed"&&(b=f,w=e.find(t,[b,b]),S=e.convert(0,b),x=e.find(o,[b,b]));var C=u&&p?[]:void 0,E=[],D=[],N=u&&p?[]:void 0,I=u&&p?[]:void 0,O=[],V=[],q,L,P,k,Y;for(L=0;L<_;L++){D[L]=E.length;var B=L+1;for(k=l[L],Y=l[L+1],P=k;P<Y;P++)q=s[P],E.push(q),O[q]=B,N&&(N[q]=u[P]);for(k=h[L],Y=h[L+1],P=k;P<Y;P++)if(q=m[P],O[q]===B){if(N){var Z=x(N[q],p[P]);w(Z,S)?O[q]=null:N[q]=Z}}else E.push(q),V[q]=B,I&&(I[q]=p[P]);if(N&&I)for(P=D[L];P<E.length;)q=E[P],O[q]===B?(C[P]=N[q],P++):V[q]===B?(C[P]=I[q],P++):E.splice(P,1)}return D[_]=E.length,i.createSparseMatrix({values:C,index:E,ptr:D,size:[y,_],datatype:f===i._datatype&&g===a._datatype?b:void 0})}});var kj="matAlgo10xSids",Rj=["typed","DenseMatrix"],hi=T(kj,Rj,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,u){var s=i._values,l=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,g=o;typeof p=="string"&&(d=p,a=e.convert(a,d),g=e.find(o,[d,d]));for(var y=[],_=[],b=[],w=0;w<h;w++){for(var S=w+1,x=c[w],C=c[w+1],E=x;E<C;E++){var D=l[E];_[D]=s[E],b[D]=S}for(var N=0;N<m;N++)w===0&&(y[N]=[]),b[N]===S?y[N][w]=u?g(a,_[N]):g(_[N],a):y[N][w]=a}return new t({data:y,size:[m,h],datatype:d})}});function mo(r,e,t,n){if(!(this instanceof mo))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=e,this.min=t,this.max=n,this.message="Wrong number of arguments in function "+r+" ("+e+" provided, "+t+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}mo.prototype=new Error;mo.prototype.constructor=Error;mo.prototype.name="ArgumentsError";mo.prototype.isArgumentsError=!0;var DM="gcd",Lj=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],X0="number | BigNumber | Fraction | Matrix | Array",Vj="".concat(X0,", ").concat(X0,", ...").concat(X0);function EM(r){return!r.some(e=>Array.isArray(e))}var Q0=T(DM,Lj,r=>{var{typed:e,matrix:t,config:n,round:i,equalScalar:a,zeros:o,BigNumber:u,DenseMatrix:s,concat:l}=r,c=Ac({typed:e,config:n,round:i,matrix:t,equalScalar:a,zeros:o,DenseMatrix:s,concat:l}),f=qn({typed:e}),p=ml({typed:e,equalScalar:a}),m=hi({typed:e,DenseMatrix:s}),h=Nt({typed:e,matrix:t,concat:l});return e(DM,{"number, number":d,"BigNumber, BigNumber":g,"Fraction, Fraction":(y,_)=>y.gcd(_)},h({SS:p,DS:f,Ss:m}),{[Vj]:e.referToSelf(y=>(_,b,w)=>{for(var S=y(_,b),x=0;x<w.length;x++)S=y(S,w[x]);return S}),Array:e.referToSelf(y=>_=>{if(_.length===1&&Array.isArray(_[0])&&EM(_[0]))return y(..._[0]);if(EM(_))return y(..._);throw new mo("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(y=>_=>y(_.toArray()))});function d(y,_){if(!tt(y)||!tt(_))throw new Error("Parameters in function gcd must be integer numbers");for(var b;_!==0;)b=c(y,_),y=_,_=b;return y<0?-y:y}function g(y,_){if(!y.isInt()||!_.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var b=new u(0);!_.isZero();){var w=c(y,_);y=_,_=w}return y.lt(b)?y.neg():y}});var Uj="matAlgo06xS0S0",$j=["typed","equalScalar"],ns=T(Uj,$j,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var u=i._values,s=i._size,l=i._datatype||i._data===void 0?i._datatype:i.getDataType(),c=a._values,f=a._size,p=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(s.length!==f.length)throw new Dt(s.length,f.length);if(s[0]!==f[0]||s[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");var m=s[0],h=s[1],d,g=t,y=0,_=o;typeof l=="string"&&l===p&&l!=="mixed"&&(d=l,g=e.find(t,[d,d]),y=e.convert(0,d),_=e.find(o,[d,d]));for(var b=u&&c?[]:void 0,w=[],S=[],x=b?[]:void 0,C=[],E=[],D=0;D<h;D++){S[D]=w.length;var N=D+1;if(yy(i,D,C,x,E,N,w,_),yy(a,D,C,x,E,N,w,_),x)for(var I=S[D];I<w.length;){var O=w[I];if(E[O]===N){var V=x[O];g(V,y)?w.splice(I,1):(b.push(V),I++)}else w.splice(I,1)}else for(var q=S[D];q<w.length;){var L=w[q];E[L]!==N?w.splice(q,1):q++}}return S[h]=w.length,i.createSparseMatrix({values:b,index:w,ptr:S,size:[m,h],datatype:l===i._datatype&&p===a._datatype?d:void 0})}});var NM="lcm",qj=["typed","matrix","equalScalar","concat"],K0=T(NM,qj,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=rn({typed:e,equalScalar:n}),o=ns({typed:e,equalScalar:n}),u=dr({typed:e,equalScalar:n}),s=Nt({typed:e,matrix:t,concat:i}),l="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(l,", ").concat(l,", ...").concat(l)]=e.referToSelf(p=>(m,h,d)=>{for(var g=p(m,h),y=0;y<d.length;y++)g=p(g,d[y]);return g}),e(NM,{"number, number":Ty,"BigNumber, BigNumber":f,"Fraction, Fraction":(p,m)=>p.lcm(m)},s({SS:o,DS:a,Ss:u}),c);function f(p,m){if(!p.isInt()||!m.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(p.isZero())return p;if(m.isZero())return m;for(var h=p.times(m);!m.isZero();){var d=m;m=p.mod(d),p=d}return h.div(p).abs()}});var CM="log10",zj=["typed","config","Complex"],eb=T(CM,zj,r=>{var{typed:e,config:t,Complex:n}=r;return e(CM,{number:function(a){return a>=0||t.predictable?My(a):new n(a,0).log().div(Math.LN10)},Complex:function(a){return new n(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||t.predictable?a.log():new n(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>st(a,i))})});var TM="log2",Hj=["typed","config","Complex"],tb=T(TM,Hj,r=>{var{typed:e,config:t,Complex:n}=r;return e(TM,{number:function(o){return o>=0||t.predictable?Fy(o):i(new n(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):i(new n(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>st(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}});var Gj="multiplyScalar",Wj=["typed"],rb=T(Gj,Wj,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":Sy,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})});var MM="multiply",Yj=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],nb=T(MM,Yj,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=r,u=dr({typed:e,equalScalar:a}),s=tn({typed:e});function l(S,x){switch(S.length){case 1:switch(x.length){case 1:if(S[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(S[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+S[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(S[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+S[1]+") must match Vector length ("+x[0]+")");break;case 2:if(S[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+S[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+S.length+" dimensions)")}}function c(S,x,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return o(S,x)}function f(S,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(S,x)}function p(S,x){var C=S._data,E=S._size,D=S._datatype||S.getDataType(),N=x._data,I=x._size,O=x._datatype||x.getDataType(),V=E[0],q=I[1],L,P=n,k=i;D&&O&&D===O&&typeof D=="string"&&D!=="mixed"&&(L=D,P=e.find(n,[L,L]),k=e.find(i,[L,L]));for(var Y=[],B=0;B<q;B++){for(var Z=k(C[0],N[0][B]),oe=1;oe<V;oe++)Z=P(Z,k(C[oe],N[oe][B]));Y[B]=Z}return S.createDenseMatrix({data:Y,size:[q],datatype:D===S._datatype&&O===x._datatype?L:void 0})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":_}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":b,"SparseMatrix, SparseMatrix":w});function d(S,x){var C=S._data,E=S._size,D=S._datatype||S.getDataType(),N=x._data,I=x._datatype||x.getDataType(),O=E[0],V=E[1],q,L=n,P=i;D&&I&&D===I&&typeof D=="string"&&D!=="mixed"&&(q=D,L=e.find(n,[q,q]),P=e.find(i,[q,q]));for(var k=[],Y=0;Y<O;Y++){for(var B=C[Y],Z=P(B[0],N[0]),oe=1;oe<V;oe++)Z=L(Z,P(B[oe],N[oe]));k[Y]=Z}return S.createDenseMatrix({data:k,size:[O],datatype:D===S._datatype&&I===x._datatype?q:void 0})}function g(S,x){var C=S._data,E=S._size,D=S._datatype||S.getDataType(),N=x._data,I=x._size,O=x._datatype||x.getDataType(),V=E[0],q=E[1],L=I[1],P,k=n,Y=i;D&&O&&D===O&&typeof D=="string"&&D!=="mixed"&&D!=="mixed"&&(P=D,k=e.find(n,[P,P]),Y=e.find(i,[P,P]));for(var B=[],Z=0;Z<V;Z++){var oe=C[Z];B[Z]=[];for(var ne=0;ne<L;ne++){for(var U=Y(oe[0],N[0][ne]),fe=1;fe<q;fe++)U=k(U,Y(oe[fe],N[fe][ne]));B[Z][ne]=U}}return S.createDenseMatrix({data:B,size:[V,L],datatype:D===S._datatype&&O===x._datatype?P:void 0})}function y(S,x){var C=S._data,E=S._size,D=S._datatype||S.getDataType(),N=x._values,I=x._index,O=x._ptr,V=x._size,q=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!N)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var L=E[0],P=V[1],k,Y=n,B=i,Z=a,oe=0;D&&q&&D===q&&typeof D=="string"&&D!=="mixed"&&(k=D,Y=e.find(n,[k,k]),B=e.find(i,[k,k]),Z=e.find(a,[k,k]),oe=e.convert(0,k));for(var ne=[],U=[],fe=[],Ee=x.createSparseMatrix({values:ne,index:U,ptr:fe,size:[L,P],datatype:D===S._datatype&&q===x._datatype?k:void 0}),pe=0;pe<P;pe++){fe[pe]=U.length;var he=O[pe],De=O[pe+1];if(De>he)for(var ve=0,de=0;de<L;de++){for(var Ae=de+1,Ne=void 0,ke=he;ke<De;ke++){var nt=I[ke];ve!==Ae?(Ne=B(C[de][nt],N[ke]),ve=Ae):Ne=Y(Ne,B(C[de][nt],N[ke]))}ve===Ae&&!Z(Ne,oe)&&(U.push(de),ne.push(Ne))}}return fe[P]=U.length,Ee}function _(S,x){var C=S._values,E=S._index,D=S._ptr,N=S._datatype||S._data===void 0?S._datatype:S.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=x._data,O=x._datatype||x.getDataType(),V=S._size[0],q=x._size[0],L=[],P=[],k=[],Y,B=n,Z=i,oe=a,ne=0;N&&O&&N===O&&typeof N=="string"&&N!=="mixed"&&(Y=N,B=e.find(n,[Y,Y]),Z=e.find(i,[Y,Y]),oe=e.find(a,[Y,Y]),ne=e.convert(0,Y));var U=[],fe=[];k[0]=0;for(var Ee=0;Ee<q;Ee++){var pe=I[Ee];if(!oe(pe,ne))for(var he=D[Ee],De=D[Ee+1],ve=he;ve<De;ve++){var de=E[ve];fe[de]?U[de]=B(U[de],Z(pe,C[ve])):(fe[de]=!0,P.push(de),U[de]=Z(pe,C[ve]))}}for(var Ae=P.length,Ne=0;Ne<Ae;Ne++){var ke=P[Ne];L[Ne]=U[ke]}return k[1]=P.length,S.createSparseMatrix({values:L,index:P,ptr:k,size:[V,1],datatype:N===S._datatype&&O===x._datatype?Y:void 0})}function b(S,x){var C=S._values,E=S._index,D=S._ptr,N=S._datatype||S._data===void 0?S._datatype:S.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=x._data,O=x._datatype||x.getDataType(),V=S._size[0],q=x._size[0],L=x._size[1],P,k=n,Y=i,B=a,Z=0;N&&O&&N===O&&typeof N=="string"&&N!=="mixed"&&(P=N,k=e.find(n,[P,P]),Y=e.find(i,[P,P]),B=e.find(a,[P,P]),Z=e.convert(0,P));for(var oe=[],ne=[],U=[],fe=S.createSparseMatrix({values:oe,index:ne,ptr:U,size:[V,L],datatype:N===S._datatype&&O===x._datatype?P:void 0}),Ee=[],pe=[],he=0;he<L;he++){U[he]=ne.length;for(var De=he+1,ve=0;ve<q;ve++){var de=I[ve][he];if(!B(de,Z))for(var Ae=D[ve],Ne=D[ve+1],ke=Ae;ke<Ne;ke++){var nt=E[ke];pe[nt]!==De?(pe[nt]=De,ne.push(nt),Ee[nt]=Y(de,C[ke])):Ee[nt]=k(Ee[nt],Y(de,C[ke]))}}for(var J=U[he],ee=ne.length,ye=J;ye<ee;ye++){var H=ne[ye];oe[ye]=Ee[H]}}return U[L]=ne.length,fe}function w(S,x){var C=S._values,E=S._index,D=S._ptr,N=S._datatype||S._data===void 0?S._datatype:S.getDataType(),I=x._values,O=x._index,V=x._ptr,q=x._datatype||x._data===void 0?x._datatype:x.getDataType(),L=S._size[0],P=x._size[1],k=C&&I,Y,B=n,Z=i;N&&q&&N===q&&typeof N=="string"&&N!=="mixed"&&(Y=N,B=e.find(n,[Y,Y]),Z=e.find(i,[Y,Y]));for(var oe=k?[]:void 0,ne=[],U=[],fe=S.createSparseMatrix({values:oe,index:ne,ptr:U,size:[L,P],datatype:N===S._datatype&&q===x._datatype?Y:void 0}),Ee=k?[]:void 0,pe=[],he,De,ve,de,Ae,Ne,ke,nt,J=0;J<P;J++){U[J]=ne.length;var ee=J+1;for(Ae=V[J],Ne=V[J+1],de=Ae;de<Ne;de++)if(nt=O[de],k)for(De=D[nt],ve=D[nt+1],he=De;he<ve;he++)ke=E[he],pe[ke]!==ee?(pe[ke]=ee,ne.push(ke),Ee[ke]=Z(I[de],C[he])):Ee[ke]=B(Ee[ke],Z(I[de],C[he]));else for(De=D[nt],ve=D[nt+1],he=De;he<ve;he++)ke=E[he],pe[ke]!==ee&&(pe[ke]=ee,ne.push(ke));if(k)for(var ye=U[J],H=ne.length,te=ye;te<H;te++){var se=ne[te];oe[te]=Ee[se]}}return U[P]=ne.length,fe}return e(MM,i,{"Array, Array":e.referTo("Matrix, Matrix",S=>(x,C)=>{l(vt(x),vt(C));var E=S(t(x),t(C));return it(E)?E.valueOf():E}),"Matrix, Matrix":function(x,C){var E=x.size(),D=C.size();return l(E,D),E.length===1?D.length===1?c(x,C,E[0]):f(x,C):D.length===1?m(x,C):h(x,C)},"Matrix, Array":e.referTo("Matrix,Matrix",S=>(x,C)=>S(x,t(C))),"Array, Matrix":e.referToSelf(S=>(x,C)=>S(t(x,C.storage()),C)),"SparseMatrix, any":function(x,C){return u(x,C,i,!1)},"DenseMatrix, any":function(x,C){return s(x,C,i,!1)},"any, SparseMatrix":function(x,C){return u(C,x,i,!0)},"any, DenseMatrix":function(x,C){return s(C,x,i,!0)},"Array, any":function(x,C){return s(t(x),C,i,!1).valueOf()},"any, Array":function(x,C){return s(t(C),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(S=>(x,C,E)=>{for(var D=S(x,C),N=0;N<E.length;N++)D=S(D,E[N]);return D})})});var FM="nthRoot",jj=["typed","matrix","equalScalar","BigNumber","concat"],ib=T(FM,jj,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,concat:a}=r,o=qn({typed:e}),u=rn({typed:e,equalScalar:n}),s=ns({typed:e,equalScalar:n}),l=dr({typed:e,equalScalar:n}),c=Nt({typed:e,matrix:t,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(FM,{number:Iy,"number, number":Iy,BigNumber:m=>p(m,new i(2)),"BigNumber, BigNumber":p,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",m=>h=>m(t(h),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",m=>h=>m(h,2)),SparseMatrix:e.referTo("SparseMatrix,number",m=>h=>m(h,2)),"SparseMatrix, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return s(h,d,m);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return o(h,d,m,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",m=>(h,d)=>m(t(h),d)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return l(d,h,m,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:u,Ss:l,sS:!1}));function p(m,h){var d=i.precision,g=i.clone({precision:d+2}),y=new i(0),_=new g(1),b=h.isNegative();if(b&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(m.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(m.isZero())return b?new g(1/0):0;if(!m.isFinite())return b?y:m;var w=m.abs().pow(_.div(h));return w=m.isNeg()?w.neg():w,new i((b?_.div(w):w).toPrecision(d))}});var IM="sign",Zj=["typed","BigNumber","Fraction","complex"],ab=T(IM,Zj,r=>{var{typed:e,BigNumber:t,complex:n,Fraction:i}=r;return e(IM,{number:Mm,Complex:function(o){return o.im===0?n(Mm(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>st(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})});var Jj="sqrt",Xj=["config","typed","Complex"],ob=T(Jj,Xj,r=>{var{config:e,typed:t,Complex:n}=r;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}});var BM="square",Qj=["typed"],sb=T(BM,Qj,r=>{var{typed:e}=r;return e(BM,{number:By,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})});var PM="subtract",Kj=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],ub=T(PM,Kj,r=>{var{typed:e,matrix:t,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:u}=r,s=qn({typed:e}),l=Er({typed:e}),c=rs({typed:e,equalScalar:n}),f=hi({typed:e,DenseMatrix:o}),p=nr({typed:e,DenseMatrix:o}),m=Nt({typed:e,matrix:t,concat:u});return e(PM,{"any, any":i},m({elop:i,SS:c,DS:s,SD:l,Ss:p,sS:f}))});var OM="xgcd",eZ=["typed","config","matrix","BigNumber"],lb=T(OM,eZ,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(OM,{"number, number":function(u,s){var l=Py(u,s);return t.matrix==="Array"?l:n(l)},"BigNumber, BigNumber":a});function a(o,u){var s,l,c,f=new i(0),p=new i(1),m=f,h=p,d=p,g=f;if(!o.isInt()||!u.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!u.isZero();)l=o.div(u).floor(),c=o.mod(u),s=m,m=h.minus(l.times(m)),h=s,s=d,d=g.minus(l.times(d)),g=s,o=u,u=c;var y;return o.lt(f)?y=[o.neg(),h.neg(),g.neg()]:y=[o,o.isZero()?0:h,g],t.matrix==="Array"?y:n(y)}});var kM="invmod",tZ=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],cb=T(kM,tZ,r=>{var{typed:e,config:t,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:u,add:s,isInteger:l}=r;return e(kM,{"number, number":c,"BigNumber, BigNumber":c});function c(f,p){if(!l(f)||!l(p))throw new Error("Parameters in function invmod must be integer numbers");if(f=u(f,p),a(p,0))throw new Error("Divisor must be non zero");var m=i(f,p);m=m.valueOf();var[h,d]=m;return a(h,n(1))?(d=u(d,p),o(d,n(0))&&(d=s(d,p)),d):NaN}});var rZ="matAlgo09xS0Sf",nZ=["typed","equalScalar"],Bm=T(rZ,nZ,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var u=i._values,s=i._index,l=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,g=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==d.length)throw new Dt(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var y=c[0],_=c[1],b,w=t,S=0,x=o;typeof f=="string"&&f===g&&f!=="mixed"&&(b=f,w=e.find(t,[b,b]),S=e.convert(0,b),x=e.find(o,[b,b]));var C=u&&p?[]:void 0,E=[],D=[],N=C?[]:void 0,I=[],O,V,q,L,P;for(V=0;V<_;V++){D[V]=E.length;var k=V+1;if(N)for(L=h[V],P=h[V+1],q=L;q<P;q++)O=m[q],I[O]=k,N[O]=p[q];for(L=l[V],P=l[V+1],q=L;q<P;q++)if(O=s[q],N){var Y=I[O]===k?N[O]:S,B=x(u[q],Y);w(B,S)||(E.push(O),C.push(B))}else E.push(O)}return D[_]=E.length,i.createSparseMatrix({values:C,index:E,ptr:D,size:[y,_],datatype:f===i._datatype&&g===a._datatype?b:void 0})}});var RM="dotMultiply",iZ=["typed","matrix","equalScalar","multiplyScalar","concat"],fb=T(RM,iZ,r=>{var{typed:e,matrix:t,equalScalar:n,multiplyScalar:i,concat:a}=r,o=rn({typed:e,equalScalar:n}),u=Bm({typed:e,equalScalar:n}),s=dr({typed:e,equalScalar:n}),l=Nt({typed:e,matrix:t,concat:a});return e(RM,l({elop:i,SS:u,DS:o,Ss:s}))});function LM(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero()||e.eq(-1)||r.eq(e))return r;if(e.isZero()||r.eq(-1))return e;if(!r.isFinite()||!e.isFinite()){if(!r.isFinite()&&!e.isFinite())return r.isNegative()===e.isNegative()?r:new t(0);if(!r.isFinite())return e.isNegative()?r:r.isNegative()?new t(0):e;if(!e.isFinite())return r.isNegative()?e:e.isNegative()?new t(0):r}return pb(r,e,function(n,i){return n&i})}function dl(r){if(r.isFinite()&&!r.isInteger())throw new Error("Integer expected in function bitNot");var e=r.constructor,t=e.precision;e.config({precision:1e9});var n=r.plus(new e(1));return n.s=-n.s||null,e.config({precision:t}),n}function VM(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);var n=new t(-1);return r.isZero()||e.eq(n)||r.eq(e)?e:e.isZero()||r.eq(n)?r:!r.isFinite()||!e.isFinite()?!r.isFinite()&&!r.isNegative()&&e.isNegative()||r.isNegative()&&!e.isNegative()&&!e.isFinite()?n:r.isNegative()&&e.isNegative()?r.isFinite()?r:e:r.isFinite()?e:r:pb(r,e,function(i,a){return i|a})}function pb(r,e,t){var n=r.constructor,i,a,o=+(r.s<0),u=+(e.s<0);if(o){i=Pm(dl(r));for(var s=0;s<i.length;++s)i[s]^=1}else i=Pm(r);if(u){a=Pm(dl(e));for(var l=0;l<a.length;++l)a[l]^=1}else a=Pm(e);var c,f,p;i.length<=a.length?(c=i,f=a,p=o):(c=a,f=i,p=u);var m=c.length,h=f.length,d=t(o,u)^1,g=new n(d^1),y=new n(1),_=new n(2),b=n.precision;for(n.config({precision:1e9});m>0;)t(c[--m],f[--h])===d&&(g=g.plus(y)),y=y.times(_);for(;h>0;)t(p,f[--h])===d&&(g=g.plus(y)),y=y.times(_);return n.config({precision:b}),d===0&&(g.s=-g.s),g}function Pm(r){for(var e=r.d,t=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;t+=i}for(var o=t.length;t.charAt(o)==="0";)o--;var u=r.e,s=t.slice(0,o+1||1),l=s.length;if(u>0)if(++u>l)for(u-=l;u--;)s+="0";else u<l&&(s=s.slice(0,u)+"."+s.slice(u));for(var c=[0],f=0;f<s.length;){for(var p=c.length;p--;)c[p]*=10;c[0]+=parseInt(s.charAt(f++));for(var m=0;m<c.length;++m)c[m]>1&&((c[m+1]===null||c[m+1]===void 0)&&(c[m+1]=0),c[m+1]+=c[m]>>1,c[m]&=1)}return c.reverse()}function UM(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero())return e;if(e.isZero())return r;if(r.eq(e))return new t(0);var n=new t(-1);return r.eq(n)?dl(e):e.eq(n)?dl(r):!r.isFinite()||!e.isFinite()?!r.isFinite()&&!e.isFinite()?n:new t(r.isNegative()===e.isNegative()?1/0:-1/0):pb(r,e,function(i,a){return i^a})}function $M(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:!r.isFinite()&&!e.isFinite()?new t(NaN):e.lt(55)?r.times(Math.pow(2,e.toNumber())+""):r.times(new t(2).pow(e))}function qM(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:e.isFinite()?e.lt(55)?r.div(Math.pow(2,e.toNumber())+"").floor():r.div(new t(2).pow(e)).floor():r.isNegative()?new t(-1):r.isFinite()?new t(0):new t(NaN)}var zM="bitAnd",aZ=["typed","matrix","equalScalar","concat"],Dc=T(zM,aZ,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=rn({typed:e,equalScalar:n}),o=ns({typed:e,equalScalar:n}),u=dr({typed:e,equalScalar:n}),s=Nt({typed:e,matrix:t,concat:i});return e(zM,{"number, number":ky,"BigNumber, BigNumber":LM},s({SS:o,DS:a,Ss:u}))});var HM="bitNot",oZ=["typed"],mb=T(HM,oZ,r=>{var{typed:e}=r;return e(HM,{number:Ry,BigNumber:dl,"Array | Matrix":e.referToSelf(t=>n=>st(n,t))})});var GM="bitOr",sZ=["typed","matrix","equalScalar","DenseMatrix","concat"],Ec=T(GM,sZ,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=qn({typed:e}),u=ml({typed:e,equalScalar:n}),s=hi({typed:e,DenseMatrix:i}),l=Nt({typed:e,matrix:t,concat:a});return e(GM,{"number, number":Ly,"BigNumber, BigNumber":VM},l({SS:u,DS:o,Ss:s}))});var uZ="matAlgo07xSSf",lZ=["typed","DenseMatrix"],pn=T(uZ,lZ,r=>{var{typed:e,DenseMatrix:t}=r;return function(a,o,u){var s=a._size,l=a._datatype||a._data===void 0?a._datatype:a.getDataType(),c=o._size,f=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(s.length!==c.length)throw new Dt(s.length,c.length);if(s[0]!==c[0]||s[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");var p=s[0],m=s[1],h,d=0,g=u;typeof l=="string"&&l===f&&l!=="mixed"&&(h=l,d=e.convert(0,h),g=e.find(u,[h,h]));var y,_,b=[];for(y=0;y<p;y++)b[y]=[];var w=[],S=[],x=[],C=[];for(_=0;_<m;_++){var E=_+1;for(n(a,_,x,w,E),n(o,_,C,S,E),y=0;y<p;y++){var D=x[y]===E?w[y]:d,N=C[y]===E?S[y]:d;b[y][_]=g(D,N)}}return new t({data:b,size:[p,m],datatype:l===a._datatype&&f===o._datatype?h:void 0})};function n(i,a,o,u,s){for(var l=i._values,c=i._index,f=i._ptr,p=f[a],m=f[a+1];p<m;p++){var h=c[p];o[h]=s,u[h]=l[p]}}});var WM="bitXor",cZ=["typed","matrix","DenseMatrix","concat"],db=T(WM,cZ,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=Er({typed:e}),o=pn({typed:e,DenseMatrix:n}),u=nr({typed:e,DenseMatrix:n}),s=Nt({typed:e,matrix:t,concat:i});return e(WM,{"number, number":Vy,"BigNumber, BigNumber":UM},s({SS:o,DS:a,Ss:u}))});var YM="arg",fZ=["typed"],hb=T(YM,fZ,r=>{var{typed:e}=r;return e(YM,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(t=>n=>st(n,t))})});var jM="conj",pZ=["typed"],gb=T(jM,pZ,r=>{var{typed:e}=r;return e(jM,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>n=>st(n,t))})});var ZM="im",mZ=["typed"],vb=T(ZM,mZ,r=>{var{typed:e}=r;return e(ZM,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>n=>st(n,t))})});var JM="re",dZ=["typed"],yb=T(JM,dZ,r=>{var{typed:e}=r;return e(JM,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>n=>st(n,t))})});var XM="not",hZ=["typed"],bb=T(XM,hZ,r=>{var{typed:e}=r;return e(XM,{"null | undefined":()=>!0,number:Gy,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>st(n,t))})});var QM="or",gZ=["typed","matrix","equalScalar","DenseMatrix","concat"],Nc=T(QM,gZ,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Er({typed:e}),u=rs({typed:e,equalScalar:n}),s=nr({typed:e,DenseMatrix:i}),l=Nt({typed:e,matrix:t,concat:a});return e(QM,{"number, number":Wy,"Complex, Complex":function(f,p){return f.re!==0||f.im!==0||p.re!==0||p.im!==0},"BigNumber, BigNumber":function(f,p){return!f.isZero()&&!f.isNaN()||!p.isZero()&&!p.isNaN()},"Unit, Unit":e.referToSelf(c=>(f,p)=>c(f.value||0,p.value||0))},l({SS:u,DS:o,Ss:s}))});var KM="xor",vZ=["typed","matrix","DenseMatrix","concat"],xb=T(KM,vZ,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=Er({typed:e}),o=pn({typed:e,DenseMatrix:n}),u=nr({typed:e,DenseMatrix:n}),s=Nt({typed:e,matrix:t,concat:i});return e(KM,{"number, number":Yy,"Complex, Complex":function(c,f){return(c.re!==0||c.im!==0)!=(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(c,f){return(!c.isZero()&&!c.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(l=>(c,f)=>l(c.value||0,f.value||0))},s({SS:o,DS:a,Ss:u}))});var eF="concat",yZ=["typed","matrix","isInteger"],Cc=T(eF,yZ,r=>{var{typed:e,matrix:t,isInteger:n}=r;return e(eF,{"...Array | Matrix | number | BigNumber":function(a){var o,u=a.length,s=-1,l,c=!1,f=[];for(o=0;o<u;o++){var p=a[o];if(it(p)&&(c=!0),xt(p)||lt(p)){if(o!==u-1)throw new Error("Dimension must be specified as last argument");if(l=s,s=p.valueOf(),!n(s))throw new TypeError("Integer number expected for dimension");if(s<0||o>0&&s>l)throw new Fn(s,l+1)}else{var m=dt(p).valueOf(),h=vt(m);if(f[o]=m,l=s,s=h.length-1,o>0&&s!==l)throw new Dt(l+1,s+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var d=f.shift();f.length;)d=Zv(d,f.shift(),s);return c?t(d):d},"...string":function(a){return a.join("")}})});var tF="column",bZ=["typed","Index","matrix","range"],Tc=T(tF,bZ,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(tF,{"Matrix, number":a,"Array, number":function(u,s){return a(n(dt(u)),s).valueOf()}});function a(o,u){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");mr(u,o.size()[1]);var s=i(0,o.size()[0]),l=new t(s,u),c=o.subset(l);return it(c)?c:n([[c]])}});var rF="count",xZ=["typed","size","prod"],wb=T(rF,xZ,r=>{var{typed:e,size:t,prod:n}=r;return e(rF,{string:function(a){return a.length},"Matrix | Array":function(a){return n(t(a))}})});var nF="cross",wZ=["typed","matrix","subtract","multiply"],_b=T(nF,wZ,r=>{var{typed:e,matrix:t,subtract:n,multiply:i}=r;return e(nF,{"Matrix, Matrix":function(u,s){return t(a(u.toArray(),s.toArray()))},"Matrix, Array":function(u,s){return t(a(u.toArray(),s))},"Array, Matrix":function(u,s){return t(a(u,s.toArray()))},"Array, Array":a});function a(o,u){var s=Math.max(vt(o).length,vt(u).length);o=il(o),u=il(u);var l=vt(o),c=vt(u);if(l.length!==1||c.length!==1||l[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+l.join(", ")+"], B = ["+c.join(", ")+"])");var f=[n(i(o[1],u[2]),i(o[2],u[1])),n(i(o[2],u[0]),i(o[0],u[2])),n(i(o[0],u[1]),i(o[1],u[0]))];return s>1?[f]:f}});var iF="diag",_Z=["typed","matrix","DenseMatrix","SparseMatrix"],Sb=T(iF,_Z,r=>{var{typed:e,matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(iF,{Array:function(l){return a(l,0,vt(l),null)},"Array, number":function(l,c){return a(l,c,vt(l),null)},"Array, BigNumber":function(l,c){return a(l,c.toNumber(),vt(l),null)},"Array, string":function(l,c){return a(l,0,vt(l),c)},"Array, number, string":function(l,c,f){return a(l,c,vt(l),f)},"Array, BigNumber, string":function(l,c,f){return a(l,c.toNumber(),vt(l),f)},Matrix:function(l){return a(l,0,l.size(),l.storage())},"Matrix, number":function(l,c){return a(l,c,l.size(),l.storage())},"Matrix, BigNumber":function(l,c){return a(l,c.toNumber(),l.size(),l.storage())},"Matrix, string":function(l,c){return a(l,0,l.size(),c)},"Matrix, number, string":function(l,c,f){return a(l,c,l.size(),f)},"Matrix, BigNumber, string":function(l,c,f){return a(l,c.toNumber(),l.size(),f)}});function a(s,l,c,f){if(!tt(l))throw new TypeError("Second parameter in function diag must be an integer");var p=l>0?l:0,m=l<0?-l:0;switch(c.length){case 1:return o(s,l,f,c[0],m,p);case 2:return u(s,l,f,c,m,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(s,l,c,f,p,m){var h=[f+p,f+m];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var d=c==="sparse"?i.diagonal(h,s,l):n.diagonal(h,s,l);return c!==null?d:d.valueOf()}function u(s,l,c,f,p,m){if(it(s)){var h=s.diagonal(l);return c!==null?c!==h.storage()?t(h,c):h:h.valueOf()}for(var d=Math.min(f[0]-p,f[1]-m),g=[],y=0;y<d;y++)g[y]=s[y+p][y+m];return c!==null?t(g):g}});var Mc=hr($v(),1);function Ji(r,e,t,n,i){if(Mc.default.isTypedFunction(r)){var a=[e,t,n],o=Mc.default.resolve(r,a);if(o)return f(o.implementation,a);var u=[e,t],s=Mc.default.resolve(r,u);if(s)return f(s.implementation,u);var l=[e],c=Mc.default.resolve(r,l);return c?f(c.implementation,l):f(r,a)}else return r(e,t,n);function f(p,m){try{return p.apply(p,m)}catch(g){var h;if(g instanceof TypeError&&((h=g.data)===null||h===void 0?void 0:h.category)==="wrongType"){var d=[];throw d.push("value: ".concat(Wt(e))),m.length>=2&&d.push("index: ".concat(Wt(t))),m.length>=3&&d.push("array: ".concat(Wt(n))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(r.name,"(").concat(d.join(", "),") at index ").concat(JSON.stringify(t)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(r.name,": ").concat(g.message))}}}var SZ="filter",AZ=["typed"],Ab=T(SZ,AZ,r=>{var{typed:e}=r;return e("filter",{"Array, function":aF,"Matrix, function":function(n,i){return n.create(aF(n.toArray(),i))},"Array, RegExp":al,"Matrix, RegExp":function(n,i){return n.create(al(n.toArray(),i))}})});function aF(r,e){return vm(r,function(t,n,i){return Ji(e,t,[n],i,"filter")})}var oF="flatten",DZ=["typed","matrix"],Db=T(oF,DZ,r=>{var{typed:e,matrix:t}=r;return e(oF,{Array:function(i){return Mt(i)},Matrix:function(i){var a=Mt(i.toArray());return t(a)}})});var sF="forEach",EZ=["typed"],Eb=T(sF,EZ,r=>{var{typed:e}=r;return e(sF,{"Array, function":NZ,"Matrix, function":function(n,i){n.forEach(i)}})});function NZ(r,e){var t=function n(i,a){if(Array.isArray(i))jo(i,function(o,u){n(o,a.concat(u))});else return Ji(e,i,a,r,"forEach")};t(r,[])}var uF="getMatrixDataType",CZ=["typed"],Nb=T(uF,CZ,r=>{var{typed:e}=r;return e(uF,{Array:function(n){return Zo(n,Wt)},Matrix:function(n){return n.getDataType()}})});var lF="identity",TZ=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Cb=T(lF,TZ,r=>{var{typed:e,config:t,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=r;return e(lF,{"":function(){return t.matrix==="Matrix"?n([]):[]},string:function(c){return n(c)},"number | BigNumber":function(c){return s(c,c,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return s(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return s(c,f,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,p){return s(c,f,p)},Array:function(c){return u(c)},"Array, string":function(c,f){return u(c,f)},Matrix:function(c){return u(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return u(c.valueOf(),f)}});function u(l,c){switch(l.length){case 0:return c?n(c):[];case 1:return s(l[0],l[0],c);case 2:return s(l[0],l[1],c);default:throw new Error("Vector containing two values expected")}}function s(l,c,f){var p=lt(l)||lt(c)?i:null;if(lt(l)&&(l=l.toNumber()),lt(c)&&(c=c.toNumber()),!tt(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!tt(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var m=p?new i(1):1,h=p?new p(0):0,d=[l,c];if(f){if(f==="sparse")return o.diagonal(d,m,0,h);if(f==="dense")return a.diagonal(d,m,0,h);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var g=ya([],d,h),y=l<c?l:c,_=0;_<y;_++)g[_][_]=m;return g}});var cF="kron",MZ=["typed","matrix","multiplyScalar"],Tb=T(cF,MZ,r=>{var{typed:e,matrix:t,multiplyScalar:n}=r;return e(cF,{"Matrix, Matrix":function(o,u){return t(i(o.toArray(),u.toArray()))},"Matrix, Array":function(o,u){return t(i(o.toArray(),u))},"Array, Matrix":function(o,u){return t(i(o,u.toArray()))},"Array, Array":i});function i(a,o){if(vt(a).length===1&&(a=[a]),vt(o).length===1&&(o=[o]),vt(a).length>2||vt(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var u=[],s=[];return a.map(function(l){return o.map(function(c){return s=[],u.push(s),l.map(function(f){return c.map(function(p){return s.push(n(f,p))})})})})&&u}});var fF="map",FZ=["typed"],Mb=T(fF,FZ,r=>{var{typed:e}=r;return e(fF,{"Array, function":IZ,"Matrix, function":function(n,i){return n.map(i)}})});function IZ(r,e){var t=function n(i,a){return Array.isArray(i)?i.map(function(o,u){return n(o,a.concat(u))}):Ji(e,i,a,r,"map")};return t(r,[])}var pF="diff",BZ=["typed","matrix","subtract","number"],Fc=T(pF,BZ,r=>{var{typed:e,matrix:t,subtract:n,number:i}=r;return e(pF,{"Array | Matrix":function(c){return it(c)?t(o(c.toArray())):o(c)},"Array | Matrix, number":function(c,f){if(!tt(f))throw new RangeError("Dimension must be a whole number");return it(c)?t(a(c.toArray(),f)):a(c,f)},"Array, BigNumber":e.referTo("Array,number",l=>(c,f)=>l(c,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",l=>(c,f)=>l(c,i(f)))});function a(l,c){if(it(l)&&(l=l.toArray()),!Array.isArray(l))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return l.forEach(p=>{f.push(a(p,c-1))}),f}else{if(c===0)return o(l);throw RangeError("Cannot have negative dimension")}}function o(l){for(var c=[],f=l.length,p=1;p<f;p++)c.push(u(l[p-1],l[p]));return c}function u(l,c){it(l)&&(l=l.toArray()),it(c)&&(c=c.toArray());var f=Array.isArray(l),p=Array.isArray(c);if(f&&p)return s(l,c);if(!f&&!p)return n(c,l);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function s(l,c){if(l.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],p=l.length,m=0;m<p;m++)f.push(u(l[m],c[m]));return f}});var PZ="ones",OZ=["typed","config","matrix","BigNumber"],Fb=T(PZ,OZ,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e("ones",{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(l){var c=l[l.length-1];if(typeof c=="string"){var f=l.pop();return a(l,f)}else return t.matrix==="Array"?a(l):a(l,"default")},Array:a,Matrix:function(l){var c=l.storage();return a(l.valueOf(),c)},"Array | Matrix, string":function(l,c){return a(l.valueOf(),c)}});function a(s,l){var c=o(s),f=c?new i(1):1;if(u(s),l){var p=n(l);return s.length>0?p.resize(s,f):p}else{var m=[];return s.length>0?ya(m,s,f):m}}function o(s){var l=!1;return s.forEach(function(c,f,p){lt(c)&&(l=!0,p[f]=c.toNumber())}),l}function u(s){s.forEach(function(l){if(typeof l!="number"||!tt(l)||l<0)throw new Error("Parameters in function ones must be positive integers")})}});function hl(){throw new Error('No "bignumber" implementation available')}function Om(){throw new Error('No "fraction" implementation available')}function km(){throw new Error('No "matrix" implementation available')}var mF="range",kZ=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Ic=T(mF,kZ,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:u,largerEq:s,add:l,isPositive:c}=r;return e(mF,{string:p,"string, boolean":p,"number, number":function(g,y){return f(m(g,y,1,!1))},"number, number, number":function(g,y,_){return f(m(g,y,_,!1))},"number, number, boolean":function(g,y,_){return f(m(g,y,1,_))},"number, number, number, boolean":function(g,y,_,b){return f(m(g,y,_,b))},"BigNumber, BigNumber":function(g,y){var _=g.constructor;return f(m(g,y,new _(1),!1))},"BigNumber, BigNumber, BigNumber":function(g,y,_){return f(m(g,y,_,!1))},"BigNumber, BigNumber, boolean":function(g,y,_){var b=g.constructor;return f(m(g,y,new b(1),_))},"BigNumber, BigNumber, BigNumber, boolean":function(g,y,_,b){return f(m(g,y,_,b))},"Unit, Unit, Unit":function(g,y,_){return f(m(g,y,_,!1))},"Unit, Unit, Unit, boolean":function(g,y,_,b){return f(m(g,y,_,b))}});function f(d){return t.matrix==="Matrix"?n?n(d):km():d}function p(d,g){var y=h(d);if(!y)throw new SyntaxError('String "'+d+'" is no valid range');return t.number==="BigNumber"?(i===void 0&&hl(),f(m(i(y.start),i(y.end),i(y.step)),g)):f(m(y.start,y.end,y.step,g))}function m(d,g,y,_){for(var b=[],w=c(y)?_?o:a:_?s:u,S=d;w(S,g);)b.push(S),S=l(S,y);return b}function h(d){var g=d.split(":"),y=g.map(function(b){return Number(b)}),_=y.some(function(b){return isNaN(b)});if(_)return null;switch(y.length){case 2:return{start:y[0],end:y[1],step:1};case 3:return{start:y[0],end:y[2],step:y[1]};default:return null}}});var dF="reshape",RZ=["typed","isInteger","matrix"],Ib=T(dF,RZ,r=>{var{typed:e,isInteger:t}=r;return e(dF,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),hc(i,a)}})});var LZ="resize",VZ=["config","matrix"],Bb=T(LZ,VZ,r=>{var{config:e,matrix:t}=r;return function(a,o,u){if(arguments.length!==2&&arguments.length!==3)throw new mo("resize",arguments.length,2,3);if(it(o)&&(o=o.valueOf()),lt(o[0])&&(o=o.map(function(c){return lt(c)?c.toNumber():c})),it(a))return a.resize(o,u,!0);if(typeof a=="string")return n(a,o,u);var s=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return dt(a)}else{Array.isArray(a)||(a=[a]),a=dt(a);var l=ya(a,o,u);return s?t(l):l}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new Dt(a.length,1);var u=a[0];if(typeof u!="number"||!tt(u))throw new TypeError("Invalid size, must contain positive integers (size: "+St(a)+")");if(i.length>u)return i.substring(0,u);if(i.length<u){for(var s=i,l=0,c=u-i.length;l<c;l++)s+=o;return s}else return i}});var hF="rotate",UZ=["typed","multiply","rotationMatrix"],Pb=T(hF,UZ,r=>{var{typed:e,multiply:t,rotationMatrix:n}=r;return e(hF,{"Array , number | BigNumber | Complex | Unit":function(o,u){i(o,2);var s=t(n(u),o);return s.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,u){return i(o,2),t(n(u),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,u,s){i(o,3);var l=t(n(u,s),o);return l},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,u,s){return i(o,3),t(n(u,s),o)}});function i(a,o){var u=Array.isArray(a)?vt(a):a.size();if(u.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(u.length===2&&u[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(u[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}});var gF="rotationMatrix",$Z=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],Ob=T(gF,$Z,r=>{var{typed:e,config:t,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:u,matrix:s,DenseMatrix:l,SparseMatrix:c,cos:f,sin:p}=r;return e(gF,{"":function(){return t.matrix==="Matrix"?s([]):[]},string:function(b){return s(b)},"number | BigNumber | Complex | Unit":function(b){return m(b,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(b,w){return m(b,w)},"number | BigNumber | Complex | Unit, Array":function(b,w){var S=s(w);return h(S),y(b,S,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(b,w){h(w);var S=w.storage()||(t.matrix==="Matrix"?"dense":void 0);return y(b,w,S)},"number | BigNumber | Complex | Unit, Array, string":function(b,w,S){var x=s(w);return h(x),y(b,x,S)},"number | BigNumber | Complex | Unit, Matrix, string":function(b,w,S){return h(w),y(b,w,S)}});function m(_,b){var w=lt(_),S=w?new u(-1):-1,x=f(_),C=p(_),E=[[x,n(S,C)],[C,x]];return g(E,b)}function h(_){var b=_.size();if(b.length<1||b[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function d(_){return _.reduce((b,w)=>n(b,w))}function g(_,b){if(b){if(b==="sparse")return new c(_);if(b==="dense")return new l(_);throw new TypeError('Unknown matrix type "'.concat(b,'"'))}return _}function y(_,b,w){var S=o(b);if(S===0)throw new RangeError("Rotation around zero vector");var x=lt(_)?u:null,C=x?new x(1):1,E=x?new x(-1):-1,D=x?new x(b.get([0])/S):b.get([0])/S,N=x?new x(b.get([1])/S):b.get([1])/S,I=x?new x(b.get([2])/S):b.get([2])/S,O=f(_),V=i(C,a(O)),q=p(_),L=i(O,d([D,D,V])),P=i(d([D,N,V]),d([E,I,q])),k=i(d([D,I,V]),d([N,q])),Y=i(d([D,N,V]),d([I,q])),B=i(O,d([N,N,V])),Z=i(d([N,I,V]),d([E,D,q])),oe=i(d([D,I,V]),d([E,N,q])),ne=i(d([N,I,V]),d([D,q])),U=i(O,d([I,I,V])),fe=[[L,P,k],[Y,B,Z],[oe,ne,U]];return g(fe,w)}});var vF="row",qZ=["typed","Index","matrix","range"],Bc=T(vF,qZ,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(vF,{"Matrix, number":a,"Array, number":function(u,s){return a(n(dt(u)),s).valueOf()}});function a(o,u){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");mr(u,o.size()[0]);var s=i(0,o.size()[1]),l=new t(u,s),c=o.subset(l);return it(c)?c:n([[c]])}});var yF="size",zZ=["typed","config","?matrix"],kb=T(yF,zZ,r=>{var{typed:e,config:t,matrix:n}=r;return e(yF,{Matrix:function(a){return a.create(a.size())},Array:vt,string:function(a){return t.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return t.matrix==="Array"?[]:n?n([]):km()}})});var bF="squeeze",HZ=["typed","matrix"],Rb=T(bF,HZ,r=>{var{typed:e,matrix:t}=r;return e(bF,{Array:function(i){return il(dt(i))},Matrix:function(i){var a=il(i.toArray());return Array.isArray(a)?t(a):a},any:function(i){return dt(i)}})});var xF="subset",GZ=["typed","matrix","zeros","add"],Pc=T(xF,GZ,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r;return e(xF,{"Matrix, Index":function(u,s){return Ks(s)?t():(dc(u,s),u.subset(s))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(u,s){var l=o(t(u),s);return s.isScalar()?l:l.valueOf()}}),"Object, Index":YZ,"string, Index":WZ,"Matrix, Index, any, any":function(u,s,l,c){return Ks(s)?u:(dc(u,s),u.clone().subset(s,a(l,s),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(u,s,l,c){var f=o(t(u),s,l,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(u,s,l){return o(t(u),s,l,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(u,s,l){return o(u,s,l,void 0)}}),"string, Index, string":wF,"string, Index, string, string":wF,"Object, Index, any":jZ});function a(o,u){if(typeof o=="string")throw new Error("can't boradcast a string");if(u._isScalar)return o;var s=u.size();if(s.every(l=>l>0))try{return i(o,n(s))}catch(l){return o}else return o}});function WZ(r,e){if(!Go(e))throw new TypeError("Index expected");if(Ks(e))return"";if(dc(Array.from(r),e),e.size().length!==1)throw new Dt(e.size().length,1);var t=r.length;mr(e.min()[0],t),mr(e.max()[0],t);var n=e.dimension(0),i="";return n.forEach(function(a){i+=r.charAt(a)}),i}function wF(r,e,t,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(Ks(e))return r;if(dc(Array.from(r),e),e.size().length!==1)throw new Dt(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==t.length)throw new Dt(i.size()[0],t.length);var o=r.length;mr(e.min()[0]),mr(e.max()[0]);for(var u=[],s=0;s<o;s++)u[s]=r.charAt(s);if(i.forEach(function(f,p){u[f]=t.charAt(p[0])}),u.length>o)for(var l=o-1,c=u.length;l<c;l++)u[l]||(u[l]=n);return u.join("")}function YZ(r,e){if(!Ks(e)){if(e.size().length!==1)throw new Dt(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return kr(r,t)}}function jZ(r,e,t){if(Ks(e))return r;if(e.size().length!==1)throw new Dt(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=dt(r);return Ba(i,n,t),i}var _F="transpose",ZZ=["typed","matrix"],Lb=T(_F,ZZ,r=>{var{typed:e,matrix:t}=r;return e(_F,{Array:o=>n(t(o)).valueOf(),Matrix:n,any:dt});function n(o){var u=o.size(),s;switch(u.length){case 1:s=o.clone();break;case 2:{var l=u[0],c=u[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+St(u)+")");switch(o.storage()){case"dense":s=i(o,l,c);break;case"sparse":s=a(o,l,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+St(u)+")")}return s}function i(o,u,s){for(var l=o._data,c=[],f,p=0;p<s;p++){f=c[p]=[];for(var m=0;m<u;m++)f[m]=dt(l[m][p])}return o.createDenseMatrix({data:c,size:[s,u],datatype:o._datatype})}function a(o,u,s){for(var l=o._values,c=o._index,f=o._ptr,p=l?[]:void 0,m=[],h=[],d=[],g=0;g<u;g++)d[g]=0;var y,_,b;for(y=0,_=c.length;y<_;y++)d[c[y]]++;for(var w=0,S=0;S<u;S++)h.push(w),w+=d[S],d[S]=h[S];for(h.push(w),b=0;b<s;b++)for(var x=f[b],C=f[b+1],E=x;E<C;E++){var D=d[c[E]]++;m[D]=b,l&&(p[D]=dt(l[E]))}return o.createSparseMatrix({values:p,index:m,ptr:h,size:[s,u],datatype:o._datatype})}});var SF="ctranspose",JZ=["typed","transpose","conj"],Vb=T(SF,JZ,r=>{var{typed:e,transpose:t,conj:n}=r;return e(SF,{any:function(a){return n(t(a))}})});var AF="zeros",XZ=["typed","config","matrix","BigNumber"],Ub=T(AF,XZ,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(AF,{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(l){var c=l[l.length-1];if(typeof c=="string"){var f=l.pop();return a(l,f)}else return t.matrix==="Array"?a(l):a(l,"default")},Array:a,Matrix:function(l){var c=l.storage();return a(l.valueOf(),c)},"Array | Matrix, string":function(l,c){return a(l.valueOf(),c)}});function a(s,l){var c=o(s),f=c?new i(0):0;if(u(s),l){var p=n(l);return s.length>0?p.resize(s,f):p}else{var m=[];return s.length>0?ya(m,s,f):m}}function o(s){var l=!1;return s.forEach(function(c,f,p){lt(c)&&(l=!0,p[f]=c.toNumber())}),l}function u(s){s.forEach(function(l){if(typeof l!="number"||!tt(l)||l<0)throw new Error("Parameters in function zeros must be positive integers")})}});var DF="fft",QZ=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],$b=T(DF,QZ,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:u,i:s,dotDivide:l,conj:c,pow:f,ceil:p,log2:m}=r;return e(DF,{Array:h,Matrix:function(b){return b.create(h(b.toArray()))}});function h(_){var b=vt(_);return b.length===1?y(_,b[0]):d(_.map(w=>h(w,b.slice(1))),0)}function d(_,b){var w=vt(_);if(b!==0)return new Array(w[0]).fill(0).map((x,C)=>d(_[C],b-1));if(w.length===1)return y(_);function S(x){var C=vt(x);return new Array(C[1]).fill(0).map((E,D)=>new Array(C[0]).fill(0).map((N,I)=>x[I][D]))}return S(d(S(_),1))}function g(_){for(var b=_.length,w=o(a(i(-1,i(s,u)),b)),S=[],x=1-b;x<b;x++)S.push(f(w,a(f(x,2),2)));for(var C=f(2,p(m(b+b-1))),E=[...new Array(b).fill(0).map((P,k)=>i(_[k],S[b-1+k])),...new Array(C-b).fill(0)],D=[...new Array(b+b-1).fill(0).map((P,k)=>a(1,S[k])),...new Array(C-(b+b-1)).fill(0)],N=y(E),I=y(D),O=new Array(C).fill(0).map((P,k)=>i(N[k],I[k])),V=l(c(h(c(O))),C),q=[],L=b-1;L<b+b-1;L++)q.push(i(V[L],S[L]));return q}function y(_){var b=_.length;if(b===1)return[_[0]];if(b%2===0){for(var w=[...y(_.filter((E,D)=>D%2===0),b/2),...y(_.filter((E,D)=>D%2===1),b/2)],S=0;S<b/2;S++){var x=w[S],C=i(w[S+b/2],o(i(i(u,s),a(-S,b))));w[S]=n(x,C),w[S+b/2]=n(x,i(-1,C))}return w}else return g(_)}});var EF="ifft",KZ=["typed","fft","dotDivide","conj"],qb=T(EF,KZ,r=>{var{typed:e,fft:t,dotDivide:n,conj:i}=r;return e(EF,{"Array | Matrix":function(o){var u=it(o)?o.size():vt(o);return n(i(t(i(o))),u.reduce((s,l)=>s*l,1))}})});function is(r){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(r)}function zb(r,e){if(is(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Hb(r){var e=zb(r,"string");return is(e)=="symbol"?e:String(e)}function ir(r,e,t){return e=Hb(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function NF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function eJ(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NF(Object(t),!0).forEach(function(n){ir(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):NF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var tJ="solveODE",rJ=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],Gb=T(tJ,rJ,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,max:o,map:u,abs:s,isPositive:l,isNegative:c,larger:f,smaller:p,matrix:m,bignumber:h,unaryMinus:d}=r;function g(E){return function(D,N,I,O){var V=!(N.length===2&&(N.every(x)||N.every(Cn)));if(V)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var q=N[0],L=N[1],P=f(L,q),k=O.firstStep;if(k!==void 0&&!l(k))throw new Error('"firstStep" must be positive');var Y=O.maxStep;if(Y!==void 0&&!l(Y))throw new Error('"maxStep" must be positive');var B=O.minStep;if(B&&c(B))throw new Error('"minStep" must be positive or zero');var Z=[q,L,k,B,Y].filter(Ye=>Ye!==void 0);if(!(Z.every(x)||Z.every(Cn)))throw new Error('Inconsistent type of "t" dependant variables');for(var oe=1,ne=O.tol?O.tol:1e-4,U=O.minDelta?O.minDelta:.2,fe=O.maxDelta?O.maxDelta:5,Ee=O.maxIter?O.maxIter:1e4,pe=[q,L,...I,Y,B].some(lt),[he,De,ve,de]=pe?[h(E.a),h(E.c),h(E.b),h(E.bp)]:[E.a,E.c,E.b,E.bp],Ae=k?P?k:d(k):a(n(L,q),oe),Ne=[q],ke=[I],nt=n(ve,de),J=0,ee=0,ye=w(P),H=S(P);ye(Ne[J],L);){var te=[];Ae=H(Ne[J],L,Ae),te.push(D(Ne[J],ke[J]));for(var se=1;se<De.length;++se)te.push(D(t(Ne[J],i(De[se],Ae)),t(ke[J],i(Ae,he[se],te))));var Ce=o(s(u(i(nt,te),Ye=>Cn(Ye)?Ye.value:Ye)));Ce<ne&&ne/Ce>1/4&&(Ne.push(t(Ne[J],Ae)),ke.push(t(ke[J],i(Ae,ve,te))),J++);var Te=.84*(ne/Ce)**(1/5);if(p(Te,U)?Te=U:f(Te,fe)&&(Te=fe),Te=pe?h(Te):Te,Ae=i(Ae,Te),Y&&f(s(Ae),Y)?Ae=P?Y:d(Y):B&&p(s(Ae),B)&&(Ae=P?B:d(B)),ee++,ee>Ee)throw new Error("Maximum number of iterations reached, try changing options")}return{t:Ne,y:ke}}}function y(E,D,N,I){var O=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],V=[null,1/2,3/4,1],q=[2/9,1/3,4/9,0],L=[7/24,1/4,1/3,1/8],P={a:O,c:V,b:q,bp:L};return g(P)(E,D,N,I)}function _(E,D,N,I){var O=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],V=[null,1/5,3/10,4/5,8/9,1,1],q=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],L=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],P={a:O,c:V,b:q,bp:L};return g(P)(E,D,N,I)}function b(E,D,N,I){var O=I.method?I.method:"RK45",V={RK23:y,RK45:_};if(O.toUpperCase()in V){var q=eJ({},I);return delete q.method,V[O.toUpperCase()](E,D,N,q)}else{var L=Object.keys(V).map(k=>'"'.concat(k,'"')),P="".concat(L.slice(0,-1).join(", ")," and ").concat(L.slice(-1));throw new Error('Unavailable method "'.concat(O,'". Available methods are ').concat(P))}}function w(E){return E?p:f}function S(E){var D=E?f:p;return function(N,I,O){var V=t(N,O);return D(V,I)?n(I,N):O}}function x(E){return lt(E)||xt(E)}function C(E,D,N,I){var O=b(E,D.toArray(),N.toArray(),I);return{t:m(O.t),y:m(O.y)}}return e("solveODE",{"function, Array, Array, Object":b,"function, Matrix, Matrix, Object":C,"function, Array, Array":(E,D,N)=>b(E,D,N,{}),"function, Matrix, Matrix":(E,D,N)=>C(E,D,N,{}),"function, Array, number | BigNumber | Unit":(E,D,N)=>{var I=b(E,D,[N],{});return{t:I.t,y:I.y.map(O=>O[0])}},"function, Matrix, number | BigNumber | Unit":(E,D,N)=>{var I=b(E,D.toArray(),[N],{});return{t:m(I.t),y:m(I.y.map(O=>O[0]))}},"function, Array, number | BigNumber | Unit, Object":(E,D,N,I)=>{var O=b(E,D,[N],I);return{t:O.t,y:O.y.map(V=>V[0])}},"function, Matrix, number | BigNumber | Unit, Object":(E,D,N,I)=>{var O=b(E,D.toArray(),[N],I);return{t:m(O.t),y:m(O.y.map(V=>V[0]))}}})});var nJ="erf",iJ=["typed"],Wb=T(nJ,iJ,r=>{var{typed:e}=r;return e("name",{number:function(o){var u=Math.abs(o);return u>=sJ?Yi(o):u<=aJ?Yi(o)*t(u):u<=4?Yi(o)*(1-n(u)):Yi(o)*(1-i(u))},"Array | Matrix":e.referToSelf(a=>o=>st(o,a))});function t(a){var o=a*a,u=ho[0][4]*o,s=o,l;for(l=0;l<3;l+=1)u=(u+ho[0][l])*o,s=(s+gl[0][l])*o;return a*(u+ho[0][3])/(s+gl[0][3])}function n(a){var o=ho[1][8]*a,u=a,s;for(s=0;s<7;s+=1)o=(o+ho[1][s])*a,u=(u+gl[1][s])*a;var l=(o+ho[1][7])/(u+gl[1][7]),c=parseInt(a*16)/16,f=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-f)*l}function i(a){var o=1/(a*a),u=ho[2][5]*o,s=o,l;for(l=0;l<4;l+=1)u=(u+ho[2][l])*o,s=(s+gl[2][l])*o;var c=o*(u+ho[2][4])/(s+gl[2][4]);c=(oJ-c)/a,o=parseInt(a*16)/16;var f=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-f)*c}}),aJ=.46875,oJ=.5641895835477563,ho=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],gl=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],sJ=Math.pow(2,53);var CF="zeta",uJ=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],Yb=T(CF,uJ,r=>{var{typed:e,config:t,multiply:n,pow:i,divide:a,factorial:o,equal:u,smallerEq:s,isNegative:l,gamma:c,sin:f,subtract:p,add:m,Complex:h,BigNumber:d,pi:g}=r;return e(CF,{number:x=>y(x,C=>C,()=>20),BigNumber:x=>y(x,C=>new d(C),()=>Math.abs(Math.log10(t.epsilon))),Complex:_});function y(x,C,E){return u(x,0)?C(-.5):u(x,1)?C(NaN):isFinite(x)?b(x,C,E,D=>D):l(x)?C(NaN):C(1)}function _(x){return x.re===0&&x.im===0?new h(-.5):x.re===1?new h(NaN,NaN):x.re===1/0&&x.im===0?new h(1):x.im===1/0||x.re===-1/0?new h(NaN,NaN):b(x,C=>C,C=>Math.round(1.3*15+.9*Math.abs(C.im)),C=>C.re)}function b(x,C,E,D){var N=E(x);if(D(x)>-(N-1)/2)return S(x,C(N),C);var I=n(i(2,x),i(C(g),p(x,1)));return I=n(I,f(n(a(C(g),2),x))),I=n(I,c(p(1,x))),n(I,b(p(1,x),C,E,D))}function w(x,C){for(var E=x,D=x;s(D,C);D=m(D,1)){var N=a(n(o(m(C,p(D,1))),i(4,D)),n(o(p(C,D)),o(n(2,D))));E=m(E,N)}return n(C,E)}function S(x,C,E){for(var D=a(1,n(w(E(0),C),p(1,i(2,p(1,x))))),N=E(0),I=E(1);s(I,C);I=m(I,1))N=m(N,a(n((-1)**(I-1),w(I,C)),i(I,x)));return n(D,N)}});var TF="mode",lJ=["typed","isNaN","isNumeric"],jb=T(TF,lJ,r=>{var{typed:e,isNaN:t,isNumeric:n}=r;return e(TF,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=Mt(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var u={},s=[],l=0,c=0;c<a.length;c++){var f=a[c];if(n(f)&&t(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in u||(u[f]=0),u[f]++,u[f]===l?s.push(f):u[f]>l&&(l=u[f],s=[f])}return s}});function Wr(r,e,t){var n;return String(r).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+Wt(t)+", value: "+JSON.stringify(t)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(r).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+Wt(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):r}var MF="prod",cJ=["typed","config","multiplyScalar","numeric"],Zb=T(MF,cJ,r=>{var{typed:e,config:t,multiplyScalar:n,numeric:i}=r;return e(MF,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(u,s){throw new Error("prod(A, dim) is not yet supported")},"...":function(u){return a(u)}});function a(o){var u;if($n(o,function(s){try{u=u===void 0?s:n(u,s)}catch(l){throw Wr(l,"prod",s)}}),typeof u=="string"&&(u=i(u,t.number)),u===void 0)throw new Error("Cannot calculate prod of an empty array");return u}});var FF="format",fJ=["typed"],Jb=T(FF,fJ,r=>{var{typed:e}=r;return e(FF,{any:St,"any, Object | function | number | BigNumber":St})});var IF="bin",pJ=["typed","format"],Xb=T(IF,pJ,r=>{var{typed:e,format:t}=r;return e(IF,{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"bin",wordSize:a})}})});var BF="oct",mJ=["typed","format"],Qb=T(BF,mJ,r=>{var{typed:e,format:t}=r;return e(BF,{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"oct",wordSize:a})}})});var PF="hex",dJ=["typed","format"],Kb=T(PF,dJ,r=>{var{typed:e,format:t}=r;return e(PF,{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"hex",wordSize:a})}})});var Rm=/\$([\w.]+)/g;var OF="print",hJ=["typed"],Oc=T(OF,hJ,r=>{var{typed:e}=r;return e(OF,{"string, Object | Array":kF,"string, Object | Array, number | Object":kF})});function kF(r,e,t){return r.replace(Rm,function(n,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var u=a.shift();o=u?o[u]:o+"."}return o!==void 0?Hr(o)?o:St(o,t):n})}var RF="to",gJ=["typed","matrix","concat"],ex=T(RF,gJ,r=>{var{typed:e,matrix:t,concat:n}=r,i=Nt({typed:e,matrix:t,concat:n});return e(RF,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))});var LF="isPrime",vJ=["typed"],tx=T(LF,vJ,r=>{var{typed:e}=r;return e(LF,{number:function(n){if(n*0!==0)return!1;if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},BigNumber:function(n){if(n.toNumber()*0!==0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(_,b,w){for(var S=1;!b.eq(0);)b.mod(2).eq(0)?(b=b.div(2),_=_.mul(_).mod(w)):(b=b.sub(1),S=_.mul(S).mod(w));return S}var u=n.constructor.clone({precision:n.toFixed(0).length*2});n=new u(n);for(var s=0,l=n.sub(1);l.mod(2).eq(0);)l=l.div(2),s+=1;var c=null;if(n.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(_=>_<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));c=[];for(var p=2;p<=f;p+=1)c.push(f)}for(var m=0;m<c.length;m+=1){var h=c[m],d=o(n.sub(n).add(h),l,n);if(!d.eq(1)){for(var g=0,y=d;!y.eq(n.sub(1));g+=1,y=y.mul(y).mod(n))if(g===s-1)return!1}}return!0},"Array | Matrix":e.referToSelf(t=>n=>st(n,t))})});var yJ="numeric",bJ=["number","?bignumber","?fraction"],rx=T(yJ,bJ,r=>{var{number:e,bignumber:t,fraction:n}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:t?o=>t(o):hl,Fraction:n?o=>n(o):Om};return function(u){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=Wt(u);if(!(c in i))throw new TypeError("Cannot convert "+u+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(s in a))throw new TypeError("Cannot convert "+u+' to type "'+s+'"; valid output types are '+Object.keys(a).join(", "));return s===c?u:a[s](u)}});var VF="divideScalar",xJ=["typed","numeric"],nx=T(VF,xJ,r=>{var{typed:e,numeric:t}=r;return e(VF,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var UF="pow",wJ=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],ix=T(UF,wJ,r=>{var{typed:e,config:t,identity:n,multiply:i,matrix:a,inv:o,number:u,fraction:s,Complex:l}=r;return e(UF,{"number, number":c,"Complex, Complex":function(h,d){return h.pow(d)},"BigNumber, BigNumber":function(h,d){return d.isInteger()||h>=0||t.predictable?h.pow(d):new l(h.toNumber(),0).pow(d.toNumber(),0)},"Fraction, Fraction":function(h,d){var g=h.pow(d);if(g!=null)return g;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(h.valueOf(),d.valueOf())},"Array, number":f,"Array, BigNumber":function(h,d){return f(h,d.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(h,d){return p(h,d.toNumber())},"Unit, number | BigNumber":function(h,d){return h.pow(d)}});function c(m,h){if(t.predictable&&!tt(h)&&m<0)try{var d=s(h),g=u(d);if((h===g||Math.abs((h-g)/h)<1e-14)&&d.d%2===1)return(d.n%2===0?1:-1)*Math.pow(-m,h)}catch(y){}return t.predictable&&(m<-1&&h===1/0||m>-1&&m<0&&h===-1/0)?NaN:tt(h)||m>=0||t.predictable?Oy(m,h):m*m<1&&h===1/0||m*m>1&&h===-1/0?0:new l(m,0).pow(h,0)}function f(m,h){if(!tt(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var d=vt(m);if(d.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!==d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");if(h<0)try{return f(o(m),-h)}catch(_){throw _.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):_}for(var g=n(d[0]).valueOf(),y=m;h>=1;)(h&1)===1&&(g=i(y,g)),h>>=1,y=i(y,y);return g}function p(m,h){return a(f(m.valueOf(),h))}});var vl="Number of decimals in function round must be an integer",$F="round",_J=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],ax=T($F,_J,r=>{var{typed:e,config:t,matrix:n,equalScalar:i,zeros:a,BigNumber:o,DenseMatrix:u}=r,s=dr({typed:e,equalScalar:i}),l=nr({typed:e,DenseMatrix:u}),c=tn({typed:e});function f(p){return Math.abs(nl(p).exponent)}return e($F,{number:function(m){var h=fl(m,f(t.epsilon)),d=$r(m,h,t.epsilon)?h:m;return fl(d)},"number, number":function(m,h){var d=f(t.epsilon);if(h>=d)return fl(m,h);var g=fl(m,d),y=$r(m,g,t.epsilon)?g:m;return fl(y,h)},"number, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(vl);return new o(m).toDecimalPlaces(h.toNumber())},Complex:function(m){return m.round()},"Complex, number":function(m,h){if(h%1)throw new TypeError(vl);return m.round(h)},"Complex, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(vl);var d=h.toNumber();return m.round(d)},BigNumber:function(m){var h=new o(m).toDecimalPlaces(f(t.epsilon)),d=sn(m,h,t.epsilon)?h:m;return d.toDecimalPlaces(0)},"BigNumber, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(vl);var d=f(t.epsilon);if(h>=d)return m.toDecimalPlaces(h.toNumber());var g=m.toDecimalPlaces(d),y=sn(m,g,t.epsilon)?g:m;return y.toDecimalPlaces(h.toNumber())},Fraction:function(m){return m.round()},"Fraction, number":function(m,h){if(h%1)throw new TypeError(vl);return m.round(h)},"Fraction, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(vl);return m.round(h.toNumber())},"Unit, number, Unit":e.referToSelf(p=>function(m,h,d){var g=m.toNumeric(d);return d.multiply(p(g,h))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(m,h,d)=>p(m,h.toNumber(),d)),"Unit, Unit":e.referToSelf(p=>(m,h)=>p(m,0,h)),"Array | Matrix, number, Unit":e.referToSelf(p=>(m,h,d)=>st(m,g=>p(g,h,d),!0)),"Array | Matrix, BigNumber, Unit":e.referToSelf(p=>(m,h,d)=>p(m,h.toNumber(),d)),"Array | Matrix, Unit":e.referToSelf(p=>(m,h)=>p(m,0,h)),"Array | Matrix":e.referToSelf(p=>m=>st(m,p,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>s(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>c(n(m),h,p,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(p=>(m,h)=>i(m,0)?a(h.size(),h.storage()):l(h,m,p,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(p=>(m,h)=>i(m,0)?a(h.size(),h.storage()):c(h,m,p,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(p=>(m,h)=>c(n(h),m,p,!0).valueOf())})});var qF="log",SJ=["config","typed","divideScalar","Complex"],ox=T(qF,SJ,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r;return e(qF,{number:function(o){return o>=0||t.predictable?GT(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,u)=>n(a(o),a(u)))})});var zF="log1p",AJ=["typed","config","divideScalar","log","Complex"],sx=T(zF,AJ,r=>{var{typed:e,config:t,divideScalar:n,log:i,Complex:a}=r;return e(zF,{number:function(s){return s>=-1||t.predictable?fm(s):o(new a(s,0))},Complex:o,BigNumber:function(s){var l=s.plus(1);return!l.isNegative()||t.predictable?l.ln():o(new a(s.toNumber(),0))},"Array | Matrix":e.referToSelf(u=>s=>st(s,u)),"any, any":e.referToSelf(u=>(s,l)=>n(u(s),i(l)))});function o(u){var s=u.re+1;return new a(Math.log(Math.sqrt(s*s+u.im*u.im)),Math.atan2(u.im,s))}});var HF="nthRoots",DJ=["config","typed","divideScalar","Complex"],ux=T(HF,DJ,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r,a=[function(s){return new i(s,0)},function(s){return new i(0,s)},function(s){return new i(-s,0)},function(s){return new i(0,-s)}];function o(u,s){if(s<0)throw new Error("Root must be greater than zero");if(s===0)throw new Error("Root must be non-zero");if(s%1!==0)throw new Error("Root must be an integer");if(u===0||u.abs()===0)return[new i(0,0)];var l=typeof u=="number",c;(l||u.re===0||u.im===0)&&(l?c=2*+(u<0):u.im===0?c=2*+(u.re<0):c=2*+(u.im<0)+1);for(var f=u.arg(),p=u.abs(),m=[],h=Math.pow(p,1/s),d=0;d<s;d++){var g=(c+4*d)/s;if(g===Math.round(g)){m.push(a[g%4](h));continue}m.push(new i({r:h,phi:(f+2*Math.PI*d)/s}))}return m}return e(HF,{Complex:function(s){return o(s,2)},"Complex, number":o})});var GF="dotPow",EJ=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],lx=T(GF,EJ,r=>{var{typed:e,equalScalar:t,matrix:n,pow:i,DenseMatrix:a,concat:o}=r,u=Er({typed:e}),s=pn({typed:e,DenseMatrix:a}),l=dr({typed:e,equalScalar:t}),c=nr({typed:e,DenseMatrix:a}),f=Nt({typed:e,matrix:n,concat:o}),p={};for(var m in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,m)&&!m.includes("Matrix")&&!m.includes("Array")&&(p[m]=i.signatures[m]);var h=e(p);return e(GF,f({elop:h,SS:s,DS:u,Ss:l,sS:c}))});var WF="dotDivide",NJ=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],cx=T(WF,NJ,r=>{var{typed:e,matrix:t,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o}=r,u=rn({typed:e,equalScalar:n}),s=Er({typed:e}),l=pn({typed:e,DenseMatrix:a}),c=dr({typed:e,equalScalar:n}),f=nr({typed:e,DenseMatrix:a}),p=Nt({typed:e,matrix:t,concat:o});return e(WF,p({elop:i,SS:l,DS:s,SD:u,Ss:c,sS:f}))});function ka(r){var{DenseMatrix:e}=r;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+St(o)+")");var u=o[0],s=o[1];if(u!==s)throw new RangeError("Matrix must be square (size: "+St(o)+")");var l=[];if(it(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<u;p++)l[p]=[f[p]];return new e({data:l,size:[u,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==u||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Xs(i)){if(a){l=[];for(var m=0;m<u;m++)l[m]=[f[m][0]];return new e({data:l,size:[u,1],datatype:i._datatype})}return i}if(ha(i)){for(var h=0;h<u;h++)l[h]=[0];for(var d=i._values,g=i._index,y=i._ptr,_=y[1],b=y[0];b<_;b++){var w=g[b];l[w][0]=d[b]}return new e({data:l,size:[u,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Jt(i)){var S=vt(i);if(S.length===1){if(S[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<u;x++)l[x]=[i[x]];return new e({data:l,size:[u,1]})}if(S.length===2){if(S[0]!==u||S[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<u;C++)l[C]=[i[C][0]];return new e({data:l,size:[u,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var YF="lsolve",CJ=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],fx=T(YF,CJ,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=r,s=ka({DenseMatrix:u});return e(YF,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return l(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=l(h,m);return d.valueOf()}});function l(f,p){p=s(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],g=[],y=f._data,_=0;_<d;_++){var b=m[_][0]||0,w=void 0;if(o(b,0))w=0;else{var S=y[_][_];if(o(S,0))throw new Error("Linear system cannot be solved since matrix is singular");w=n(b,S);for(var x=_+1;x<h;x++)m[x]=[a(m[x][0]||0,i(w,y[x][_]))]}g[_]=[w]}return new u({data:g,size:[h,1]})}function c(f,p){p=s(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],g=f._values,y=f._index,_=f._ptr,b=[],w=0;w<d;w++){var S=m[w][0]||0;if(o(S,0))b[w]=[0];else{for(var x=0,C=[],E=[],D=_[w],N=_[w+1],I=D;I<N;I++){var O=y[I];O===w?x=g[I]:O>w&&(C.push(g[I]),E.push(O))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var V=n(S,x),q=0,L=E.length;q<L;q++){var P=E[q];m[P]=[a(m[P][0]||0,i(V,C[q]))]}b[w]=[V]}}return new u({data:b,size:[h,1]})}});var jF="usolve",TJ=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],px=T(jF,TJ,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=r,s=ka({DenseMatrix:u});return e(jF,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return l(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=l(h,m);return d.valueOf()}});function l(f,p){p=s(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],g=[],y=f._data,_=d-1;_>=0;_--){var b=m[_][0]||0,w=void 0;if(o(b,0))w=0;else{var S=y[_][_];if(o(S,0))throw new Error("Linear system cannot be solved since matrix is singular");w=n(b,S);for(var x=_-1;x>=0;x--)m[x]=[a(m[x][0]||0,i(w,y[x][_]))]}g[_]=[w]}return new u({data:g,size:[h,1]})}function c(f,p){p=s(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],g=f._values,y=f._index,_=f._ptr,b=[],w=d-1;w>=0;w--){var S=m[w][0]||0;if(o(S,0))b[w]=[0];else{for(var x=0,C=[],E=[],D=_[w],N=_[w+1],I=N-1;I>=D;I--){var O=y[I];O===w?x=g[I]:O<w&&(C.push(g[I]),E.push(O))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var V=n(S,x),q=0,L=E.length;q<L;q++){var P=E[q];m[P]=[a(m[P][0],i(V,C[q]))]}b[w]=[V]}}return new u({data:b,size:[h,1]})}});var ZF="lsolveAll",MJ=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],mx=T(ZF,MJ,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=r,s=ka({DenseMatrix:u});return e(ZF,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return l(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=l(h,m);return d.map(g=>g.valueOf())}});function l(f,p){for(var m=[s(f,p,!0)._data.map(E=>E[0])],h=f._data,d=f._size[0],g=f._size[1],y=0;y<g;y++)for(var _=m.length,b=0;b<_;b++){var w=m[b];if(o(h[y][y],0))if(o(w[y],0)){if(b===0){var x=[...w];x[y]=1;for(var C=y+1;C<g;C++)x[C]=a(x[C],h[C][y]);m.push(x)}}else{if(b===0)return[];m.splice(b,1),b-=1,_-=1}else{w[y]=n(w[y],h[y][y]);for(var S=y+1;S<g;S++)w[S]=a(w[S],i(w[y],h[S][y]))}}return m.map(E=>new u({data:E.map(D=>[D]),size:[d,1]}))}function c(f,p){for(var m=[s(f,p,!0)._data.map(oe=>oe[0])],h=f._size[0],d=f._size[1],g=f._values,y=f._index,_=f._ptr,b=0;b<d;b++)for(var w=m.length,S=0;S<w;S++){for(var x=m[S],C=[],E=[],D=_[b],N=_[b+1],I=0,O=D;O<N;O++){var V=y[O];V===b?I=g[O]:V>b&&(C.push(g[O]),E.push(V))}if(o(I,0))if(o(x[b],0)){if(S===0){var k=[...x];k[b]=1;for(var Y=0,B=E.length;Y<B;Y++){var Z=E[Y];k[Z]=a(k[Z],C[Y])}m.push(k)}}else{if(S===0)return[];m.splice(S,1),S-=1,w-=1}else{x[b]=n(x[b],I);for(var q=0,L=E.length;q<L;q++){var P=E[q];x[P]=a(x[P],i(x[b],C[q]))}}}return m.map(oe=>new u({data:oe.map(ne=>[ne]),size:[h,1]}))}});var JF="usolveAll",FJ=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],dx=T(JF,FJ,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=r,s=ka({DenseMatrix:u});return e(JF,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return l(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=l(h,m);return d.map(g=>g.valueOf())}});function l(f,p){for(var m=[s(f,p,!0)._data.map(E=>E[0])],h=f._data,d=f._size[0],g=f._size[1],y=g-1;y>=0;y--)for(var _=m.length,b=0;b<_;b++){var w=m[b];if(o(h[y][y],0))if(o(w[y],0)){if(b===0){var x=[...w];x[y]=1;for(var C=y-1;C>=0;C--)x[C]=a(x[C],h[C][y]);m.push(x)}}else{if(b===0)return[];m.splice(b,1),b-=1,_-=1}else{w[y]=n(w[y],h[y][y]);for(var S=y-1;S>=0;S--)w[S]=a(w[S],i(w[y],h[S][y]))}}return m.map(E=>new u({data:E.map(D=>[D]),size:[d,1]}))}function c(f,p){for(var m=[s(f,p,!0)._data.map(oe=>oe[0])],h=f._size[0],d=f._size[1],g=f._values,y=f._index,_=f._ptr,b=d-1;b>=0;b--)for(var w=m.length,S=0;S<w;S++){for(var x=m[S],C=[],E=[],D=_[b],N=_[b+1],I=0,O=N-1;O>=D;O--){var V=y[O];V===b?I=g[O]:V<b&&(C.push(g[O]),E.push(V))}if(o(I,0))if(o(x[b],0)){if(S===0){var k=[...x];k[b]=1;for(var Y=0,B=E.length;Y<B;Y++){var Z=E[Y];k[Z]=a(k[Z],C[Y])}m.push(k)}}else{if(S===0)return[];m.splice(S,1),S-=1,w-=1}else{x[b]=n(x[b],I);for(var q=0,L=E.length;q<L;q++){var P=E[q];x[P]=a(x[P],i(x[b],C[q]))}}}return m.map(oe=>new u({data:oe.map(ne=>[ne]),size:[h,1]}))}});var IJ="matAlgo08xS0Sid",BJ=["typed","equalScalar"],yl=T(IJ,BJ,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var u=i._values,s=i._index,l=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,g=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==d.length)throw new Dt(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!u||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var y=c[0],_=c[1],b,w=t,S=0,x=o;typeof f=="string"&&f===g&&f!=="mixed"&&(b=f,w=e.find(t,[b,b]),S=e.convert(0,b),x=e.find(o,[b,b]));for(var C=[],E=[],D=[],N=[],I=[],O,V,q,L,P=0;P<_;P++){D[P]=E.length;var k=P+1;for(V=l[P],q=l[P+1],O=V;O<q;O++)L=s[O],I[L]=k,N[L]=u[O],E.push(L);for(V=h[P],q=h[P+1],O=V;O<q;O++)L=m[O],I[L]===k&&(N[L]=x(N[L],p[O]));for(O=D[P];O<E.length;){L=E[O];var Y=N[L];w(Y,S)?E.splice(O,1):(C.push(Y),O++)}}return D[_]=E.length,i.createSparseMatrix({values:C,index:E,ptr:D,size:[y,_],datatype:f===i._datatype&&g===a._datatype?b:void 0})}});var bl=T("useMatrixForArrayScalar",["typed","matrix"],r=>{var{typed:e,matrix:t}=r;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(t(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(t(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf())}});var XF="leftShift",PJ=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],hx=T(XF,PJ,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,u=qn({typed:e}),s=rn({typed:e,equalScalar:n}),l=yl({typed:e,equalScalar:n}),c=hi({typed:e,DenseMatrix:a}),f=dr({typed:e,equalScalar:n}),p=tn({typed:e}),m=Nt({typed:e,matrix:t,concat:o}),h=bl({typed:e,matrix:t});return e(XF,{"number, number":Uy,"BigNumber, BigNumber":$M,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,y)=>n(y,0)?g.clone():f(g,y,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,y)=>n(y,0)?g.clone():p(g,y,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,y)=>n(g,0)?i(y.size(),y.storage()):c(y,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,y)=>n(g,0)?i(y.size(),y.storage()):p(y,g,d,!0))},h,m({SS:l,DS:u,SD:s}))});var QF="rightArithShift",OJ=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],gx=T(QF,OJ,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,u=qn({typed:e}),s=rn({typed:e,equalScalar:n}),l=yl({typed:e,equalScalar:n}),c=hi({typed:e,DenseMatrix:a}),f=dr({typed:e,equalScalar:n}),p=tn({typed:e}),m=Nt({typed:e,matrix:t,concat:o}),h=bl({typed:e,matrix:t});return e(QF,{"number, number":$y,"BigNumber, BigNumber":qM,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,y)=>n(y,0)?g.clone():f(g,y,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,y)=>n(y,0)?g.clone():p(g,y,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,y)=>n(g,0)?i(y.size(),y.storage()):c(y,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,y)=>n(g,0)?i(y.size(),y.storage()):p(y,g,d,!0))},h,m({SS:l,DS:u,SD:s}))});var KF="rightLogShift",kJ=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],vx=T(KF,kJ,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,u=qn({typed:e}),s=rn({typed:e,equalScalar:n}),l=yl({typed:e,equalScalar:n}),c=hi({typed:e,DenseMatrix:a}),f=dr({typed:e,equalScalar:n}),p=tn({typed:e}),m=Nt({typed:e,matrix:t,concat:o}),h=bl({typed:e,matrix:t});return e(KF,{"number, number":qy,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,y)=>n(y,0)?g.clone():f(g,y,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,y)=>n(y,0)?g.clone():p(g,y,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,y)=>n(g,0)?i(y.size(),y.storage()):c(y,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,y)=>n(g,0)?i(y.size(),y.storage()):p(y,g,d,!0))},h,m({SS:l,DS:u,SD:s}))});var e2="and",RJ=["typed","matrix","equalScalar","zeros","not","concat"],kc=T(e2,RJ,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,u=rn({typed:e,equalScalar:n}),s=ns({typed:e,equalScalar:n}),l=dr({typed:e,equalScalar:n}),c=tn({typed:e}),f=Nt({typed:e,matrix:t,concat:o});return e(e2,{"number, number":jy,"Complex, Complex":function(m,h){return(m.re!==0||m.im!==0)&&(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(m,h){return!m.isZero()&&!h.isZero()&&!m.isNaN()&&!h.isNaN()},"Unit, Unit":e.referToSelf(p=>(m,h)=>p(m.value||0,h.value||0)),"SparseMatrix, any":e.referToSelf(p=>(m,h)=>a(h)?i(m.size(),m.storage()):l(m,h,p,!1)),"DenseMatrix, any":e.referToSelf(p=>(m,h)=>a(h)?i(m.size(),m.storage()):c(m,h,p,!1)),"any, SparseMatrix":e.referToSelf(p=>(m,h)=>a(m)?i(m.size(),m.storage()):l(h,m,p,!0)),"any, DenseMatrix":e.referToSelf(p=>(m,h)=>a(m)?i(m.size(),m.storage()):c(h,m,p,!0)),"Array, any":e.referToSelf(p=>(m,h)=>p(t(m),h).valueOf()),"any, Array":e.referToSelf(p=>(m,h)=>p(m,t(h)).valueOf())},f({SS:s,DS:u}))});var Lm="compare",LJ=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],yx=T(Lm,LJ,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:u,concat:s}=r,l=Er({typed:e}),c=rs({typed:e,equalScalar:n}),f=nr({typed:e,DenseMatrix:u}),p=Nt({typed:e,matrix:i,concat:s}),m=Zi({typed:e});return e(Lm,VJ({typed:e,config:t}),{"boolean, boolean":function(d,g){return d===g?0:d>g?1:-1},"BigNumber, BigNumber":function(d,g){return sn(d,g,t.epsilon)?new a(0):new a(d.cmp(g))},"Fraction, Fraction":function(d,g){return new o(d.compare(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},m,p({SS:c,DS:l,Ss:f}))}),VJ=T(Lm,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Lm,{"number, number":function(i,a){return $r(i,a,t.epsilon)?0:i>a?1:-1}})});var au=hr(r2(),1);var n2="compareNatural",UJ=["typed","compare"],bx=T(n2,UJ,r=>{var{typed:e,compare:t}=r,n=t.signatures["boolean,boolean"];return e(n2,{"any, any":i});function i(s,l){var c=Wt(s),f=Wt(l),p;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return p=t(s,l),p.toString()!=="0"?p>0?1:-1:(0,au.default)(c,f);var m=["Array","DenseMatrix","SparseMatrix"];if(m.includes(c)||m.includes(f))return p=a(i,s,l),p!==0?p:(0,au.default)(c,f);if(c!==f)return(0,au.default)(c,f);if(c==="Complex")return $J(s,l);if(c==="Unit")return s.equalBase(l)?i(s.value,l.value):o(i,s.formatUnits(),l.formatUnits());if(c==="boolean")return n(s,l);if(c==="string")return(0,au.default)(s,l);if(c==="Object")return u(i,s,l);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(s,l,c){return ha(l)&&ha(c)?o(s,l.toJSON().values,c.toJSON().values):ha(l)?a(s,l.toArray(),c):ha(c)?a(s,l,c.toArray()):Xs(l)?a(s,l.toJSON().data,c):Xs(c)?a(s,l,c.toJSON().data):Array.isArray(l)?Array.isArray(c)?o(s,l,c):a(s,l,[c]):a(s,[l],c)}function o(s,l,c){for(var f=0,p=Math.min(l.length,c.length);f<p;f++){var m=s(l[f],c[f]);if(m!==0)return m}return l.length>c.length?1:l.length<c.length?-1:0}function u(s,l,c){var f=Object.keys(l),p=Object.keys(c);f.sort(au.default),p.sort(au.default);var m=o(s,f,p);if(m!==0)return m;for(var h=0;h<f.length;h++){var d=s(l[f[h]],c[p[h]]);if(d!==0)return d}return 0}});function $J(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0}var i2="compareText",qJ=["typed","matrix","concat"];hm.signature="any, any";var xx=T(i2,qJ,r=>{var{typed:e,matrix:t,concat:n}=r,i=Nt({typed:e,matrix:t,concat:n});return e(i2,hm,i({elop:hm,Ds:!0}))});var Vm="equal",zJ=["typed","matrix","equalScalar","DenseMatrix","concat"],wx=T(Vm,zJ,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Er({typed:e}),u=pn({typed:e,DenseMatrix:i}),s=nr({typed:e,DenseMatrix:i}),l=Nt({typed:e,matrix:t,concat:a});return e(Vm,HJ({typed:e,equalScalar:n}),l({elop:n,SS:u,DS:o,Ss:s}))}),HJ=T(Vm,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(Vm,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:t(i,a)}})});var a2="equalText",GJ=["typed","compareText","isZero"],_x=T(a2,GJ,r=>{var{typed:e,compareText:t,isZero:n}=r;return e(a2,{"any, any":function(a,o){return n(t(a,o))}})});var Um="smaller",WJ=["typed","config","matrix","DenseMatrix","concat"],Sx=T(Um,WJ,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=Er({typed:e}),u=pn({typed:e,DenseMatrix:i}),s=nr({typed:e,DenseMatrix:i}),l=Nt({typed:e,matrix:n,concat:a}),c=Zi({typed:e});return e(Um,YJ({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<p,"BigNumber, BigNumber":function(p,m){return p.lt(m)&&!sn(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===-1,"Complex, Complex":function(p,m){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:u,DS:o,Ss:s}))}),YJ=T(Um,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Um,{"number, number":function(i,a){return i<a&&!$r(i,a,t.epsilon)}})});var $m="smallerEq",jJ=["typed","config","matrix","DenseMatrix","concat"],Ax=T($m,jJ,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=Er({typed:e}),u=pn({typed:e,DenseMatrix:i}),s=nr({typed:e,DenseMatrix:i}),l=Nt({typed:e,matrix:n,concat:a}),c=Zi({typed:e});return e($m,ZJ({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<=p,"BigNumber, BigNumber":function(p,m){return p.lte(m)||sn(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:u,DS:o,Ss:s}))}),ZJ=T($m,["typed","config"],r=>{var{typed:e,config:t}=r;return e($m,{"number, number":function(i,a){return i<=a||$r(i,a,t.epsilon)}})});var qm="larger",JJ=["typed","config","matrix","DenseMatrix","concat"],Dx=T(qm,JJ,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=Er({typed:e}),u=pn({typed:e,DenseMatrix:i}),s=nr({typed:e,DenseMatrix:i}),l=Nt({typed:e,matrix:n,concat:a}),c=Zi({typed:e});return e(qm,XJ({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>p,"BigNumber, BigNumber":function(p,m){return p.gt(m)&&!sn(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:u,DS:o,Ss:s}))}),XJ=T(qm,["typed","config"],r=>{var{typed:e,config:t}=r;return e(qm,{"number, number":function(i,a){return i>a&&!$r(i,a,t.epsilon)}})});var zm="largerEq",QJ=["typed","config","matrix","DenseMatrix","concat"],Ex=T(zm,QJ,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=Er({typed:e}),u=pn({typed:e,DenseMatrix:i}),s=nr({typed:e,DenseMatrix:i}),l=Nt({typed:e,matrix:n,concat:a}),c=Zi({typed:e});return e(zm,KJ({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>=p,"BigNumber, BigNumber":function(p,m){return p.gte(m)||sn(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:u,DS:o,Ss:s}))}),KJ=T(zm,["typed","config"],r=>{var{typed:e,config:t}=r;return e(zm,{"number, number":function(i,a){return i>=a||$r(i,a,t.epsilon)}})});var o2="deepEqual",eX=["typed","equal"],Nx=T(o2,eX,r=>{var{typed:e,equal:t}=r;return e(o2,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var u=0;u<o;u++)if(!n(i[u],a[u]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:t(i,a)}});var Hm="unequal",tX=["typed","config","equalScalar","matrix","DenseMatrix","concat"],Cx=T(Hm,tX,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,DenseMatrix:a,concat:o}=r,u=Er({typed:e}),s=pn({typed:e,DenseMatrix:a}),l=nr({typed:e,DenseMatrix:a}),c=Nt({typed:e,matrix:i,concat:o});return e(Hm,rX({typed:e,equalScalar:n}),c({elop:f,SS:s,DS:u,Ss:l}));function f(p,m){return!n(p,m)}}),rX=T(Hm,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(Hm,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!t(i,a)}})});var s2="partitionSelect",nX=["typed","isNumeric","isNaN","compare"],Tx=T(s2,nX,r=>{var{typed:e,isNumeric:t,isNaN:n,compare:i}=r,a=i,o=(l,c)=>-i(l,c);return e(s2,{"Array | Matrix, number":function(c,f){return u(c,f,a)},"Array | Matrix, number, string":function(c,f,p){if(p==="asc")return u(c,f,a);if(p==="desc")return u(c,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":u});function u(l,c,f){if(!tt(c)||c<0)throw new Error("k must be a non-negative integer");if(it(l)){var p=l.size();if(p.length>1)throw new Error("Only one dimensional matrices supported");return s(l.valueOf(),c,f)}if(Array.isArray(l))return s(l,c,f)}function s(l,c,f){if(c>=l.length)throw new Error("k out of bounds");for(var p=0;p<l.length;p++)if(t(l[p])&&n(l[p]))return l[p];for(var m=0,h=l.length-1;m<h;){for(var d=m,g=h,y=l[Math.floor(Math.random()*(h-m+1))+m];d<g;)if(f(l[d],y)>=0){var _=l[g];l[g]=l[d],l[d]=_,--g}else++d;f(l[d],y)>0&&--d,c<=d?h=d:m=d+1}return l[c]}});var u2="sort",iX=["typed","matrix","compare","compareNatural"],Mx=T(u2,iX,r=>{var{typed:e,matrix:t,compare:n,compareNatural:i}=r,a=n,o=(c,f)=>-n(c,f);return e(u2,{Array:function(f){return s(f),f.sort(a)},Matrix:function(f){return l(f),t(f.toArray().sort(a),f.storage())},"Array, function":function(f,p){return s(f),f.sort(p)},"Matrix, function":function(f,p){return l(f),t(f.toArray().sort(p),f.storage())},"Array, string":function(f,p){return s(f),f.sort(u(p))},"Matrix, string":function(f,p){return l(f),t(f.toArray().sort(u(p)),f.storage())}});function u(c){if(c==="asc")return a;if(c==="desc")return o;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function s(c){if(vt(c).length!==1)throw new Error("One dimensional array expected")}function l(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}});var l2="max",aX=["typed","config","numeric","larger"],Rc=T(l2,aX,r=>{var{typed:e,config:t,numeric:n,larger:i}=r;return e(l2,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(s,l){return ts(s,l.valueOf(),a)},"...":function(s){if(ji(s))throw new TypeError("Scalar values expected in function max");return o(s)}});function a(u,s){try{return i(u,s)?u:s}catch(l){throw Wr(l,"max",s)}}function o(u){var s;if($n(u,function(l){try{isNaN(l)&&typeof l=="number"?s=NaN:(s===void 0||i(l,s))&&(s=l)}catch(c){throw Wr(c,"max",l)}}),s===void 0)throw new Error("Cannot calculate max of an empty array");return typeof s=="string"&&(s=n(s,t.number)),s}});var c2="min",oX=["typed","config","numeric","smaller"],Lc=T(c2,oX,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r;return e(c2,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(s,l){return ts(s,l.valueOf(),a)},"...":function(s){if(ji(s))throw new TypeError("Scalar values expected in function min");return o(s)}});function a(u,s){try{return i(u,s)?u:s}catch(l){throw Wr(l,"min",s)}}function o(u){var s;if($n(u,function(l){try{isNaN(l)&&typeof l=="number"?s=NaN:(s===void 0||i(l,s))&&(s=l)}catch(c){throw Wr(c,"min",l)}}),s===void 0)throw new Error("Cannot calculate min of an empty array");return typeof s=="string"&&(s=n(s,t.number)),s}});var sX="ImmutableDenseMatrix",uX=["smaller","DenseMatrix"],Fx=T(sX,uX,r=>{var{smaller:e,DenseMatrix:t}=r;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Hr(a))throw new Error("Invalid datatype: "+a);if(it(i)||Jt(i)){var o=new t(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Jt(i.data)&&Jt(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min!="undefined"?i.min:null,this._max=typeof i.max!="undefined"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Wt(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new t,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=t.prototype.subset.call(this,i);return it(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:dt(this._data),size:dt(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});var lX="Index",cX=["ImmutableDenseMatrix","getMatrixDataType"],Ix=T(lX,cX,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=r;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,u=arguments.length;o<u;o++){var s=arguments[o],l=Jt(s),c=it(s),f=null;if(tl(s))this._dimensions.push(s),this._isScalar=!1;else if(l||c){var p=void 0;t(s)==="boolean"?(l&&(p=i(f2(s).valueOf())),c&&(p=i(f2(s._data).valueOf())),f=s.valueOf().length):p=i(s.valueOf()),this._dimensions.push(p);var m=p.size();(m.length!==1||m[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof s=="number")this._dimensions.push(i([s]));else if(typeof s=="string")this._dimensions.push(s);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var o=0,u=a.length;o<u;o++)if(typeof a[o]!="number"||!tt(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=dt(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var s=this._dimensions[o];a[o]=typeof s=="string"?1:s.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var s=this._dimensions[o];a[o]=typeof s=="string"?s:s.max()}return a},n.prototype.min=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var s=this._dimensions[o];a[o]=typeof s=="string"?s:s.min()}return a},n.prototype.forEach=function(a){for(var o=0,u=this._dimensions.length;o<u;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var s=this._dimensions[o];a.push(typeof s=="string"?s:s.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var s=this._dimensions[o];typeof s=="string"?a.push(JSON.stringify(s)):a.push(s.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function f2(r){var e=[];return r.forEach((t,n)=>{t&&e.push(n)}),e}var fX="FibonacciHeap",pX=["smaller","larger"],Bx=T(fX,pX,r=>{var{smaller:e,larger:t}=r,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var p={key:c,value:f,degree:0};if(this._minimum){var m=this._minimum;p.left=m,p.right=m.right,m.right=p,p.right.left=p,e(c,m.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,p=c.degree,m=c.child;p>0;){var h=m.right;m.left.right=m.right,m.right.left=m.left,m.left=f,m.right=f.right,f.right=m,m.right.left=m,m.parent=null,m=h,p--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=l(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,f,p){f.key=p;var m=f.parent;return m&&e(f.key,m.key)&&(o(c,f,m),u(c,m)),e(f.key,c.key)&&(c=f),c}function o(c,f,p){f.left.right=f.right,f.right.left=f.left,p.degree--,p.child===f&&(p.child=f.right),p.degree===0&&(p.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function u(c,f){var p=f.parent;p&&(f.mark?(o(c,f,p),u(p)):f.mark=!0)}var s=function(f,p){f.left.right=f.right,f.right.left=f.left,f.parent=p,p.child?(f.left=p.child,f.right=p.child.right,p.child.right=f,f.right.left=f):(p.child=f,f.right=f,f.left=f),p.degree++,f.mark=!1};function l(c,f){var p=Math.floor(Math.log(f)*n)+1,m=new Array(p),h=0,d=c;if(d)for(h++,d=d.right;d!==c;)h++,d=d.right;for(var g;h>0;){for(var y=d.degree,_=d.right;g=m[y],!!g;){if(t(d.key,g.key)){var b=g;g=d,d=b}s(g,d),m[y]=null,y++}m[y]=d,d=_,h--}c=null;for(var w=0;w<p;w++)g=m[w],g&&(c?(g.left.right=g.right,g.right.left=g.left,g.left=c,g.right=c.right,c.right=g,g.right.left=g,e(g.key,c.key)&&(c=g)):c=g);return c}return i},{isClass:!0});var mX="Spa",dX=["addScalar","equalScalar","FibonacciHeap"],Px=T(mX,dX,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:n}=r;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var u=this._heap.insert(a,o);this._values[a]=u}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var u=this._values[a];u?u.value=e(u.value,o):(u=this._heap.insert(a,o),this._values[a]=u)},i.prototype.forEach=function(a,o,u){var s=this._heap,l=this._values,c=[],f=s.extractMinimum();for(f&&c.push(f);f&&f.key<=o;)f.key>=a&&(t(f.value,0)||u(f.key,f.value,this)),f=s.extractMinimum(),f&&c.push(f);for(var p=0;p<c.length;p++){var m=c[p];f=s.insert(m.key,m.value),l[f.key]=f}},i.prototype.swap=function(a,o){var u=this._values[a],s=this._values[o];if(!u&&s)u=this._heap.insert(a,s.value),this._heap.remove(s),this._values[a]=u,this._values[o]=void 0;else if(u&&!s)s=this._heap.insert(o,u.value),this._heap.remove(u),this._values[o]=s,this._values[a]=void 0;else if(u&&s){var l=u.value;u.value=s.value,s.value=l}},i},{isClass:!0});var p2=ru(function(r){return new r(1).exp()},{hasher:Gm}),m2=ru(function(r){return new r(1).plus(new r(5).sqrt()).div(2)},{hasher:Gm}),Vc=ru(function(r){return r.acos(-1)},{hasher:Gm}),d2=ru(function(r){return Vc(r).times(2)},{hasher:Gm});function Gm(r){return r[0].precision}function h2(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ox(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(t),!0).forEach(function(n){ir(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):h2(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var hX="Unit",gX=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],kx=T(hX,gX,r=>{var{on:e,config:t,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:u,abs:s,fix:l,round:c,equal:f,isNumeric:p,format:m,number:h,Complex:d,BigNumber:g,Fraction:y}=r,_=h;function b(J,ee){if(!(this instanceof b))throw new Error("Constructor must be called with the new operator");if(!(J==null||p(J)||ri(J)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,ee===void 0)this.units=[],this.dimensions=Y.map(H=>0);else if(typeof ee=="string"){var ye=b.parse(ee);this.units=ye.units,this.dimensions=ye.dimensions}else if(Cn(ee)&&ee.value===null)this.fixPrefix=ee.fixPrefix,this.skipAutomaticSimplification=ee.skipAutomaticSimplification,this.dimensions=ee.dimensions.slice(0),this.units=ee.units.map(H=>Or({},H));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(J)}Object.defineProperty(b,"name",{value:"Unit"}),b.prototype.constructor=b,b.prototype.type="Unit",b.prototype.isUnit=!0;var w,S,x;function C(){for(;x===" "||x==="	";)N()}function E(J){return J>="0"&&J<="9"||J==="."}function D(J){return J>="0"&&J<="9"}function N(){S++,x=w.charAt(S)}function I(J){S=J,x=w.charAt(S)}function O(){var J="",ee=S;if(x==="+"?N():x==="-"&&(J+=x,N()),!E(x))return I(ee),null;if(x==="."){if(J+=x,N(),!D(x))return I(ee),null}else{for(;D(x);)J+=x,N();x==="."&&(J+=x,N())}for(;D(x);)J+=x,N();if(x==="E"||x==="e"){var ye="",H=S;if(ye+=x,N(),(x==="+"||x==="-")&&(ye+=x,N()),!D(x))return I(H),J;for(J=J+ye;D(x);)J+=x,N()}return J}function V(){for(var J="";D(x)||b.isValidAlpha(x);)J+=x,N();var ee=J.charAt(0);return b.isValidAlpha(ee)?J:null}function q(J){return x===J?(N(),J):null}b.parse=function(J,ee){if(ee=ee||{},w=J,S=-1,x="",typeof w!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var ye=new b;ye.units=[];var H=1,te=!1;N(),C();var se=O(),Ce=null;if(se){if(t.number==="BigNumber")Ce=new g(se);else if(t.number==="Fraction")try{Ce=new y(se)}catch(Se){Ce=parseFloat(se)}else Ce=parseFloat(se);C(),q("*")?(H=1,te=!0):q("/")&&(H=-1,te=!0)}for(var Te=[],Ye=1;;){for(C();x==="(";)Te.push(H),Ye*=H,H=1,N(),C();var Me=void 0;if(x){var et=x;if(Me=V(),Me===null)throw new SyntaxError('Unexpected "'+et+'" in "'+w+'" at index '+S.toString())}else break;var At=L(Me);if(At===null)throw new SyntaxError('Unit "'+Me+'" not found.');var _e=H*Ye;if(C(),q("^")){C();var Ue=O();if(Ue===null)throw new SyntaxError('In "'+J+'", "^" must be followed by a floating-point number');_e*=Ue}ye.units.push({unit:At.unit,prefix:At.prefix,power:_e});for(var re=0;re<Y.length;re++)ye.dimensions[re]+=(At.unit.dimensions[re]||0)*_e;for(C();x===")";){if(Te.length===0)throw new SyntaxError('Unmatched ")" in "'+w+'" at index '+S.toString());Ye/=Te.pop(),N(),C()}if(te=!1,q("*")?(H=1,te=!0):q("/")?(H=-1,te=!0):H=1,At.unit.base){var me=At.unit.base.key;pe.auto[me]={unit:At.unit,prefix:At.prefix}}}if(C(),x)throw new SyntaxError('Could not parse: "'+J+'"');if(te)throw new SyntaxError('Trailing characters: "'+J+'"');if(Te.length!==0)throw new SyntaxError('Unmatched "(" in "'+w+'"');if(ye.units.length===0&&!ee.allowNoUnits)throw new SyntaxError('"'+J+'" contains no units');return ye.value=Ce!==void 0?ye._normalize(Ce):null,ye},b.prototype.clone=function(){var J=new b;J.fixPrefix=this.fixPrefix,J.skipAutomaticSimplification=this.skipAutomaticSimplification,J.value=dt(this.value),J.dimensions=this.dimensions.slice(0),J.units=[];for(var ee=0;ee<this.units.length;ee++){J.units[ee]={};for(var ye in this.units[ee])ot(this.units[ee],ye)&&(J.units[ee][ye]=this.units[ee][ye])}return J},b.prototype.valueType=function(){return Wt(this.value)},b.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},b.prototype._normalize=function(J){if(J==null||this.units.length===0)return J;for(var ee=J,ye=b._getNumberConverter(Wt(J)),H=0;H<this.units.length;H++){var te=ye(this.units[H].unit.value),se=ye(this.units[H].prefix.value),Ce=ye(this.units[H].power);ee=a(ee,u(a(te,se),Ce))}return ee},b.prototype._denormalize=function(J,ee){if(J==null||this.units.length===0)return J;for(var ye=J,H=b._getNumberConverter(Wt(J)),te=0;te<this.units.length;te++){var se=H(this.units[te].unit.value),Ce=H(this.units[te].prefix.value),Te=H(this.units[te].power);ye=o(ye,u(a(se,Ce),Te))}return ye};var L=ru(J=>{if(ot(U,J)){var ee=U[J],ye=ee.prefixes[""];return{unit:ee,prefix:ye}}for(var H in U)if(ot(U,H)&&cT(J,H)){var te=U[H],se=J.length-H.length,Ce=J.substring(0,se),Te=ot(te.prefixes,Ce)?te.prefixes[Ce]:void 0;if(Te!==void 0)return{unit:te,prefix:Te}}return null},{hasher:J=>J[0],limit:100});b.isValuelessUnit=function(J){return L(J)!==null},b.prototype.hasBase=function(J){if(typeof J=="string"&&(J=B[J]),!J)return!1;for(var ee=0;ee<Y.length;ee++)if(Math.abs((this.dimensions[ee]||0)-(J.dimensions[ee]||0))>1e-12)return!1;return!0},b.prototype.equalBase=function(J){for(var ee=0;ee<Y.length;ee++)if(Math.abs((this.dimensions[ee]||0)-(J.dimensions[ee]||0))>1e-12)return!1;return!0},b.prototype.equals=function(J){return this.equalBase(J)&&f(this.value,J.value)},b.prototype.multiply=function(J){for(var ee=this.clone(),ye=Cn(J)?J:new b(J),H=0;H<Y.length;H++)ee.dimensions[H]=(this.dimensions[H]||0)+(ye.dimensions[H]||0);for(var te=0;te<ye.units.length;te++){var se=Ox({},ye.units[te]);ee.units.push(se)}if(this.value!==null||ye.value!==null){var Ce=this.value===null?this._normalize(1):this.value,Te=ye.value===null?ye._normalize(1):ye.value;ee.value=a(Ce,Te)}else ee.value=null;return Cn(J)&&(ee.skipAutomaticSimplification=!1),P(ee)},b.prototype.divideInto=function(J){return new b(J).divide(this)},b.prototype.divide=function(J){for(var ee=this.clone(),ye=Cn(J)?J:new b(J),H=0;H<Y.length;H++)ee.dimensions[H]=(this.dimensions[H]||0)-(ye.dimensions[H]||0);for(var te=0;te<ye.units.length;te++){var se=Ox(Ox({},ye.units[te]),{},{power:-ye.units[te].power});ee.units.push(se)}if(this.value!==null||ye.value!==null){var Ce=this.value===null?this._normalize(1):this.value,Te=ye.value===null?ye._normalize(1):ye.value;ee.value=o(Ce,Te)}else ee.value=null;return Cn(J)&&(ee.skipAutomaticSimplification=!1),P(ee)},b.prototype.pow=function(J){for(var ee=this.clone(),ye=0;ye<Y.length;ye++)ee.dimensions[ye]=(this.dimensions[ye]||0)*J;for(var H=0;H<ee.units.length;H++)ee.units[H].power*=J;return ee.value!==null?ee.value=u(ee.value,J):ee.value=null,ee.skipAutomaticSimplification=!1,P(ee)};function P(J){return J.equalBase(B.NONE)&&J.value!==null&&!t.predictable?J.value:J}b.prototype.abs=function(){var J=this.clone();if(J.value!==null)if(J._isDerived()||J.units.length===0||J.units[0].unit.offset===0)J.value=s(J.value);else{var ee=J._numberConverter(),ye=ee(J.units[0].unit.value),H=ee(J.units[0].unit.offset),te=a(ye,H);J.value=i(s(n(J.value,te)),te)}for(var se in J.units)(J.units[se].unit.name==="VA"||J.units[se].unit.name==="VAR")&&(J.units[se].unit=U.W);return J},b.prototype.to=function(J){var ee=this.value===null?this._normalize(1):this.value,ye;if(typeof J=="string")ye=b.parse(J);else if(Cn(J))ye=J.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(ye))throw new Error("Units do not match ('".concat(ye.toString(),"' != '").concat(this.toString(),"')"));if(ye.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||ye.units.length===0||this.units[0].unit.offset===ye.units[0].unit.offset)ye.value=dt(ee);else{var H=b._getNumberConverter(Wt(ee)),te=this.units[0].unit.value,se=this.units[0].unit.offset,Ce=a(te,se),Te=ye.units[0].unit.value,Ye=ye.units[0].unit.offset,Me=a(Te,Ye);ye.value=n(ee,H(i(Ce,Me)))}return ye.fixPrefix=!0,ye.skipAutomaticSimplification=!0,ye},b.prototype.toNumber=function(J){return _(this.toNumeric(J))},b.prototype.toNumeric=function(J){var ee;return J?ee=this.to(J):ee=this.clone(),ee._isDerived()||ee.units.length===0?ee._denormalize(ee.value):ee._denormalize(ee.value,ee.units[0].prefix.value)},b.prototype.toString=function(){return this.format()},b.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},b.fromJSON=function(J){var ee=new b(J.value,J.unit);return ee.fixPrefix=J.fixPrefix||!1,ee},b.prototype.valueOf=b.prototype.toString,b.prototype.simplify=function(){var J=this.clone(),ee=[],ye;for(var H in he)if(ot(he,H)&&J.hasBase(B[H])){ye=H;break}if(ye==="NONE")J.units=[];else{var te;if(ye&&ot(he,ye)&&(te=he[ye]),te)J.units=[{unit:te.unit,prefix:te.prefix,power:1}];else{for(var se=!1,Ce=0;Ce<Y.length;Ce++){var Te=Y[Ce];Math.abs(J.dimensions[Ce]||0)>1e-12&&(ot(he,Te)?ee.push({unit:he[Te].unit,prefix:he[Te].prefix,power:J.dimensions[Ce]||0}):se=!0)}ee.length<J.units.length&&!se&&(J.units=ee)}}return J},b.prototype.toSI=function(){for(var J=this.clone(),ee=[],ye=0;ye<Y.length;ye++){var H=Y[ye];if(Math.abs(J.dimensions[ye]||0)>1e-12)if(ot(pe.si,H))ee.push({unit:pe.si[H].unit,prefix:pe.si[H].prefix,power:J.dimensions[ye]||0});else throw new Error("Cannot express custom unit "+H+" in SI units")}return J.units=ee,J.fixPrefix=!0,J.skipAutomaticSimplification=!0,this.value!==null?(J.value=null,this.to(J)):J},b.prototype.formatUnits=function(){for(var J="",ee="",ye=0,H=0,te=0;te<this.units.length;te++)this.units[te].power>0?(ye++,J+=" "+this.units[te].prefix.name+this.units[te].unit.name,Math.abs(this.units[te].power-1)>1e-15&&(J+="^"+this.units[te].power)):this.units[te].power<0&&H++;if(H>0)for(var se=0;se<this.units.length;se++)this.units[se].power<0&&(ye>0?(ee+=" "+this.units[se].prefix.name+this.units[se].unit.name,Math.abs(this.units[se].power+1)>1e-15&&(ee+="^"+-this.units[se].power)):(ee+=" "+this.units[se].prefix.name+this.units[se].unit.name,ee+="^"+this.units[se].power));J=J.substr(1),ee=ee.substr(1),ye>1&&H>0&&(J="("+J+")"),H>1&&ye>0&&(ee="("+ee+")");var Ce=J;return ye>0&&H>0&&(Ce+=" / "),Ce+=ee,Ce},b.prototype.format=function(J){var ee=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),ye=!1;typeof ee.value!="undefined"&&ee.value!==null&&ri(ee.value)&&(ye=Math.abs(ee.value.re)<1e-14);for(var H in ee.units)ot(ee.units,H)&&ee.units[H].unit&&(ee.units[H].unit.name==="VA"&&ye?ee.units[H].unit=U.VAR:ee.units[H].unit.name==="VAR"&&!ye&&(ee.units[H].unit=U.VA));ee.units.length===1&&!ee.fixPrefix&&Math.abs(ee.units[0].power-Math.round(ee.units[0].power))<1e-14&&(ee.units[0].prefix=ee._bestPrefix());var te=ee._denormalize(ee.value),se=ee.value!==null?m(te,J||{}):"",Ce=ee.formatUnits();return ee.value&&ri(ee.value)&&(se="("+se+")"),Ce.length>0&&se.length>0&&(se+=" "),se+=Ce,se},b.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var J=this.value!==null?s(this.value):0,ee=s(this.units[0].unit.value),ye=this.units[0].prefix;if(J===0)return ye;var H=this.units[0].power,te=Math.log(J/Math.pow(ye.value*ee,H))/Math.LN10-1.2;if(te>-2.200001&&te<1.800001)return ye;te=Math.abs(te);var se=this.units[0].unit.prefixes;for(var Ce in se)if(ot(se,Ce)){var Te=se[Ce];if(Te.scientific){var Ye=Math.abs(Math.log(J/Math.pow(Te.value*ee,H))/Math.LN10-1.2);(Ye<te||Ye===te&&Te.name.length<ye.name.length)&&(ye=Te,te=Ye)}}return ye},b.prototype.splitUnit=function(J){for(var ee=this.clone(),ye=[],H=0;H<J.length&&(ee=ee.to(J[H]),H!==J.length-1);H++){var te=ee.toNumeric(),se=c(te),Ce=void 0,Te=f(se,te);Te?Ce=se:Ce=l(ee.toNumeric());var Ye=new b(Ce,J[H].toString());ye.push(Ye),ee=i(ee,Ye)}for(var Me=0,et=0;et<ye.length;et++)Me=n(Me,ye[et].value);return f(Me,this.value)&&(ee.value=0),ye.push(ee),ye};var k={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};k.SHORTLONG=Or({},k.SHORT,k.LONG),k.BINARY_SHORT=Or({},k.BINARY_SHORT_SI,k.BINARY_SHORT_IEC),k.BINARY_LONG=Or({},k.BINARY_LONG_SI,k.BINARY_LONG_IEC);var Y=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],B={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var Z in B)ot(B,Z)&&(B[Z].key=Z);var oe={},ne={name:"",base:oe,value:1,offset:0,dimensions:Y.map(J=>0)},U={meter:{name:"meter",base:B.LENGTH,prefixes:k.LONG,value:1,offset:0},inch:{name:"inch",base:B.LENGTH,prefixes:k.NONE,value:.0254,offset:0},foot:{name:"foot",base:B.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yard:{name:"yard",base:B.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mile:{name:"mile",base:B.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},link:{name:"link",base:B.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rod:{name:"rod",base:B.LENGTH,prefixes:k.NONE,value:5.0292,offset:0},chain:{name:"chain",base:B.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:B.LENGTH,prefixes:k.NONE,value:1e-10,offset:0},m:{name:"m",base:B.LENGTH,prefixes:k.SHORT,value:1,offset:0},in:{name:"in",base:B.LENGTH,prefixes:k.NONE,value:.0254,offset:0},ft:{name:"ft",base:B.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yd:{name:"yd",base:B.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mi:{name:"mi",base:B.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},li:{name:"li",base:B.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rd:{name:"rd",base:B.LENGTH,prefixes:k.NONE,value:5.02921,offset:0},ch:{name:"ch",base:B.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},mil:{name:"mil",base:B.LENGTH,prefixes:k.NONE,value:254e-7,offset:0},m2:{name:"m2",base:B.SURFACE,prefixes:k.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:B.SURFACE,prefixes:k.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:B.SURFACE,prefixes:k.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:B.SURFACE,prefixes:k.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:B.SURFACE,prefixes:k.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:B.SURFACE,prefixes:k.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:B.SURFACE,prefixes:k.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:B.SURFACE,prefixes:k.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:B.SURFACE,prefixes:k.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:B.SURFACE,prefixes:k.NONE,value:1e4,offset:0},m3:{name:"m3",base:B.VOLUME,prefixes:k.CUBIC,value:1,offset:0},L:{name:"L",base:B.VOLUME,prefixes:k.SHORT,value:.001,offset:0},l:{name:"l",base:B.VOLUME,prefixes:k.SHORT,value:.001,offset:0},litre:{name:"litre",base:B.VOLUME,prefixes:k.LONG,value:.001,offset:0},cuin:{name:"cuin",base:B.VOLUME,prefixes:k.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:B.VOLUME,prefixes:k.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:B.VOLUME,prefixes:k.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:B.VOLUME,prefixes:k.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:B.VOLUME,prefixes:k.NONE,value:15e-6,offset:0},drop:{name:"drop",base:B.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:B.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},minim:{name:"minim",base:B.VOLUME,prefixes:k.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:B.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:B.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:B.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:B.VOLUME,prefixes:k.NONE,value:1e-6,offset:0},cup:{name:"cup",base:B.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:B.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:B.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:B.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:B.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:B.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:B.VOLUME,prefixes:k.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:B.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:B.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:B.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:B.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:B.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:B.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:B.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:B.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},obl:{name:"obl",base:B.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},g:{name:"g",base:B.MASS,prefixes:k.SHORT,value:.001,offset:0},gram:{name:"gram",base:B.MASS,prefixes:k.LONG,value:.001,offset:0},ton:{name:"ton",base:B.MASS,prefixes:k.SHORT,value:907.18474,offset:0},t:{name:"t",base:B.MASS,prefixes:k.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:B.MASS,prefixes:k.LONG,value:1e3,offset:0},grain:{name:"grain",base:B.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:B.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:B.MASS,prefixes:k.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:B.MASS,prefixes:k.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:B.MASS,prefixes:k.NONE,value:45.359237,offset:0},stick:{name:"stick",base:B.MASS,prefixes:k.NONE,value:.115,offset:0},stone:{name:"stone",base:B.MASS,prefixes:k.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:B.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:B.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:B.MASS,prefixes:k.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:B.MASS,prefixes:k.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:B.MASS,prefixes:k.NONE,value:45.359237,offset:0},s:{name:"s",base:B.TIME,prefixes:k.SHORT,value:1,offset:0},min:{name:"min",base:B.TIME,prefixes:k.NONE,value:60,offset:0},h:{name:"h",base:B.TIME,prefixes:k.NONE,value:3600,offset:0},second:{name:"second",base:B.TIME,prefixes:k.LONG,value:1,offset:0},sec:{name:"sec",base:B.TIME,prefixes:k.LONG,value:1,offset:0},minute:{name:"minute",base:B.TIME,prefixes:k.NONE,value:60,offset:0},hour:{name:"hour",base:B.TIME,prefixes:k.NONE,value:3600,offset:0},day:{name:"day",base:B.TIME,prefixes:k.NONE,value:86400,offset:0},week:{name:"week",base:B.TIME,prefixes:k.NONE,value:7*86400,offset:0},month:{name:"month",base:B.TIME,prefixes:k.NONE,value:2629800,offset:0},year:{name:"year",base:B.TIME,prefixes:k.NONE,value:31557600,offset:0},decade:{name:"decade",base:B.TIME,prefixes:k.NONE,value:315576e3,offset:0},century:{name:"century",base:B.TIME,prefixes:k.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:B.TIME,prefixes:k.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:B.FREQUENCY,prefixes:k.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:B.FREQUENCY,prefixes:k.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:B.ANGLE,prefixes:k.SHORT,value:1,offset:0},radian:{name:"radian",base:B.ANGLE,prefixes:k.LONG,value:1,offset:0},deg:{name:"deg",base:B.ANGLE,prefixes:k.SHORT,value:null,offset:0},degree:{name:"degree",base:B.ANGLE,prefixes:k.LONG,value:null,offset:0},grad:{name:"grad",base:B.ANGLE,prefixes:k.SHORT,value:null,offset:0},gradian:{name:"gradian",base:B.ANGLE,prefixes:k.LONG,value:null,offset:0},cycle:{name:"cycle",base:B.ANGLE,prefixes:k.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:B.ANGLE,prefixes:k.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:B.ANGLE,prefixes:k.NONE,value:null,offset:0},A:{name:"A",base:B.CURRENT,prefixes:k.SHORT,value:1,offset:0},ampere:{name:"ampere",base:B.CURRENT,prefixes:k.LONG,value:1,offset:0},K:{name:"K",base:B.TEMPERATURE,prefixes:k.SHORT,value:1,offset:0},degC:{name:"degC",base:B.TEMPERATURE,prefixes:k.SHORT,value:1,offset:273.15},degF:{name:"degF",base:B.TEMPERATURE,prefixes:k.SHORT,value:new y(5,9),offset:459.67},degR:{name:"degR",base:B.TEMPERATURE,prefixes:k.SHORT,value:new y(5,9),offset:0},kelvin:{name:"kelvin",base:B.TEMPERATURE,prefixes:k.LONG,value:1,offset:0},celsius:{name:"celsius",base:B.TEMPERATURE,prefixes:k.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:B.TEMPERATURE,prefixes:k.LONG,value:new y(5,9),offset:459.67},rankine:{name:"rankine",base:B.TEMPERATURE,prefixes:k.LONG,value:new y(5,9),offset:0},mol:{name:"mol",base:B.AMOUNT_OF_SUBSTANCE,prefixes:k.SHORT,value:1,offset:0},mole:{name:"mole",base:B.AMOUNT_OF_SUBSTANCE,prefixes:k.LONG,value:1,offset:0},cd:{name:"cd",base:B.LUMINOUS_INTENSITY,prefixes:k.SHORT,value:1,offset:0},candela:{name:"candela",base:B.LUMINOUS_INTENSITY,prefixes:k.LONG,value:1,offset:0},N:{name:"N",base:B.FORCE,prefixes:k.SHORT,value:1,offset:0},newton:{name:"newton",base:B.FORCE,prefixes:k.LONG,value:1,offset:0},dyn:{name:"dyn",base:B.FORCE,prefixes:k.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:B.FORCE,prefixes:k.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:B.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:B.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:B.FORCE,prefixes:k.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:B.FORCE,prefixes:k.NONE,value:9.80665,offset:0},J:{name:"J",base:B.ENERGY,prefixes:k.SHORT,value:1,offset:0},joule:{name:"joule",base:B.ENERGY,prefixes:k.LONG,value:1,offset:0},erg:{name:"erg",base:B.ENERGY,prefixes:k.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:B.ENERGY,prefixes:k.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:B.ENERGY,prefixes:k.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:B.ENERGY,prefixes:k.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:B.ENERGY,prefixes:k.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:B.POWER,prefixes:k.SHORT,value:1,offset:0},watt:{name:"watt",base:B.POWER,prefixes:k.LONG,value:1,offset:0},hp:{name:"hp",base:B.POWER,prefixes:k.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:B.POWER,prefixes:k.SHORT,value:d.I,offset:0},VA:{name:"VA",base:B.POWER,prefixes:k.SHORT,value:1,offset:0},Pa:{name:"Pa",base:B.PRESSURE,prefixes:k.SHORT,value:1,offset:0},psi:{name:"psi",base:B.PRESSURE,prefixes:k.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:B.PRESSURE,prefixes:k.NONE,value:101325,offset:0},bar:{name:"bar",base:B.PRESSURE,prefixes:k.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:B.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:B.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:B.PRESSURE,prefixes:k.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:B.PRESSURE,prefixes:k.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:B.ELECTRIC_CHARGE,prefixes:k.LONG,value:1,offset:0},C:{name:"C",base:B.ELECTRIC_CHARGE,prefixes:k.SHORT,value:1,offset:0},farad:{name:"farad",base:B.ELECTRIC_CAPACITANCE,prefixes:k.LONG,value:1,offset:0},F:{name:"F",base:B.ELECTRIC_CAPACITANCE,prefixes:k.SHORT,value:1,offset:0},volt:{name:"volt",base:B.ELECTRIC_POTENTIAL,prefixes:k.LONG,value:1,offset:0},V:{name:"V",base:B.ELECTRIC_POTENTIAL,prefixes:k.SHORT,value:1,offset:0},ohm:{name:"ohm",base:B.ELECTRIC_RESISTANCE,prefixes:k.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:B.ELECTRIC_INDUCTANCE,prefixes:k.LONG,value:1,offset:0},H:{name:"H",base:B.ELECTRIC_INDUCTANCE,prefixes:k.SHORT,value:1,offset:0},siemens:{name:"siemens",base:B.ELECTRIC_CONDUCTANCE,prefixes:k.LONG,value:1,offset:0},S:{name:"S",base:B.ELECTRIC_CONDUCTANCE,prefixes:k.SHORT,value:1,offset:0},weber:{name:"weber",base:B.MAGNETIC_FLUX,prefixes:k.LONG,value:1,offset:0},Wb:{name:"Wb",base:B.MAGNETIC_FLUX,prefixes:k.SHORT,value:1,offset:0},tesla:{name:"tesla",base:B.MAGNETIC_FLUX_DENSITY,prefixes:k.LONG,value:1,offset:0},T:{name:"T",base:B.MAGNETIC_FLUX_DENSITY,prefixes:k.SHORT,value:1,offset:0},b:{name:"b",base:B.BIT,prefixes:k.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:B.BIT,prefixes:k.BINARY_LONG,value:1,offset:0},B:{name:"B",base:B.BIT,prefixes:k.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:B.BIT,prefixes:k.BINARY_LONG,value:8,offset:0}},fe={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function Ee(J){if(J.number==="BigNumber"){var ee=Vc(g);U.rad.value=new g(1),U.deg.value=ee.div(180),U.grad.value=ee.div(200),U.cycle.value=ee.times(2),U.arcsec.value=ee.div(648e3),U.arcmin.value=ee.div(10800)}else U.rad.value=1,U.deg.value=Math.PI/180,U.grad.value=Math.PI/200,U.cycle.value=Math.PI*2,U.arcsec.value=Math.PI/648e3,U.arcmin.value=Math.PI/10800;U.radian.value=U.rad.value,U.degree.value=U.deg.value,U.gradian.value=U.grad.value}Ee(t),e&&e("config",function(J,ee){J.number!==ee.number&&Ee(J)});var pe={si:{NONE:{unit:ne,prefix:k.NONE[""]},LENGTH:{unit:U.m,prefix:k.SHORT[""]},MASS:{unit:U.g,prefix:k.SHORT.k},TIME:{unit:U.s,prefix:k.SHORT[""]},CURRENT:{unit:U.A,prefix:k.SHORT[""]},TEMPERATURE:{unit:U.K,prefix:k.SHORT[""]},LUMINOUS_INTENSITY:{unit:U.cd,prefix:k.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:U.mol,prefix:k.SHORT[""]},ANGLE:{unit:U.rad,prefix:k.SHORT[""]},BIT:{unit:U.bits,prefix:k.SHORT[""]},FORCE:{unit:U.N,prefix:k.SHORT[""]},ENERGY:{unit:U.J,prefix:k.SHORT[""]},POWER:{unit:U.W,prefix:k.SHORT[""]},PRESSURE:{unit:U.Pa,prefix:k.SHORT[""]},ELECTRIC_CHARGE:{unit:U.C,prefix:k.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:U.F,prefix:k.SHORT[""]},ELECTRIC_POTENTIAL:{unit:U.V,prefix:k.SHORT[""]},ELECTRIC_RESISTANCE:{unit:U.ohm,prefix:k.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:U.H,prefix:k.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:U.S,prefix:k.SHORT[""]},MAGNETIC_FLUX:{unit:U.Wb,prefix:k.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:U.T,prefix:k.SHORT[""]},FREQUENCY:{unit:U.Hz,prefix:k.SHORT[""]}}};pe.cgs=JSON.parse(JSON.stringify(pe.si)),pe.cgs.LENGTH={unit:U.m,prefix:k.SHORT.c},pe.cgs.MASS={unit:U.g,prefix:k.SHORT[""]},pe.cgs.FORCE={unit:U.dyn,prefix:k.SHORT[""]},pe.cgs.ENERGY={unit:U.erg,prefix:k.NONE[""]},pe.us=JSON.parse(JSON.stringify(pe.si)),pe.us.LENGTH={unit:U.ft,prefix:k.NONE[""]},pe.us.MASS={unit:U.lbm,prefix:k.NONE[""]},pe.us.TEMPERATURE={unit:U.degF,prefix:k.NONE[""]},pe.us.FORCE={unit:U.lbf,prefix:k.NONE[""]},pe.us.ENERGY={unit:U.BTU,prefix:k.BTU[""]},pe.us.POWER={unit:U.hp,prefix:k.NONE[""]},pe.us.PRESSURE={unit:U.psi,prefix:k.NONE[""]},pe.auto=JSON.parse(JSON.stringify(pe.si));var he=pe.auto;b.setUnitSystem=function(J){if(ot(pe,J))he=pe[J];else throw new Error("Unit system "+J+" does not exist. Choices are: "+Object.keys(pe).join(", "))},b.getUnitSystem=function(){for(var J in pe)if(ot(pe,J)&&pe[J]===he)return J},b.typeConverters={BigNumber:function(ee){return ee!=null&&ee.isFraction?new g(ee.n).div(ee.d).times(ee.s):new g(ee+"")},Fraction:function(ee){return new y(ee)},Complex:function(ee){return ee},number:function(ee){return ee!=null&&ee.isFraction?h(ee):ee}},b.prototype._numberConverter=function(){var J=b.typeConverters[this.valueType()];if(J)return J;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},b._getNumberConverter=function(J){if(!b.typeConverters[J])throw new TypeError('Unsupported type "'+J+'"');return b.typeConverters[J]};for(var De in U)if(ot(U,De)){var ve=U[De];ve.dimensions=ve.base.dimensions}for(var de in fe)if(ot(fe,de)){var Ae=U[fe[de]],Ne={};for(var ke in Ae)ot(Ae,ke)&&(Ne[ke]=Ae[ke]);Ne.name=de,U[de]=Ne}b.isValidAlpha=function(ee){return/^[a-zA-Z]$/.test(ee)};function nt(J){for(var ee=0;ee<J.length;ee++){if(x=J.charAt(ee),ee===0&&!b.isValidAlpha(x))throw new Error('Invalid unit name (must begin with alpha character): "'+J+'"');if(ee>0&&!(b.isValidAlpha(x)||D(x)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+J+'"')}}return b.createUnit=function(J,ee){if(typeof J!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(ee&&ee.override){for(var ye in J)if(ot(J,ye)&&b.deleteUnit(ye),J[ye].aliases)for(var H=0;H<J[ye].aliases.length;H++)b.deleteUnit(J[ye].aliases[H])}var te;for(var se in J)ot(J,se)&&(te=b.createUnitSingle(se,J[se]));return te},b.createUnitSingle=function(J,ee){if((typeof ee=="undefined"||ee===null)&&(ee={}),typeof J!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(ot(U,J))throw new Error('Cannot create unit "'+J+'": a unit with that name already exists');nt(J);var ye=null,H=[],te=0,se,Ce,Te;if(ee&&ee.type==="Unit")ye=ee.clone();else if(typeof ee=="string")ee!==""&&(se=ee);else if(typeof ee=="object")se=ee.definition,Ce=ee.prefixes,te=ee.offset,Te=ee.baseName,ee.aliases&&(H=ee.aliases.valueOf());else throw new TypeError('Cannot create unit "'+J+'" from "'+ee.toString()+'": expecting "string" or "Unit" or "Object"');if(H){for(var Ye=0;Ye<H.length;Ye++)if(ot(U,H[Ye]))throw new Error('Cannot create alias "'+H[Ye]+'": a unit with that name already exists')}if(se&&typeof se=="string"&&!ye)try{ye=b.parse(se,{allowNoUnits:!0})}catch(M){throw M.message='Could not create unit "'+J+'" from "'+se+'": '+M.message,M}else se&&se.type==="Unit"&&(ye=se.clone());H=H||[],te=te||0,Ce&&Ce.toUpperCase?Ce=k[Ce.toUpperCase()]||k.NONE:Ce=k.NONE;var Me={};if(ye){Me={name:J,value:ye.value,dimensions:ye.dimensions.slice(0),prefixes:Ce,offset:te};var Ue=!1;for(var re in B)if(ot(B,re)){for(var me=!0,Se=0;Se<Y.length;Se++)if(Math.abs((Me.dimensions[Se]||0)-(B[re].dimensions[Se]||0))>1e-12){me=!1;break}if(me){Ue=!0,Me.base=B[re];break}}if(!Ue){Te=Te||J+"_STUFF";var Re={dimensions:ye.dimensions.slice(0)};Re.key=Te,B[Te]=Re,he[Te]={unit:Me,prefix:k.NONE[""]},Me.base=B[Te]}}else{if(Te=Te||J+"_STUFF",Y.indexOf(Te)>=0)throw new Error('Cannot create new base unit "'+J+'": a base unit with that name already exists (and cannot be overridden)');Y.push(Te);for(var et in B)ot(B,et)&&(B[et].dimensions[Y.length-1]=0);for(var At={dimensions:[]},_e=0;_e<Y.length;_e++)At.dimensions[_e]=0;At.dimensions[Y.length-1]=1,At.key=Te,B[Te]=At,Me={name:J,value:1,dimensions:B[Te].dimensions.slice(0),prefixes:Ce,offset:te,base:B[Te]},he[Te]={unit:Me,prefix:k.NONE[""]}}b.UNITS[J]=Me;for(var $e=0;$e<H.length;$e++){var Pe=H[$e],Ve={};for(var je in Me)ot(Me,je)&&(Ve[je]=Me[je]);Ve.name=Pe,b.UNITS[Pe]=Ve}return delete L.cache,new b(null,J)},b.deleteUnit=function(J){delete b.UNITS[J]},b.PREFIXES=k,b.BASE_DIMENSIONS=Y,b.BASE_UNITS=B,b.UNIT_SYSTEMS=pe,b.UNITS=U,b},{isClass:!0});var g2="unit",vX=["typed","Unit"],Rx=T(g2,vX,r=>{var{typed:e,Unit:t}=r;return e(g2,{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new t(i,a)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>st(i,n))})});var v2="sparse",yX=["typed","SparseMatrix"],Lx=T(v2,yX,r=>{var{typed:e,SparseMatrix:t}=r;return e(v2,{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,a){return new t(i,a)}})});var y2="createUnit",bX=["typed","Unit"],Vx=T(y2,bX,r=>{var{typed:e,Unit:t}=r;return e(y2,{"Object, Object":function(i,a){return t.createUnit(i,a)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var u={};return u[i]=a,t.createUnit(u,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,t.createUnit(o,{})},string:function(i){var a={};return a[i]={},t.createUnit(a,{})}})});var b2="acos",xX=["typed","config","Complex"],Ux=T(b2,xX,r=>{var{typed:e,config:t,Complex:n}=r;return e(b2,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})});var x2="acosh",wX=["typed","config","Complex"],$x=T(x2,wX,r=>{var{typed:e,config:t,Complex:n}=r;return e(x2,{number:function(a){return a>=1||t.predictable?Xy(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})});var w2="acot",_X=["typed","BigNumber"],qx=T(w2,_X,r=>{var{typed:e,BigNumber:t}=r;return e(w2,{number:Qy,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})});var _2="acoth",SX=["typed","config","Complex","BigNumber"],zx=T(_2,SX,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(_2,{number:function(o){return o>=1||o<=-1||t.predictable?Ky(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})});var S2="acsc",AX=["typed","config","Complex","BigNumber"],Hx=T(S2,AX,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(S2,{number:function(o){return o<=-1||o>=1||t.predictable?e0(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})});var A2="acsch",DX=["typed","BigNumber"],Gx=T(A2,DX,r=>{var{typed:e,BigNumber:t}=r;return e(A2,{number:t0,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})});var D2="asec",EX=["typed","config","Complex","BigNumber"],Wx=T(D2,EX,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(D2,{number:function(o){return o<=-1||o>=1||t.predictable?r0(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})});var E2="asech",NX=["typed","config","Complex","BigNumber"],Yx=T(E2,NX,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(E2,{number:function(o){if(o<=1&&o>=-1||t.predictable){var u=1/o;if(u>0||t.predictable)return n0(o);var s=Math.sqrt(u*u-1);return new n(Math.log(s-u),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})});var N2="asin",CX=["typed","config","Complex"],jx=T(N2,CX,r=>{var{typed:e,config:t,Complex:n}=r;return e(N2,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})});var TX="asinh",MX=["typed"],Zx=T(TX,MX,r=>{var{typed:e}=r;return e("asinh",{number:i0,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})});var FX="atan",IX=["typed"],Jx=T(FX,IX,r=>{var{typed:e}=r;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})});var C2="atan2",BX=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],Xx=T(C2,BX,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=r,u=rn({typed:e,equalScalar:n}),s=Er({typed:e}),l=Bm({typed:e,equalScalar:n}),c=dr({typed:e,equalScalar:n}),f=nr({typed:e,DenseMatrix:a}),p=Nt({typed:e,matrix:t,concat:o});return e(C2,{"number, number":Math.atan2,"BigNumber, BigNumber":(m,h)=>i.atan2(m,h)},p({scalar:"number | BigNumber",SS:l,DS:s,SD:u,Ss:c,sS:f}))});var T2="atanh",PX=["typed","config","Complex"],Qx=T(T2,PX,r=>{var{typed:e,config:t,Complex:n}=r;return e(T2,{number:function(a){return a<=1&&a>=-1||t.predictable?a0(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})});var Xi=T("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(t=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,n.valueType())(n.value)})}});var M2="cos",OX=["typed"],Kx=T(M2,OX,r=>{var{typed:e}=r,t=Xi({typed:e});return e(M2,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},t)});var F2="cosh",kX=["typed"],e1=T(F2,kX,r=>{var{typed:e}=r;return e(F2,{number:mm,"Complex | BigNumber":t=>t.cosh()})});var I2="cot",RX=["typed","BigNumber"],t1=T(I2,RX,r=>{var{typed:e,BigNumber:t}=r,n=Xi({typed:e});return e(I2,{number:o0,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},n)});var B2="coth",LX=["typed","BigNumber"],r1=T(B2,LX,r=>{var{typed:e,BigNumber:t}=r;return e(B2,{number:s0,Complex:n=>n.coth(),BigNumber:n=>new t(1).div(n.tanh())})});var P2="csc",VX=["typed","BigNumber"],n1=T(P2,VX,r=>{var{typed:e,BigNumber:t}=r,n=Xi({typed:e});return e(P2,{number:u0,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},n)});var O2="csch",UX=["typed","BigNumber"],i1=T(O2,UX,r=>{var{typed:e,BigNumber:t}=r;return e(O2,{number:l0,Complex:n=>n.csch(),BigNumber:n=>new t(1).div(n.sinh())})});var k2="sec",$X=["typed","BigNumber"],a1=T(k2,$X,r=>{var{typed:e,BigNumber:t}=r,n=Xi({typed:e});return e(k2,{number:c0,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},n)});var R2="sech",qX=["typed","BigNumber"],o1=T(R2,qX,r=>{var{typed:e,BigNumber:t}=r;return e(R2,{number:f0,Complex:n=>n.sech(),BigNumber:n=>new t(1).div(n.cosh())})});var L2="sin",zX=["typed"],s1=T(L2,zX,r=>{var{typed:e}=r,t=Xi({typed:e});return e(L2,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},t)});var V2="sinh",HX=["typed"],u1=T(V2,HX,r=>{var{typed:e}=r;return e(V2,{number:p0,"Complex | BigNumber":t=>t.sinh()})});var U2="tan",GX=["typed"],l1=T(U2,GX,r=>{var{typed:e}=r,t=Xi({typed:e});return e(U2,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},t)});var WX="tanh",YX=["typed"],c1=T(WX,YX,r=>{var{typed:e}=r;return e("tanh",{number:dm,"Complex | BigNumber":t=>t.tanh()})});var $2="setCartesian",jX=["typed","size","subset","compareNatural","Index","DenseMatrix"],f1=T($2,jX,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e($2,{"Array | Matrix, Array | Matrix":function(s,l){var c=[];if(n(t(s),new a(0))!==0&&n(t(l),new a(0))!==0){var f=Mt(Array.isArray(s)?s:s.toArray()).sort(i),p=Mt(Array.isArray(l)?l:l.toArray()).sort(i);c=[];for(var m=0;m<f.length;m++)for(var h=0;h<p.length;h++)c.push([f[m],p[h]])}return Array.isArray(s)&&Array.isArray(l)?c:new o(c)}})});var q2="setDifference",ZX=["typed","size","subset","compareNatural","Index","DenseMatrix"],p1=T(q2,ZX,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(q2,{"Array | Matrix, Array | Matrix":function(s,l){var c;if(n(t(s),new a(0))===0)c=[];else{if(n(t(l),new a(0))===0)return Mt(s.toArray());var f=lo(Mt(Array.isArray(s)?s:s.toArray()).sort(i)),p=lo(Mt(Array.isArray(l)?l:l.toArray()).sort(i));c=[];for(var m,h=0;h<f.length;h++){m=!1;for(var d=0;d<p.length;d++)if(i(f[h].value,p[d].value)===0&&f[h].identifier===p[d].identifier){m=!0;break}m||c.push(f[h])}}return Array.isArray(s)&&Array.isArray(l)?ol(c):new o(ol(c))}})});var z2="setDistinct",JX=["typed","size","subset","compareNatural","Index","DenseMatrix"],m1=T(z2,JX,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(z2,{"Array | Matrix":function(s){var l;if(n(t(s),new a(0))===0)l=[];else{var c=Mt(Array.isArray(s)?s:s.toArray()).sort(i);l=[],l.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&l.push(c[f])}return Array.isArray(s)?l:new o(l)}})});var H2="setIntersect",XX=["typed","size","subset","compareNatural","Index","DenseMatrix"],d1=T(H2,XX,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(H2,{"Array | Matrix, Array | Matrix":function(s,l){var c;if(n(t(s),new a(0))===0||n(t(l),new a(0))===0)c=[];else{var f=lo(Mt(Array.isArray(s)?s:s.toArray()).sort(i)),p=lo(Mt(Array.isArray(l)?l:l.toArray()).sort(i));c=[];for(var m=0;m<f.length;m++)for(var h=0;h<p.length;h++)if(i(f[m].value,p[h].value)===0&&f[m].identifier===p[h].identifier){c.push(f[m]);break}}return Array.isArray(s)&&Array.isArray(l)?ol(c):new o(ol(c))}})});var G2="setIsSubset",QX=["typed","size","subset","compareNatural","Index"],h1=T(G2,QX,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(G2,{"Array | Matrix, Array | Matrix":function(u,s){if(n(t(u),new a(0))===0)return!0;if(n(t(s),new a(0))===0)return!1;for(var l=lo(Mt(Array.isArray(u)?u:u.toArray()).sort(i)),c=lo(Mt(Array.isArray(s)?s:s.toArray()).sort(i)),f,p=0;p<l.length;p++){f=!1;for(var m=0;m<c.length;m++)if(i(l[p].value,c[m].value)===0&&l[p].identifier===c[m].identifier){f=!0;break}if(f===!1)return!1}return!0}})});var W2="setMultiplicity",KX=["typed","size","subset","compareNatural","Index"],g1=T(W2,KX,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(W2,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(u,s){if(n(t(s),new a(0))===0)return 0;for(var l=Mt(Array.isArray(s)?s:s.toArray()),c=0,f=0;f<l.length;f++)i(l[f],u)===0&&c++;return c}})});var Y2="setPowerset",eQ=["typed","size","subset","compareNatural","Index"],v1=T(Y2,eQ,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(Y2,{"Array | Matrix":function(l){if(n(t(l),new a(0))===0)return[];for(var c=Mt(Array.isArray(l)?l:l.toArray()).sort(i),f=[],p=0;p.toString(2).length<=c.length;)f.push(o(c,p.toString(2).split("").reverse())),p++;return u(f)}});function o(s,l){for(var c=[],f=0;f<l.length;f++)l[f]==="1"&&c.push(s[f]);return c}function u(s){for(var l=[],c=s.length-1;c>0;c--)for(var f=0;f<c;f++)s[f].length>s[f+1].length&&(l=s[f],s[f]=s[f+1],s[f+1]=l);return s}});var j2="setSize",tQ=["typed","compareNatural"],y1=T(j2,tQ,r=>{var{typed:e,compareNatural:t}=r;return e(j2,{"Array | Matrix":function(i){return Array.isArray(i)?Mt(i).length:Mt(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?Mt(i).length:Mt(i.toArray()).length;for(var o=Mt(Array.isArray(i)?i:i.toArray()).sort(t),u=1,s=1;s<o.length;s++)t(o[s],o[s-1])!==0&&u++;return u}})});var Z2="setSymDifference",rQ=["typed","size","concat","subset","setDifference","Index"],b1=T(Z2,rQ,r=>{var{typed:e,size:t,concat:n,subset:i,setDifference:a,Index:o}=r;return e(Z2,{"Array | Matrix, Array | Matrix":function(s,l){if(i(t(s),new o(0))===0)return Mt(l);if(i(t(l),new o(0))===0)return Mt(s);var c=Mt(s),f=Mt(l);return n(a(c,f),a(f,c))}})});var J2="setUnion",nQ=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],x1=T(J2,nQ,r=>{var{typed:e,size:t,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:u}=r;return e(J2,{"Array | Matrix, Array | Matrix":function(l,c){if(i(t(l),new u(0))===0)return Mt(c);if(i(t(c),new u(0))===0)return Mt(l);var f=Mt(l),p=Mt(c);return n(o(f,p),a(f,p))}})});var X2="add",iQ=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],w1=T(X2,iQ,r=>{var{typed:e,matrix:t,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:u}=r,s=qn({typed:e}),l=ml({typed:e,equalScalar:i}),c=hi({typed:e,DenseMatrix:a}),f=Nt({typed:e,matrix:t,concat:u});return e(X2,{"any, any":n,"any, any, ...any":e.referToSelf(p=>(m,h,d)=>{for(var g=p(m,h),y=0;y<d.length;y++)g=p(g,d[y]);return g})},f({elop:n,DS:s,SS:l,Ss:c}))});var Q2="hypot",aQ=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],_1=T(Q2,aQ,r=>{var{typed:e,abs:t,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:u,isPositive:s}=r;return e(Q2,{"... number | BigNumber":l,Array:l,Matrix:c=>l(Mt(c.toArray()))});function l(c){for(var f=0,p=0,m=0;m<c.length;m++){if(ri(c[m]))throw new TypeError("Unexpected type of argument to hypot");var h=t(c[m]);u(p,h)?(f=a(f,a(i(p,h),i(p,h))),f=n(f,1),p=h):f=n(f,s(h)?a(i(h,p),i(h,p)):h)}return a(p,o(f))}});var K2="norm",oQ=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],S1=T(K2,oQ,r=>{var{typed:e,abs:t,add:n,pow:i,conj:a,sqrt:o,multiply:u,equalScalar:s,larger:l,smaller:c,matrix:f,ctranspose:p,eigs:m}=r;return e(K2,{number:Math.abs,Complex:function(E){return E.abs()},BigNumber:function(E){return E.abs()},boolean:function(E){return Math.abs(E)},Array:function(E){return x(f(E),2)},Matrix:function(E){return x(E,2)},"Array, number | BigNumber | string":function(E,D){return x(f(E),D)},"Matrix, number | BigNumber | string":function(E,D){return x(E,D)}});function h(C){var E=0;return C.forEach(function(D){var N=t(D);l(N,E)&&(E=N)},!0),E}function d(C){var E;return C.forEach(function(D){var N=t(D);(!E||c(N,E))&&(E=N)},!0),E||0}function g(C,E){if(E===Number.POSITIVE_INFINITY||E==="inf")return h(C);if(E===Number.NEGATIVE_INFINITY||E==="-inf")return d(C);if(E==="fro")return x(C,2);if(typeof E=="number"&&!isNaN(E)){if(!s(E,0)){var D=0;return C.forEach(function(N){D=n(i(t(N),E),D)},!0),i(D,1/E)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function y(C){var E=0;return C.forEach(function(D,N){E=n(E,u(D,a(D)))}),t(o(E))}function _(C){var E=[],D=0;return C.forEach(function(N,I){var O=I[1],V=n(E[O]||0,t(N));l(V,D)&&(D=V),E[O]=V},!0),D}function b(C){var E=C.size();if(E[0]!==E[1])throw new RangeError("Invalid matrix dimensions");var D=p(C),N=u(D,C),I=m(N).values.toArray(),O=I[I.length-1];return t(o(O))}function w(C){var E=[],D=0;return C.forEach(function(N,I){var O=I[0],V=n(E[O]||0,t(N));l(V,D)&&(D=V),E[O]=V},!0),D}function S(C,E){if(E===1)return _(C);if(E===Number.POSITIVE_INFINITY||E==="inf")return w(C);if(E==="fro")return y(C);if(E===2)return b(C);throw new Error("Unsupported parameter value "+E)}function x(C,E){var D=C.size();if(D.length===1)return g(C,E);if(D.length===2){if(D[0]&&D[1])return S(C,E);throw new RangeError("Invalid matrix dimensions")}}});var eI="dot",sQ=["typed","addScalar","multiplyScalar","conj","size"],A1=T(eI,sQ,r=>{var{typed:e,addScalar:t,multiplyScalar:n,conj:i,size:a}=r;return e(eI,{"Array | DenseMatrix, Array | DenseMatrix":u,"SparseMatrix, SparseMatrix":s});function o(c,f){var p=l(c),m=l(f),h,d;if(p.length===1)h=p[0];else if(p.length===2&&p[1]===1)h=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m.length===1)d=m[0];else if(m.length===2&&m[1]===1)d=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(h!==d)throw new RangeError("Vectors must have equal length ("+h+" != "+d+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function u(c,f){var p=o(c,f),m=it(c)?c._data:c,h=it(c)?c._datatype||c.getDataType():void 0,d=it(f)?f._data:f,g=it(f)?f._datatype||f.getDataType():void 0,y=l(c).length===2,_=l(f).length===2,b=t,w=n;if(h&&g&&h===g&&typeof h=="string"&&h!=="mixed"){var S=h;b=e.find(t,[S,S]),w=e.find(n,[S,S])}if(!y&&!_){for(var x=w(i(m[0]),d[0]),C=1;C<p;C++)x=b(x,w(i(m[C]),d[C]));return x}if(!y&&_){for(var E=w(i(m[0]),d[0][0]),D=1;D<p;D++)E=b(E,w(i(m[D]),d[D][0]));return E}if(y&&!_){for(var N=w(i(m[0][0]),d[0]),I=1;I<p;I++)N=b(N,w(i(m[I][0]),d[I]));return N}if(y&&_){for(var O=w(i(m[0][0]),d[0][0]),V=1;V<p;V++)O=b(O,w(i(m[V][0]),d[V][0]));return O}}function s(c,f){o(c,f);for(var p=c._index,m=c._values,h=f._index,d=f._values,g=0,y=t,_=n,b=0,w=0;b<p.length&&w<h.length;){var S=p[b],x=h[w];if(S<x){b++;continue}if(S>x){w++;continue}S===x&&(g=y(g,_(m[b],d[w])),b++,w++)}return g}function l(c){return it(c)?c.size():a(c)}});var uQ="trace",lQ=["typed","matrix","add"],D1=T(uQ,lQ,r=>{var{typed:e,matrix:t,add:n}=r;return e("trace",{Array:function(u){return i(t(u))},SparseMatrix:a,DenseMatrix:i,any:dt});function i(o){var u=o._size,s=o._data;switch(u.length){case 1:if(u[0]===1)return dt(s[0]);throw new RangeError("Matrix must be square (size: "+St(u)+")");case 2:{var l=u[0],c=u[1];if(l===c){for(var f=0,p=0;p<l;p++)f=n(f,s[p][p]);return f}else throw new RangeError("Matrix must be square (size: "+St(u)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+St(u)+")")}}function a(o){var u=o._values,s=o._index,l=o._ptr,c=o._size,f=c[0],p=c[1];if(f===p){var m=0;if(u.length>0)for(var h=0;h<p;h++)for(var d=l[h],g=l[h+1],y=d;y<g;y++){var _=s[y];if(_===h){m=n(m,u[y]);break}if(_>h)break}return m}throw new RangeError("Matrix must be square (size: "+St(c)+")")}});var tI="index",cQ=["typed","Index"],E1=T(tI,cQ,r=>{var{typed:e,Index:t}=r;return e(tI,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(u){return lt(u)?u.toNumber():Jt(u)||it(u)?u.map(function(s){return lt(s)?s.toNumber():s}):u}),o=new t;return t.apply(o,a),o}})});var Wm=new Set(["end"]);var fQ="Node",pQ=["mathWithTransform"],N1=T(fQ,pQ,r=>{var{mathWithTransform:e}=r;function t(i){for(var a of[...Wm])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},u=null;function s(l){var c=co(l);return t(c),a(c,o,u)}return{evaluate:s}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!qt(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(u,s){u.forEach(function(l,c,f){s(l,c,f),o(l,s)})}o(this,a)}transform(a){function o(u,s,l){var c=a(u,s,l);return c!==u?c:u.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(u,s,l){a(u,s,l)&&o.push(u)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&ga(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function Nr(r){return r&&r.isIndexError?new Fn(r.index+1,r.min+1,r.max!==void 0?r.max+1:void 0):r}function Ym(r){var{subset:e}=r;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return kr(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Nr(a)}}}var jm="AccessorNode",mQ=["subset","Node"],C1=T(jm,mQ,r=>{var{subset:e,Node:t}=r,n=Ym({subset:e});function i(o){return!(Ii(o)||Tn(o)||Lt(o)||ni(o)||Yo(o)||Mn(o)||Ar(o))}class a extends t{constructor(u,s){if(super(),!qt(u))throw new TypeError('Node expected for parameter "object"');if(!Wi(s))throw new TypeError('IndexNode expected for parameter "index"');this.object=u,this.index=s}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return jm}get isAccessorNode(){return!0}_compile(u,s){var l=this.object._compile(u,s),c=this.index._compile(u,s);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(m,h,d){return kr(l(m,h,d),f)}}else return function(m,h,d){var g=l(m,h,d),y=c(m,h,g);return n(g,y)}}forEach(u){u(this.object,"object",this),u(this.index,"index",this)}map(u){return new a(this._ifNode(u(this.object,"object",this)),this._ifNode(u(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(u){var s=this.object.toString(u);return i(this.object)&&(s="("+s+")"),s+this.index.toString(u)}_toHTML(u){var s=this.object.toHTML(u);return i(this.object)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s+this.index.toHTML(u)}_toTex(u){var s=this.object.toTex(u);return i(this.object)&&(s="\\left(' + object + '\\right)"),s+this.index.toTex(u)}toJSON(){return{mathjs:jm,object:this.object,index:this.index}}static fromJSON(u){return new a(u.object,u.index)}}return ir(a,"name",jm),a},{isClass:!0,isNode:!0});var Zm="ArrayNode",dQ=["Node"],T1=T(Zm,dQ,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(qt))throw new TypeError("Array containing Nodes expected")}get type(){return Zm}get isArrayNode(){return!0}_compile(i,a){var o=pi(this.items,function(l){return l._compile(i,a)}),u=i.config.matrix!=="Array";if(u){var s=i.matrix;return function(c,f,p){return s(pi(o,function(m){return m(c,f,p)}))}}else return function(c,f,p){return pi(o,function(m){return m(c,f,p)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(a)}clone(){return new t(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:Zm,items:this.items}}static fromJSON(i){return new t(i.items)}_toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,u){var s=o.some(Tn)&&!o.every(Tn),l=u||s,c=l?"&":"\\\\",f=o.map(function(p){return p.items?a(p.items,!u):p.toTex(i)}).join(c);return s||!l||l&&!u?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return ir(t,"name",Zm),t},{isClass:!0,isNode:!0});function rI(r){var{subset:e,matrix:t}=r;return function(i,a,o){try{if(Array.isArray(i)){var u=t(i).subset(a,o).valueOf();return u.forEach((s,l)=>{i[l]=s}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Ba(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(s){throw Nr(s)}}}var Qi=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function Jm(r,e){if(!e||e!=="auto")return r;for(var t=r;Mn(t);)t=t.content;return t}function lr(r,e,t,n){var i=r;e!=="keep"&&(i=r.getContent());for(var a=i.getIdentifier(),o=null,u=0;u<Qi.length;u++)if(a in Qi[u]){o=u;break}if(a==="OperatorNode:multiply"&&i.implicit&&t!=="show"){var s=Jm(i.args[0],e);!(Lt(s)&&n&&n.getIdentifier()==="OperatorNode:divide"&&mc(Jm(n.args[0],e)))&&!(s.getIdentifier()==="OperatorNode:divide"&&mc(Jm(s.args[0],e))&&Lt(Jm(s.args[1])))&&(o+=1)}return o}function xl(r,e){var t=r;e!=="keep"&&(t=r.getContent());var n=t.getIdentifier(),i=lr(t,e);if(i===null)return null;var a=Qi[i][n];if(ot(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function Xm(r,e,t){var n=t!=="keep"?r.getContent():r,i=t!=="keep"?r.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),u=lr(n,t);if(u===null)return null;var s=Qi[u][a];if(ot(s,"associativeWith")&&s.associativeWith instanceof Array){for(var l=0;l<s.associativeWith.length;l++)if(s.associativeWith[l]===o)return!0;return!1}return null}function nI(r){var e="OperatorNode:"+r;for(var t of Qi)if(e in t)return t[e].op;return null}var Qm="AssignmentNode",hQ=["subset","?matrix","Node"],M1=T(Qm,hQ,r=>{var{subset:e,matrix:t,Node:n}=r,i=Ym({subset:e}),a=rI({subset:e,matrix:t});function o(s,l,c){l||(l="keep");var f=lr(s,l,c),p=lr(s.value,l,c);return l==="all"||p!==null&&p<=f}class u extends n{constructor(l,c,f){if(super(),this.object=l,this.index=f?c:null,this.value=f||c,!Ar(l)&&!Ii(l))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Ar(l)&&l.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!Wi(this.index))throw new TypeError('IndexNode expected as "index"');if(!qt(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Qm}get isAssignmentNode(){return!0}_compile(l,c){var f=this.object._compile(l,c),p=this.index?this.index._compile(l,c):null,m=this.value._compile(l,c),h=this.object.name;if(this.index)if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(w,S,x){var C=f(w,S,x),E=m(w,S,x);return Ba(C,d,E),E}}else{if(Ar(this.object))return function(w,S,x){var C=f(w,S,x),E=m(w,S,x),D=p(w,S,C);return w.set(h,a(C,D,E)),E};var g=this.object.object._compile(l,c);if(this.object.index.isObjectProperty()){var y=this.object.index.getObjectProperty();return function(w,S,x){var C=g(w,S,x),E=kr(C,y),D=p(w,S,E),N=m(w,S,x);return Ba(C,y,a(E,D,N)),N}}else{var _=this.object.index._compile(l,c);return function(w,S,x){var C=g(w,S,x),E=_(w,S,C),D=i(C,E),N=p(w,S,D),I=m(w,S,x);return a(C,E,a(D,N,I)),I}}}else{if(!Ar(this.object))throw new TypeError("SymbolNode expected as object");return function(w,S,x){var C=m(w,S,x);return w.set(h,C),C}}}forEach(l){l(this.object,"object",this),this.index&&l(this.index,"index",this),l(this.value,"value",this)}map(l){var c=this._ifNode(l(this.object,"object",this)),f=this.index?this._ifNode(l(this.index,"index",this)):null,p=this._ifNode(l(this.value,"value",this));return new u(c,f,p)}clone(){return new u(this.object,this.index,this.value)}_toString(l){var c=this.object.toString(l),f=this.index?this.index.toString(l):"",p=this.value.toString(l);return o(this,l&&l.parenthesis,l&&l.implicit)&&(p="("+p+")"),c+f+" = "+p}toJSON(){return{mathjs:Qm,object:this.object,index:this.index,value:this.value}}static fromJSON(l){return new u(l.object,l.index,l.value)}_toHTML(l){var c=this.object.toHTML(l),f=this.index?this.index.toHTML(l):"",p=this.value.toHTML(l);return o(this,l&&l.parenthesis,l&&l.implicit)&&(p='<span class="math-paranthesis math-round-parenthesis">(</span>'+p+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+p}_toTex(l){var c=this.object.toTex(l),f=this.index?this.index.toTex(l):"",p=this.value.toTex(l);return o(this,l&&l.parenthesis,l&&l.implicit)&&(p="\\left(".concat(p,"\\right)")),c+f+"="+p}}return ir(u,"name",Qm),u},{isClass:!0,isNode:!0});var Km="BlockNode",gQ=["ResultSet","Node"],F1=T(Km,gQ,r=>{var{ResultSet:e,Node:t}=r;class n extends t{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var u=o&&o.node,s=o&&o.visible!==void 0?o.visible:!0;if(!qt(u))throw new TypeError('Property "node" must be a Node');if(typeof s!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:u,visible:s}})}get type(){return Km}get isBlockNode(){return!0}_compile(a,o){var u=pi(this.blocks,function(s){return{evaluate:s.node._compile(a,o),visible:s.visible}});return function(l,c,f){var p=[];return jo(u,function(h){var d=h.evaluate(l,c,f);h.visible&&p.push(d)}),new e(p)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],u=0;u<this.blocks.length;u++){var s=this.blocks[u],l=this._ifNode(a(s.node,"blocks["+u+"].node",this));o[u]={node:l,visible:s.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:Km,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}_toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return ir(n,"name",Km),n},{isClass:!0,isNode:!0});var ed="ConditionalNode",vQ=["Node"],I1=T(ed,vQ,r=>{var{Node:e}=r;function t(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(lt(i))return!i.isZero();if(ri(i))return!!(i.re||i.im);if(Cn(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Wt(i)+'"')}class n extends e{constructor(a,o,u){if(super(),!qt(a))throw new TypeError("Parameter condition must be a Node");if(!qt(o))throw new TypeError("Parameter trueExpr must be a Node");if(!qt(u))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=u}get type(){return ed}get isConditionalNode(){return!0}_compile(a,o){var u=this.condition._compile(a,o),s=this.trueExpr._compile(a,o),l=this.falseExpr._compile(a,o);return function(f,p,m){return t(u(f,p,m))?s(f,p,m):l(f,p,m)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=lr(this,o,a&&a.implicit),s=this.condition.toString(a),l=lr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||l!==null&&l<=u)&&(s="("+s+")");var c=this.trueExpr.toString(a),f=lr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=u)&&(c="("+c+")");var p=this.falseExpr.toString(a),m=lr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=u)&&(p="("+p+")"),s+" ? "+c+" : "+p}toJSON(){return{mathjs:ed,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=lr(this,o,a&&a.implicit),s=this.condition.toHTML(a),l=lr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||l!==null&&l<=u)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),f=lr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=u)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.falseExpr.toHTML(a),m=lr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=u)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+p}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return ir(n,"name",ed),n},{isClass:!0,isNode:!0});var sI=hr(aI(),1);var P1={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},ar={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},O1={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(ar.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(ar.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(ar.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(ar.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(ar.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(ar.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(ar.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(ar.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(ar.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(ar.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(ar.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(ar.bitAnd,"${args[1]}\\right)")},bitNot:{1:ar.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(ar.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(ar.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(ar.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(ar.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(ar.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(ar.and,"${args[1]}\\right)")},not:{1:ar.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(ar.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(ar.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(ar.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(ar.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(ar.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(ar.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(ar.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(ar.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(ar.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(ar.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(ar.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(ar.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(ar.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(P1.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},uI="\\mathrm{${name}}\\left(${args}\\right)",oI={deg:"^\\circ"};function td(r){return(0,sI.default)(r,{preserveFormatting:!0})}function rd(r,e){return e=typeof e=="undefined"?!1:e,e?ot(oI,r)?oI[r]:"\\mathrm{"+td(r)+"}":ot(P1,r)?P1[r]:td(r)}var nd="ConstantNode",wQ=["Node"],k1=T(nd,wQ,r=>{var{Node:e}=r;class t extends e{constructor(i){super(),this.value=i}get type(){return nd}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return St(this.value,i)}_toHTML(i){var a=this._toString(i);switch(Wt(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:nd,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var a=this._toString(i);switch(Wt(this.value)){case"string":return"\\mathtt{"+td(a)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");if(o!==-1)return a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}"}return a;case"Fraction":return this.value.toLatex();default:return a}}}return ir(t,"name",nd),t},{isClass:!0,isNode:!0});var id="FunctionAssignmentNode",_Q=["typed","Node"],R1=T(id,_Q,r=>{var{typed:e,Node:t}=r;function n(a,o,u){var s=lr(a,o,u),l=lr(a.expr,o,u);return o==="all"||l!==null&&l<=s}class i extends t{constructor(o,u,s){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(u))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!qt(s))throw new TypeError('Node expected for parameter "expr"');if(Wm.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var l=new Set;for(var c of u){var f=typeof c=="string"?c:c.name;if(l.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));l.add(f)}this.name=o,this.params=u.map(function(p){return p&&p.name||p}),this.types=u.map(function(p){return p&&p.type||"any"}),this.expr=s}get type(){return id}get isFunctionAssignmentNode(){return!0}_compile(o,u){var s=Object.create(u);jo(this.params,function(h){s[h]=!0});var l=this.expr._compile(o,s),c=this.name,f=this.params,p=jv(this.types,","),m=c+"("+jv(this.params,", ")+")";return function(d,g,y){var _={};_[p]=function(){for(var w=Object.create(g),S=0;S<f.length;S++)w[f[S]]=arguments[S];return l(d,w,y)};var b=e(c,_);return b.syntax=m,d.set(c,b),b}}forEach(o){o(this.expr,"expr",this)}map(o){var u=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),u)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var u=o&&o.parenthesis?o.parenthesis:"keep",s=this.expr.toString(o);return n(this,u,o&&o.implicit)&&(s="("+s+")"),this.name+"("+this.params.join(", ")+") = "+s}toJSON(){var o=this.types;return{mathjs:id,name:this.name,params:this.params.map(function(u,s){return{name:u,type:o[s]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var u=o&&o.parenthesis?o.parenthesis:"keep",s=[],l=0;l<this.params.length;l++)s.push('<span class="math-symbol math-parameter">'+gn(this.params[l])+"</span>");var c=this.expr.toHTML(o);return n(this,u,o&&o.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+gn(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(o){var u=o&&o.parenthesis?o.parenthesis:"keep",s=this.expr.toTex(o);return n(this,u,o&&o.implicit)&&(s="\\left(".concat(s,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(rd).join(",")+"\\right)="+s}}return ir(i,"name",id),i},{isClass:!0,isNode:!0});var ad="IndexNode",SQ=["Node","size"],L1=T(ad,SQ,r=>{var{Node:e,size:t}=r;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(qt))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return ad}get isIndexNode(){return!0}_compile(a,o){var u=pi(this.dimensions,function(l,c){var f=l.filter(h=>h.isSymbolNode&&h.name==="end").length>0;if(f){var p=Object.create(o);p.end=!0;var m=l._compile(a,p);return function(d,g,y){if(!it(y)&&!Jt(y)&&!Hr(y))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Wt(y));var _=t(y).valueOf(),b=Object.create(g);return b.end=_[c],m(d,b,y)}}else return l._compile(a,o)}),s=kr(a,"index");return function(c,f,p){var m=pi(u,function(h){return h(c,f,p)});return s(...m)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],u=0;u<this.dimensions.length;u++)o[u]=this._ifNode(a(this.dimensions[u],"dimensions["+u+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&Lt(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:ad,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}_toHTML(a){for(var o=[],u=0;u<this.dimensions.length;u++)o[u]=this.dimensions[u].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+gn(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(u){return u.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return ir(n,"name",ad),n},{isClass:!0,isNode:!0});var od="ObjectNode",AQ=["Node"],V1=T(od,AQ,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return qt(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return od}get isObjectNode(){return!0}_compile(i,a){var o={};for(var u in this.properties)if(ot(this.properties,u)){var s=Qs(u),l=JSON.parse(s),c=kr(this.properties,u);o[l]=c._compile(i,a)}return function(p,m,h){var d={};for(var g in o)ot(o,g)&&(d[g]=o[g](p,m,h));return d}}forEach(i){for(var a in this.properties)ot(this.properties,a)&&i(this.properties[a],"properties["+Qs(a)+"]",this)}map(i){var a={};for(var o in this.properties)ot(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+Qs(o)+"]",this)));return new t(a)}clone(){var i={};for(var a in this.properties)ot(this.properties,a)&&(i[a]=this.properties[a]);return new t(i)}_toString(i){var a=[];for(var o in this.properties)ot(this.properties,o)&&a.push(Qs(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:od,properties:this.properties}}static fromJSON(i){return new t(i.properties)}_toHTML(i){var a=[];for(var o in this.properties)ot(this.properties,o)&&a.push('<span class="math-symbol math-property">'+gn(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)ot(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var u="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return u}}return ir(t,"name",od),t},{isClass:!0,isNode:!0});function ou(r,e){return new sl(r,new eu(e),new Set(Object.keys(e)))}var sd="OperatorNode",DQ=["Node"],U1=T(sd,DQ,r=>{var{Node:e}=r;function t(a,o){var u=a;if(o==="auto")for(;Mn(u);)u=u.content;return Lt(u)?!0:Br(u)?t(u.args[0],o):!1}function n(a,o,u,s,l){var c=lr(a,o,u),f=xl(a,o);if(o==="all"||s.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return s.map(function(N){switch(N.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var p;switch(s.length){case 0:p=[];break;case 1:{var m=lr(s[0],o,u,a);if(l&&m!==null){var h,d;if(o==="keep"?(h=s[0].getIdentifier(),d=a.getIdentifier()):(h=s[0].getContent().getIdentifier(),d=a.getContent().getIdentifier()),Qi[c][d].latexLeftParens===!1){p=[!1];break}if(Qi[m][h].latexParens===!1){p=[!1];break}}if(m===null){p=[!1];break}if(m<=c){p=[!0];break}p=[!1]}break;case 2:{var g,y=lr(s[0],o,u,a),_=Xm(a,s[0],o);y===null?g=!1:y===c&&f==="right"&&!_||y<c?g=!0:g=!1;var b,w=lr(s[1],o,u,a),S=Xm(a,s[1],o);if(w===null?b=!1:w===c&&f==="left"&&!S||w<c?b=!0:b=!1,l){var x,C,E;o==="keep"?(x=a.getIdentifier(),C=a.args[0].getIdentifier(),E=a.args[1].getIdentifier()):(x=a.getContent().getIdentifier(),C=a.args[0].getContent().getIdentifier(),E=a.args[1].getContent().getIdentifier()),y!==null&&(Qi[c][x].latexLeftParens===!1&&(g=!1),Qi[y][C].latexParens===!1&&(g=!1)),w!==null&&(Qi[c][x].latexRightParens===!1&&(b=!1),Qi[w][E].latexParens===!1&&(b=!1))}p=[g,b]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(p=s.map(function(N){var I=lr(N,o,u,a),O=Xm(a,N,o),V=xl(N,o);return I===null?!1:c===I&&f===V&&!O?!0:I<c}));break}if(s.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&u==="hide")for(var D=1;D<p.length;++D)t(s[D],o)&&!p[D-1]&&(o!=="keep"||!Mn(s[D-1]))&&(p[D]=!0);return p}class i extends e{constructor(o,u,s,l,c){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof u!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(s)||!s.every(qt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=l===!0,this.isPercentage=c===!0,this.op=o,this.fn=u,this.args=s||[]}get type(){return sd}get isOperatorNode(){return!0}_compile(o,u){if(typeof this.fn!="string"||!ym(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var s=kr(o,this.fn),l=pi(this.args,function(h){return h._compile(o,u)});if(typeof s=="function"&&s.rawArgs===!0){var c=this.args;return function(d,g,y){return s(c,o,ou(d,g))}}else if(l.length===1){var f=l[0];return function(d,g,y){return s(f(d,g,y))}}else if(l.length===2){var p=l[0],m=l[1];return function(d,g,y){return s(p(d,g,y),m(d,g,y))}}else return function(d,g,y){return s.apply(null,pi(l,function(_){return _(d,g,y)}))}}forEach(o){for(var u=0;u<this.args.length;u++)o(this.args[u],"args["+u+"]",this)}map(o){for(var u=[],s=0;s<this.args.length;s++)u[s]=this._ifNode(o(this.args[s],"args["+s+"]",this));return new i(this.op,this.fn,u,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var u=o&&o.parenthesis?o.parenthesis:"keep",s=o&&o.implicit?o.implicit:"hide",l=this.args,c=n(this,u,s,l,!1);if(l.length===1){var f=xl(this,u),p=l[0].toString(o);c[0]&&(p="("+p+")");var m=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(m?" ":"")+p:f==="left"?p+(m?" ":"")+this.op:p+this.op}else if(l.length===2){var h=l[0].toString(o),d=l[1].toString(o);return c[0]&&(h="("+h+")"),c[1]&&(d="("+d+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?h+" "+d:h+" "+this.op+" "+d}else if(l.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=l.map(function(y,_){return y=y.toString(o),c[_]&&(y="("+y+")"),y});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?g.join(" "):g.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:sd,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var u=o&&o.parenthesis?o.parenthesis:"keep",s=o&&o.implicit?o.implicit:"hide",l=this.args,c=n(this,u,s,l,!1);if(l.length===1){var f=xl(this,u),p=l[0].toHTML(o);return c[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+gn(this.op)+"</span>"+p:p+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+gn(this.op)+"</span>"}else if(l.length===2){var m=l[0].toHTML(o),h=l[1].toHTML(o);return c[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?m+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:m+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+gn(this.op)+"</span>"+h}else{var d=l.map(function(g,y){return g=g.toHTML(o),c[y]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),g});return l.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?d.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):d.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+gn(this.op)+"</span>"):'<span class="math-function">'+gn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var u=o&&o.parenthesis?o.parenthesis:"keep",s=o&&o.implicit?o.implicit:"hide",l=this.args,c=n(this,u,s,l,!0),f=ar[this.fn];if(f=typeof f=="undefined"?this.op:f,l.length===1){var p=xl(this,u),m=l[0].toTex(o);return c[0]&&(m="\\left(".concat(m,"\\right)")),p==="right"?f+m:m+f}else if(l.length===2){var h=l[0],d=h.toTex(o);c[0]&&(d="\\left(".concat(d,"\\right)"));var g=l[1],y=g.toTex(o);c[1]&&(y="\\left(".concat(y,"\\right)"));var _;switch(u==="keep"?_=h.getIdentifier():_=h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+d+"}{"+y+"}";case"OperatorNode:pow":switch(d="{"+d+"}",y="{"+y+"}",_){case"ConditionalNode":case"OperatorNode:divide":d="\\left(".concat(d,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&s==="hide")return d+"~"+y}return d+f+y}else if(l.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var b=l.map(function(w,S){return w=w.toTex(o),c[S]&&(w="\\left(".concat(w,"\\right)")),w});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&s==="hide"?b.join("~"):b.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+l.map(function(w){return w.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return ir(i,"name",sd),i},{isClass:!0,isNode:!0});var ud="ParenthesisNode",EQ=["Node"],$1=T(ud,EQ,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),!qt(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return ud}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new t(a)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:ud,content:this.content}}static fromJSON(i){return new t(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return ir(t,"name",ud),t},{isClass:!0,isNode:!0});var ld="RangeNode",NQ=["Node"],q1=T(ld,NQ,r=>{var{Node:e}=r;function t(i,a,o){var u=lr(i,a,o),s={},l=lr(i.start,a,o);if(s.start=l!==null&&l<=u||a==="all",i.step){var c=lr(i.step,a,o);s.step=c!==null&&c<=u||a==="all"}var f=lr(i.end,a,o);return s.end=f!==null&&f<=u||a==="all",s}class n extends e{constructor(a,o,u){if(super(),!qt(a))throw new TypeError("Node expected");if(!qt(o))throw new TypeError("Node expected");if(u&&!qt(u))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=u||null}get type(){return ld}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return Ar(o)&&o.name==="end"});return a.length>0}_compile(a,o){var u=a.range,s=this.start._compile(a,o),l=this.end._compile(a,o);if(this.step){var c=this.step._compile(a,o);return function(p,m,h){return u(s(p,m,h),l(p,m,h),c(p,m,h))}}else return function(p,m,h){return u(s(p,m,h),l(p,m,h))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=t(this,o,a&&a.implicit),s,l=this.start.toString(a);if(u.start&&(l="("+l+")"),s=l,this.step){var c=this.step.toString(a);u.step&&(c="("+c+")"),s+=":"+c}var f=this.end.toString(a);return u.end&&(f="("+f+")"),s+=":"+f,s}toJSON(){return{mathjs:ld,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=t(this,o,a&&a.implicit),s,l=this.start.toHTML(a);if(u.start&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s=l,this.step){var c=this.step.toHTML(a);u.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(a);return u.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s+='<span class="math-operator math-range-operator">:</span>'+f,s}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=t(this,o,a&&a.implicit),s=this.start.toTex(a);if(u.start&&(s="\\left(".concat(s,"\\right)")),this.step){var l=this.step.toTex(a);u.step&&(l="\\left(".concat(l,"\\right)")),s+=":"+l}var c=this.end.toTex(a);return u.end&&(c="\\left(".concat(c,"\\right)")),s+=":"+c,s}}return ir(n,"name",ld),n},{isClass:!0,isNode:!0});var cd="RelationalNode",CQ=["Node"],z1=T(cd,CQ,r=>{var{Node:e}=r,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return cd}get isRelationalNode(){return!0}_compile(a,o){var u=this,s=this.params.map(l=>l._compile(a,o));return function(c,f,p){for(var m,h=s[0](c,f,p),d=0;d<u.conditionals.length;d++){m=h,h=s[d+1](c,f,p);var g=kr(a,u.conditionals[d]);if(!g(m,h))return!1}return!0}}forEach(a){this.params.forEach((o,u)=>a(o,"params["+u+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,u)=>this._ifNode(a(o,"params["+u+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",u=lr(this,o,a&&a.implicit),s=this.params.map(function(f,p){var m=lr(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=u?"("+f.toString(a)+")":f.toString(a)}),l=s[0],c=0;c<this.conditionals.length;c++)l+=" "+t[this.conditionals[c]],l+=" "+s[c+1];return l}toJSON(){return{mathjs:cd,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}_toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",u=lr(this,o,a&&a.implicit),s=this.params.map(function(f,p){var m=lr(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=u?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),l=s[0],c=0;c<this.conditionals.length;c++)l+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+gn(t[this.conditionals[c]])+"</span>"+s[c+1];return l}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",u=lr(this,o,a&&a.implicit),s=this.params.map(function(f,p){var m=lr(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=u?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),l=s[0],c=0;c<this.conditionals.length;c++)l+=ar[this.conditionals[c]]+s[c+1];return l}}return ir(n,"name",cd),n},{isClass:!0,isNode:!0});var TQ="SymbolNode",MQ=["math","?Unit","Node"],H1=T(TQ,MQ,r=>{var{math:e,Unit:t,Node:n}=r;function i(o){return t?t.isValuelessUnit(o):!1}class a extends n{constructor(u){if(super(),typeof u!="string")throw new TypeError('String expected for parameter "name"');this.name=u}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(u,s){var l=this.name;if(s[l]===!0)return function(f,p,m){return kr(p,l)};if(l in u)return function(f,p,m){return f.has(l)?f.get(l):kr(u,l)};var c=i(l);return function(f,p,m){return f.has(l)?f.get(l):c?new t(null,l):a.onUndefinedSymbol(l)}}forEach(u){}map(u){return this.clone()}static onUndefinedSymbol(u){throw new Error("Undefined symbol "+u)}clone(){return new a(this.name)}_toString(u){return this.name}_toHTML(u){var s=gn(this.name);return s==="true"||s==="false"?'<span class="math-symbol math-boolean">'+s+"</span>":s==="i"?'<span class="math-symbol math-imaginary-symbol">'+s+"</span>":s==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+s+"</span>":s==="NaN"?'<span class="math-symbol math-nan-symbol">'+s+"</span>":s==="null"?'<span class="math-symbol math-null-symbol">'+s+"</span>":s==="undefined"?'<span class="math-symbol math-undefined-symbol">'+s+"</span>":'<span class="math-symbol">'+s+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(u){return new a(u.name)}_toTex(u){var s=!1;typeof e[this.name]=="undefined"&&i(this.name)&&(s=!0);var l=rd(this.name,s);return l[0]==="\\"?l:" "+l}}return a},{isClass:!0,isNode:!0});var fd="FunctionNode",FQ=["math","Node","SymbolNode"],G1=T(fd,FQ,r=>{var e,{math:t,Node:n,SymbolNode:i}=r,a=s=>St(s,{truncate:78});function o(s,l,c){for(var f="",p=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,m=0,h;(h=p.exec(s))!==null;)if(f+=s.substring(m,h.index),m=h.index,h[0]==="$$")f+="$",m++;else{m+=h[0].length;var d=l[h[1]];if(!d)throw new ReferenceError("Template: Property "+h[1]+" does not exist.");if(h[2]===void 0)switch(typeof d){case"string":f+=d;break;case"object":if(qt(d))f+=d.toTex(c);else if(Array.isArray(d))f+=d.map(function(g,y){if(qt(g))return g.toTex(c);throw new TypeError("Template: "+h[1]+"["+y+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes")}else if(qt(d[h[2]]&&d[h[2]]))f+=d[h[2]].toTex(c);else throw new TypeError("Template: "+h[1]+"["+h[2]+"] is not a Node.")}return f+=s.slice(m),f}class u extends n{constructor(l,c){if(super(),typeof l=="string"&&(l=new i(l)),!qt(l))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(qt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=l,this.args=c||[]}get name(){return this.fn.name||""}get type(){return fd}get isFunctionNode(){return!0}_compile(l,c){var f=this.args.map(E=>E._compile(l,c));if(Ar(this.fn)){var p=this.fn.name;if(c[p]){var y=this.args;return function(D,N,I){var O=kr(N,p);if(typeof O!="function")throw new TypeError("Argument '".concat(p,"' was not a function; received: ").concat(a(O)));if(O.rawArgs)return O(y,l,ou(D,N));var V=f.map(q=>q(D,N,I));return O.apply(O,V)}}else{var m=p in l?kr(l,p):void 0,h=typeof m=="function"&&m.rawArgs===!0,d=E=>{var D;if(E.has(p))D=E.get(p);else if(p in l)D=kr(l,p);else return u.onUndefinedFunction(p);if(typeof D=="function")return D;throw new TypeError("'".concat(p,`' is not a function; its value is:
  `).concat(a(D)))};if(h){var g=this.args;return function(D,N,I){var O=d(D);return O(g,l,ou(D,N))}}else switch(f.length){case 0:return function(D,N,I){var O=d(D);return O()};case 1:return function(D,N,I){var O=d(D),V=f[0];return O(V(D,N,I))};case 2:return function(D,N,I){var O=d(D),V=f[0],q=f[1];return O(V(D,N,I),q(D,N,I))};default:return function(D,N,I){var O=d(D),V=f.map(q=>q(D,N,I));return O(...V)}}}}else if(Ii(this.fn)&&Wi(this.fn.index)&&this.fn.index.isObjectProperty()){var _=this.fn.object._compile(l,c),b=this.fn.index.getObjectProperty(),w=this.args;return function(D,N,I){var O=_(D,N,I),V=bT(O,b);if(V!=null&&V.rawArgs)return V(w,l,ou(D,N));var q=f.map(L=>L(D,N,I));return V.apply(O,q)}}else{var S=this.fn.toString(),x=this.fn._compile(l,c),C=this.args;return function(D,N,I){var O=x(D,N,I);if(typeof O!="function")throw new TypeError("Expression '".concat(S,"' did not evaluate to a function; value is:")+`
  `.concat(a(O)));if(O.rawArgs)return O(C,l,ou(D,N));var V=f.map(q=>q(D,N,I));return O.apply(O,V)}}}forEach(l){l(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)l(this.args[c],"args["+c+"]",this)}map(l){for(var c=this._ifNode(l(this.fn,"fn",this)),f=[],p=0;p<this.args.length;p++)f[p]=this._ifNode(l(this.args[p],"args["+p+"]",this));return new u(c,f)}clone(){return new u(this.fn,this.args.slice(0))}toString(l){var c,f=this.fn.toString(l);return l&&typeof l.handler=="object"&&ot(l.handler,f)&&(c=l.handler[f](this,l)),typeof c!="undefined"?c:super.toString(l)}_toString(l){var c=this.args.map(function(p){return p.toString(l)}),f=Ia(this.fn)?"("+this.fn.toString(l)+")":this.fn.toString(l);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:fd,fn:this.fn,args:this.args}}_toHTML(l){var c=this.args.map(function(f){return f.toHTML(l)});return'<span class="math-function">'+gn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(l){var c;return l&&typeof l.handler=="object"&&ot(l.handler,this.name)&&(c=l.handler[this.name](this,l)),typeof c!="undefined"?c:super.toTex(l)}_toTex(l){var c=this.args.map(function(m){return m.toTex(l)}),f;O1[this.name]&&(f=O1[this.name]),t[this.name]&&(typeof t[this.name].toTex=="function"||typeof t[this.name].toTex=="object"||typeof t[this.name].toTex=="string")&&(f=t[this.name].toTex);var p;switch(typeof f){case"function":p=f(this,l);break;case"string":p=o(f,this,l);break;case"object":switch(typeof f[c.length]){case"function":p=f[c.length](this,l);break;case"string":p=o(f[c.length],this,l);break}}return typeof p!="undefined"?p:o(uI,this,l)}getIdentifier(){return this.type+":"+this.name}}return e=u,ir(u,"name",fd),ir(u,"onUndefinedFunction",function(s){throw new Error("Undefined function "+s)}),ir(u,"fromJSON",function(s){return new e(s.fn,s.args)}),u},{isClass:!0,isNode:!0});var lI="parse",IQ=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],W1=T(lI,IQ,r=>{var{typed:e,numeric:t,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:u,ConditionalNode:s,ConstantNode:l,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:p,ObjectNode:m,OperatorNode:h,ParenthesisNode:d,RangeNode:g,RelationalNode:y,SymbolNode:_}=r,b=e(lI,{string:function(j){return oe(j,{})},"Array | Matrix":function(j){return w(j,{})},"string, Object":function(j,ge){var Oe=ge.nodes!==void 0?ge.nodes:{};return oe(j,Oe)},"Array | Matrix, Object":w});function w(M){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=j.nodes!==void 0?j.nodes:{};return st(M,function(Oe){if(typeof Oe!="string")throw new TypeError("String expected");return oe(Oe,ge)})}var S={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},x={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},C={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},E={true:!0,false:!1,null:null,undefined:void 0},D=["NaN","Infinity"],N={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function I(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:S.NULL,nestingLevel:0,conditionalLevel:null}}function O(M,j){return M.expression.substr(M.index,j)}function V(M){return O(M,1)}function q(M){M.index++}function L(M){return M.expression.charAt(M.index-1)}function P(M){return M.expression.charAt(M.index+1)}function k(M){for(M.tokenType=S.NULL,M.token="",M.comment="";;){if(V(M)==="#")for(;V(M)!==`
`&&V(M)!=="";)M.comment+=V(M),q(M);if(b.isWhitespace(V(M),M.nestingLevel))q(M);else break}if(V(M)===""){M.tokenType=S.DELIMITER;return}if(V(M)===`
`&&!M.nestingLevel){M.tokenType=S.DELIMITER,M.token=V(M),q(M);return}var j=V(M),ge=O(M,2),Oe=O(M,3);if(Oe.length===3&&x[Oe]){M.tokenType=S.DELIMITER,M.token=Oe,q(M),q(M),q(M);return}if(ge.length===2&&x[ge]){M.tokenType=S.DELIMITER,M.token=ge,q(M),q(M);return}if(x[j]){M.tokenType=S.DELIMITER,M.token=j,q(M);return}if(b.isDigitDot(j)){M.tokenType=S.NUMBER;var ct=O(M,2);if(ct==="0b"||ct==="0o"||ct==="0x"){for(M.token+=V(M),q(M),M.token+=V(M),q(M);b.isHexDigit(V(M));)M.token+=V(M),q(M);if(V(M)===".")for(M.token+=".",q(M);b.isHexDigit(V(M));)M.token+=V(M),q(M);else if(V(M)==="i")for(M.token+="i",q(M);b.isDigit(V(M));)M.token+=V(M),q(M);return}if(V(M)==="."){if(M.token+=V(M),q(M),!b.isDigit(V(M))){M.tokenType=S.DELIMITER;return}}else{for(;b.isDigit(V(M));)M.token+=V(M),q(M);b.isDecimalMark(V(M),P(M))&&(M.token+=V(M),q(M))}for(;b.isDigit(V(M));)M.token+=V(M),q(M);if(V(M)==="E"||V(M)==="e"){if(b.isDigit(P(M))||P(M)==="-"||P(M)==="+"){if(M.token+=V(M),q(M),(V(M)==="+"||V(M)==="-")&&(M.token+=V(M),q(M)),!b.isDigit(V(M)))throw Ve(M,'Digit expected, got "'+V(M)+'"');for(;b.isDigit(V(M));)M.token+=V(M),q(M);if(b.isDecimalMark(V(M),P(M)))throw Ve(M,'Digit expected, got "'+V(M)+'"')}else if(P(M)===".")throw q(M),Ve(M,'Digit expected, got "'+V(M)+'"')}return}if(b.isAlpha(V(M),L(M),P(M))){for(;b.isAlpha(V(M),L(M),P(M))||b.isDigit(V(M));)M.token+=V(M),q(M);ot(C,M.token)?M.tokenType=S.DELIMITER:M.tokenType=S.SYMBOL;return}for(M.tokenType=S.UNKNOWN;V(M)!=="";)M.token+=V(M),q(M);throw Ve(M,'Syntax error in part "'+M.token+'"')}function Y(M){do k(M);while(M.token===`
`)}function B(M){M.nestingLevel++}function Z(M){M.nestingLevel--}b.isAlpha=function(j,ge,Oe){return b.isValidLatinOrGreek(j)||b.isValidMathSymbol(j,Oe)||b.isValidMathSymbol(ge,j)},b.isValidLatinOrGreek=function(j){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(j)},b.isValidMathSymbol=function(j,ge){return/^[\uD835]$/.test(j)&&/^[\uDC00-\uDFFF]$/.test(ge)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(ge)},b.isWhitespace=function(j,ge){return j===" "||j==="	"||j===`
`&&ge>0},b.isDecimalMark=function(j,ge){return j==="."&&ge!=="/"&&ge!=="*"&&ge!=="^"},b.isDigitDot=function(j){return j>="0"&&j<="9"||j==="."},b.isDigit=function(j){return j>="0"&&j<="9"},b.isHexDigit=function(j){return j>="0"&&j<="9"||j>="a"&&j<="f"||j>="A"&&j<="F"};function oe(M,j){var ge=I();Or(ge,{expression:M,extraNodes:j}),k(ge);var Oe=ne(ge);if(ge.token!=="")throw ge.tokenType===S.DELIMITER?je(ge,"Unexpected operator "+ge.token):Ve(ge,'Unexpected part "'+ge.token+'"');return Oe}function ne(M){var j,ge=[],Oe;for(M.token!==""&&M.token!==`
`&&M.token!==";"&&(j=U(M),M.comment&&(j.comment=M.comment));M.token===`
`||M.token===";";)ge.length===0&&j&&(Oe=M.token!==";",ge.push({node:j,visible:Oe})),k(M),M.token!==`
`&&M.token!==";"&&M.token!==""&&(j=U(M),M.comment&&(j.comment=M.comment),Oe=M.token!==";",ge.push({node:j,visible:Oe}));return ge.length>0?new u(ge):(j||(j=new l(void 0),M.comment&&(j.comment=M.comment)),j)}function U(M){var j,ge,Oe,ct,_t=fe(M);if(M.token==="="){if(Ar(_t))return j=_t.name,Y(M),Oe=U(M),new o(new _(j),Oe);if(Ii(_t))return Y(M),Oe=U(M),new o(_t.object,_t.index,Oe);if(ni(_t)&&Ar(_t.fn)&&(ct=!0,ge=[],j=_t.name,_t.args.forEach(function(Je,Zn){Ar(Je)?ge[Zn]=Je.name:ct=!1}),ct))return Y(M),Oe=U(M),new c(j,ge,Oe);throw Ve(M,"Invalid left hand side of assignment operator =")}return _t}function fe(M){for(var j=Ee(M);M.token==="?";){var ge=M.conditionalLevel;M.conditionalLevel=M.nestingLevel,Y(M);var Oe=j,ct=U(M);if(M.token!==":")throw Ve(M,"False part of conditional expression expected");M.conditionalLevel=null,Y(M);var _t=U(M);j=new s(Oe,ct,_t),M.conditionalLevel=ge}return j}function Ee(M){for(var j=pe(M);M.token==="or";)Y(M),j=new h("or","or",[j,pe(M)]);return j}function pe(M){for(var j=he(M);M.token==="xor";)Y(M),j=new h("xor","xor",[j,he(M)]);return j}function he(M){for(var j=De(M);M.token==="and";)Y(M),j=new h("and","and",[j,De(M)]);return j}function De(M){for(var j=ve(M);M.token==="|";)Y(M),j=new h("|","bitOr",[j,ve(M)]);return j}function ve(M){for(var j=de(M);M.token==="^|";)Y(M),j=new h("^|","bitXor",[j,de(M)]);return j}function de(M){for(var j=Ae(M);M.token==="&";)Y(M),j=new h("&","bitAnd",[j,Ae(M)]);return j}function Ae(M){for(var j=[Ne(M)],ge=[],Oe={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};ot(Oe,M.token);){var ct={name:M.token,fn:Oe[M.token]};ge.push(ct),Y(M),j.push(Ne(M))}return j.length===1?j[0]:j.length===2?new h(ge[0].name,ge[0].fn,j):new y(ge.map(_t=>_t.fn),j)}function Ne(M){var j,ge,Oe,ct;j=ke(M);for(var _t={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};ot(_t,M.token);)ge=M.token,Oe=_t[ge],Y(M),ct=[j,ke(M)],j=new h(ge,Oe,ct);return j}function ke(M){var j,ge,Oe,ct;j=nt(M);for(var _t={to:"to",in:"to"};ot(_t,M.token);)ge=M.token,Oe=_t[ge],Y(M),ge==="in"&&M.token===""?j=new h("*","multiply",[j,new _("in")],!0):(ct=[j,nt(M)],j=new h(ge,Oe,ct));return j}function nt(M){var j,ge=[];if(M.token===":"?j=new l(1):j=J(M),M.token===":"&&M.conditionalLevel!==M.nestingLevel){for(ge.push(j);M.token===":"&&ge.length<3;)Y(M),M.token===")"||M.token==="]"||M.token===","||M.token===""?ge.push(new _("end")):ge.push(J(M));ge.length===3?j=new g(ge[0],ge[2],ge[1]):j=new g(ge[0],ge[1])}return j}function J(M){var j,ge,Oe,ct;j=ee(M);for(var _t={"+":"add","-":"subtract"};ot(_t,M.token);){ge=M.token,Oe=_t[ge],Y(M);var Je=ee(M);Je.isPercentage?ct=[j,new h("*","multiply",[j,Je])]:ct=[j,Je],j=new h(ge,Oe,ct)}return j}function ee(M){var j,ge,Oe,ct;j=ye(M),ge=j;for(var _t={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};ot(_t,M.token);)Oe=M.token,ct=_t[Oe],Y(M),ge=ye(M),j=new h(Oe,ct,[j,ge]);return j}function ye(M){var j,ge;for(j=H(M),ge=j;M.tokenType===S.SYMBOL||M.token==="in"&&Lt(j)||M.tokenType===S.NUMBER&&!Lt(ge)&&(!Br(ge)||ge.op==="!")||M.token==="(";)ge=H(M),j=new h("*","multiply",[j,ge],!0);return j}function H(M){for(var j=te(M),ge=j,Oe=[];M.token==="/"&&mc(ge);)if(Oe.push(Or({},M)),Y(M),M.tokenType===S.NUMBER)if(Oe.push(Or({},M)),Y(M),M.tokenType===S.SYMBOL||M.token==="(")Or(M,Oe.pop()),Oe.pop(),ge=te(M),j=new h("/","divide",[j,ge]);else{Oe.pop(),Or(M,Oe.pop());break}else{Or(M,Oe.pop());break}return j}function te(M){var j,ge,Oe,ct;j=se(M);for(var _t={"%":"mod",mod:"mod"};ot(_t,M.token);)ge=M.token,Oe=_t[ge],Y(M),ge==="%"&&M.tokenType===S.DELIMITER&&M.token!=="("?j=new h("/","divide",[j,new l(100)],!1,!0):(ct=[j,se(M)],j=new h(ge,Oe,ct));return j}function se(M){var j,ge,Oe,ct={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return ot(ct,M.token)?(Oe=ct[M.token],j=M.token,Y(M),ge=[se(M)],new h(j,Oe,ge)):Ce(M)}function Ce(M){var j,ge,Oe,ct;return j=Te(M),(M.token==="^"||M.token===".^")&&(ge=M.token,Oe=ge==="^"?"pow":"dotPow",Y(M),ct=[j,se(M)],j=new h(ge,Oe,ct)),j}function Te(M){var j,ge,Oe,ct;j=Ye(M);for(var _t={"!":"factorial","'":"ctranspose"};ot(_t,M.token);)ge=M.token,Oe=_t[ge],k(M),ct=[j],j=new h(ge,Oe,ct),j=et(M,j);return j}function Ye(M){var j=[];if(M.tokenType===S.SYMBOL&&ot(M.extraNodes,M.token)){var ge=M.extraNodes[M.token];if(k(M),M.token==="("){if(j=[],B(M),k(M),M.token!==")")for(j.push(U(M));M.token===",";)k(M),j.push(U(M));if(M.token!==")")throw Ve(M,"Parenthesis ) expected");Z(M),k(M)}return new ge(j)}return Me(M)}function Me(M){var j,ge;return M.tokenType===S.SYMBOL||M.tokenType===S.DELIMITER&&M.token in C?(ge=M.token,k(M),ot(E,ge)?j=new l(E[ge]):D.indexOf(ge)!==-1?j=new l(t(ge,"number")):j=new _(ge),j=et(M,j),j):At(M)}function et(M,j,ge){for(var Oe;(M.token==="("||M.token==="["||M.token===".")&&(!ge||ge.indexOf(M.token)!==-1);)if(Oe=[],M.token==="(")if(Ar(j)||Ii(j)){if(B(M),k(M),M.token!==")")for(Oe.push(U(M));M.token===",";)k(M),Oe.push(U(M));if(M.token!==")")throw Ve(M,"Parenthesis ) expected");Z(M),k(M),j=new f(j,Oe)}else return j;else if(M.token==="["){if(B(M),k(M),M.token!=="]")for(Oe.push(U(M));M.token===",";)k(M),Oe.push(U(M));if(M.token!=="]")throw Ve(M,"Parenthesis ] expected");Z(M),k(M),j=new i(j,new p(Oe))}else{k(M);var ct=M.tokenType===S.SYMBOL||M.tokenType===S.DELIMITER&&M.token in C;if(!ct)throw Ve(M,"Property name expected after dot");Oe.push(new l(M.token)),k(M);var _t=!0;j=new i(j,new p(Oe,_t))}return j}function At(M){var j,ge;return M.token==='"'||M.token==="'"?(ge=_e(M,M.token),j=new l(ge),j=et(M,j),j):Ue(M)}function _e(M,j){for(var ge="";V(M)!==""&&V(M)!==j;)if(V(M)==="\\"){q(M);var Oe=V(M),ct=N[Oe];if(ct!==void 0)ge+=ct,M.index+=1;else if(Oe==="u"){var _t=M.expression.slice(M.index+1,M.index+5);if(/^[0-9A-Fa-f]{4}$/.test(_t))ge+=String.fromCharCode(parseInt(_t,16)),M.index+=5;else throw Ve(M,"Invalid unicode character \\u".concat(_t))}else throw Ve(M,"Bad escape character \\".concat(Oe))}else ge+=V(M),q(M);if(k(M),M.token!==j)throw Ve(M,"End of string ".concat(j," expected"));return k(M),ge}function Ue(M){var j,ge,Oe,ct;if(M.token==="["){if(B(M),k(M),M.token!=="]"){var _t=re(M);if(M.token===";"){for(Oe=1,ge=[_t];M.token===";";)k(M),M.token!=="]"&&(ge[Oe]=re(M),Oe++);if(M.token!=="]")throw Ve(M,"End of matrix ] expected");Z(M),k(M),ct=ge[0].items.length;for(var Je=1;Je<Oe;Je++)if(ge[Je].items.length!==ct)throw je(M,"Column dimensions mismatch ("+ge[Je].items.length+" !== "+ct+")");j=new a(ge)}else{if(M.token!=="]")throw Ve(M,"End of matrix ] expected");Z(M),k(M),j=_t}}else Z(M),k(M),j=new a([]);return et(M,j)}return me(M)}function re(M){for(var j=[U(M)],ge=1;M.token===",";)k(M),M.token!=="]"&&M.token!==";"&&(j[ge]=U(M),ge++);return new a(j)}function me(M){if(M.token==="{"){B(M);var j,ge={};do if(k(M),M.token!=="}"){if(M.token==='"'||M.token==="'")j=_e(M,M.token);else if(M.tokenType===S.SYMBOL||M.tokenType===S.DELIMITER&&M.token in C)j=M.token,k(M);else throw Ve(M,"Symbol or string expected as object key");if(M.token!==":")throw Ve(M,"Colon : expected after object key");k(M),ge[j]=U(M)}while(M.token===",");if(M.token!=="}")throw Ve(M,"Comma , or bracket } expected after object value");Z(M),k(M);var Oe=new m(ge);return Oe=et(M,Oe),Oe}return Se(M)}function Se(M){var j;return M.tokenType===S.NUMBER?(j=M.token,k(M),new l(t(j,n.number))):Re(M)}function Re(M){var j;if(M.token==="("){if(B(M),k(M),j=U(M),M.token!==")")throw Ve(M,"Parenthesis ) expected");return Z(M),k(M),j=new d(j),j=et(M,j),j}return $e(M)}function $e(M){throw M.token===""?Ve(M,"Unexpected end of expression"):Ve(M,"Value expected")}function Pe(M){return M.index-M.token.length+1}function Ve(M,j){var ge=Pe(M),Oe=new SyntaxError(j+" (char "+ge+")");return Oe.char=ge,Oe}function je(M,j){var ge=Pe(M),Oe=new SyntaxError(j+" (char "+ge+")");return Oe.char=ge,Oe}return e.addConversion({from:"string",to:"Node",convert:b}),b});var cI="compile",BQ=["typed","parse"],Y1=T(cI,BQ,r=>{var{typed:e,parse:t}=r;return e(cI,{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return st(i,function(a){return t(a).compile()})}})});var fI="evaluate",PQ=["typed","parse"],j1=T(fI,PQ,r=>{var{typed:e,parse:t}=r;return e(fI,{string:function(i){var a=Jo();return t(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return t(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=Jo();return st(i,function(o){return t(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return st(i,function(o){return t(o).compile().evaluate(a)})}})});var OQ="Parser",kQ=["evaluate"],Z1=T(OQ,kQ,r=>{var{evaluate:e}=r;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Jo(),writable:!1})}return t.prototype.type="Parser",t.prototype.isParser=!0,t.prototype.evaluate=function(n){return e(n,this.scope)},t.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},t.prototype.getAll=function(){return _T(this.scope)},t.prototype.getAllAsMap=function(){return this.scope},t.prototype.set=function(n,i){return this.scope.set(n,i),i},t.prototype.remove=function(n){this.scope.delete(n)},t.prototype.clear=function(){this.scope.clear()},t},{isClass:!0});var pI="parser",RQ=["typed","Parser"],J1=T(pI,RQ,r=>{var{typed:e,Parser:t}=r;return e(pI,{"":function(){return new t}})});var mI="lup",LQ=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],X1=T(mI,LQ,r=>{var{typed:e,matrix:t,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:u,larger:s,equalScalar:l,unaryMinus:c,DenseMatrix:f,SparseMatrix:p,Spa:m}=r;return e(mI,{DenseMatrix:function(y){return h(y)},SparseMatrix:function(y){return d(y)},Array:function(y){var _=t(y),b=h(_);return{L:b.L.valueOf(),U:b.U.valueOf(),p:b.p}}});function h(g){var y=g._size[0],_=g._size[1],b=Math.min(y,_),w=dt(g._data),S=[],x=[y,b],C=[],E=[b,_],D,N,I,O=[];for(D=0;D<y;D++)O[D]=D;for(N=0;N<_;N++){if(N>0)for(D=0;D<y;D++){var V=Math.min(D,N),q=0;for(I=0;I<V;I++)q=i(q,o(w[D][I],w[I][N]));w[D][N]=u(w[D][N],q)}var L=N,P=0,k=0;for(D=N;D<y;D++){var Y=w[D][N],B=n(Y);s(B,P)&&(L=D,P=B,k=Y)}if(N!==L&&(O[N]=[O[L],O[L]=O[N]][0],f._swapRows(N,L,w)),N<y)for(D=N+1;D<y;D++){var Z=w[D][N];l(Z,0)||(w[D][N]=a(w[D][N],k))}}for(N=0;N<_;N++)for(D=0;D<y;D++){if(N===0&&(D<_&&(C[D]=[]),S[D]=[]),D<N){D<_&&(C[D][N]=w[D][N]),N<y&&(S[D][N]=0);continue}if(D===N){D<_&&(C[D][N]=w[D][N]),N<y&&(S[D][N]=1);continue}D<_&&(C[D][N]=0),N<y&&(S[D][N]=w[D][N])}var oe=new f({data:S,size:x}),ne=new f({data:C,size:E}),U=[];for(D=0,b=O.length;D<b;D++)U[O[D]]=D;return{L:oe,U:ne,p:U,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function d(g){var y=g._size[0],_=g._size[1],b=Math.min(y,_),w=g._values,S=g._index,x=g._ptr,C=[],E=[],D=[],N=[y,b],I=[],O=[],V=[],q=[b,_],L,P,k,Y=[],B=[];for(L=0;L<y;L++)Y[L]=L,B[L]=L;var Z=function(U,fe){var Ee=B[U],pe=B[fe];Y[Ee]=fe,Y[pe]=U,B[U]=pe,B[fe]=Ee},oe=function(){var U=new m;P<y&&(D.push(C.length),C.push(1),E.push(P)),V.push(I.length);var fe=x[P],Ee=x[P+1];for(k=fe;k<Ee;k++)L=S[k],U.set(Y[L],w[k]);P>0&&U.forEach(0,P-1,function(ve,de){p._forEachRow(ve,C,E,D,function(Ae,Ne){Ae>ve&&U.accumulate(Ae,c(o(Ne,de)))})});var pe=P,he=U.get(P),De=n(he);U.forEach(P+1,y-1,function(ve,de){var Ae=n(de);s(Ae,De)&&(pe=ve,De=Ae,he=de)}),P!==pe&&(p._swapRows(P,pe,N[1],C,E,D),p._swapRows(P,pe,q[1],I,O,V),U.swap(P,pe),Z(P,pe)),U.forEach(0,y-1,function(ve,de){ve<=P?(I.push(de),O.push(ve)):(de=a(de,he),l(de,0)||(C.push(de),E.push(ve)))})};for(P=0;P<_;P++)oe();return V.push(I.length),D.push(C.length),{L:new p({values:C,index:E,ptr:D,size:N}),U:new p({values:I,index:O,ptr:V,size:q}),p:Y,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var dI="qr",VQ=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],Q1=T(dI,VQ,r=>{var{typed:e,matrix:t,zeros:n,identity:i,isZero:a,equal:o,sign:u,sqrt:s,conj:l,unaryMinus:c,addScalar:f,divideScalar:p,multiplyScalar:m,subtractScalar:h,complex:d}=r;return Or(e(dI,{DenseMatrix:function(w){return y(w)},SparseMatrix:function(w){return _(w)},Array:function(w){var S=t(w),x=y(S);return{Q:x.Q.valueOf(),R:x.R.valueOf()}}}),{_denseQRimpl:g});function g(b){var w=b._size[0],S=b._size[1],x=i([w],"dense"),C=x._data,E=b.clone(),D=E._data,N,I,O,V=n([w],"");for(O=0;O<Math.min(S,w);++O){var q=D[O][O],L=c(o(q,0)?1:u(q)),P=l(L),k=0;for(N=O;N<w;N++)k=f(k,m(D[N][O],l(D[N][O])));var Y=m(L,s(k));if(!a(Y)){var B=h(q,Y);for(V[O]=1,N=O+1;N<w;N++)V[N]=p(D[N][O],B);var Z=c(l(p(B,Y))),oe=void 0;for(I=O;I<S;I++){for(oe=0,N=O;N<w;N++)oe=f(oe,m(l(V[N]),D[N][I]));for(oe=m(oe,Z),N=O;N<w;N++)D[N][I]=m(h(D[N][I],m(V[N],oe)),P)}for(N=0;N<w;N++){for(oe=0,I=O;I<w;I++)oe=f(oe,m(C[N][I],V[I]));for(oe=m(oe,Z),I=O;I<w;++I)C[N][I]=p(h(C[N][I],m(oe,l(V[I]))),P)}}}return{Q:x,R:E,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function y(b){var w=g(b),S=w.R._data;if(b._data.length>0)for(var x=S[0][0].type==="Complex"?d(0):0,C=0;C<S.length;++C)for(var E=0;E<C&&E<(S[0]||[]).length;++E)S[C][E]=x;return w}function _(b){throw new Error("qr not implemented for sparse matrices yet")}});function hI(r,e,t,n){for(var i=r._values,a=r._index,o=r._ptr,u=r._size,s=r._datatype,l=u[0],c=u[1],f=n&&r._values?[]:null,p=[],m=[],h=0,d=0;d<c;d++){m[d]=h;for(var g=t?t[d]:d,y=o[g],_=o[g+1],b=y;b<_;b++){var w=e?e[a[b]]:a[b];p[h]=w,f&&(f[h]=i[b]),h++}}return m[c]=h,r.createSparseMatrix({values:f,index:p,ptr:m,size:[l,c],datatype:s})}function pd(r,e,t,n,i,a,o){var u=0;for(t[o]=r;u>=0;){var s=t[o+u],l=t[n+s];l===-1?(u--,a[e++]=s):(t[n+s]=t[i+l],++u,t[o+u]=l)}return e}function gI(r,e){if(!r)return null;var t=0,n,i=[],a=[],o=0,u=e,s=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)r[n]!==-1&&(a[u+n]=a[o+r[n]],a[o+r[n]]=n);for(n=0;n<e;n++)r[n]===-1&&(t=pd(n,t,a,o,u,i,s));return i}function vI(r,e){if(!r)return null;var t=r._index,n=r._ptr,i=r._size,a=i[0],o=i[1],u=[],s=[],l=0,c=o,f,p;if(e)for(f=0;f<a;f++)s[c+f]=-1;for(var m=0;m<o;m++){u[m]=-1,s[l+m]=-1;for(var h=n[m],d=n[m+1],g=h;g<d;g++){var y=t[g];for(f=e?s[c+y]:y;f!==-1&&f<m;f=p)p=s[l+f],s[l+f]=m,p===-1&&(u[f]=m);e&&(s[c+y]=m)}}return u}function yI(r,e,t){for(var n=r._values,i=r._index,a=r._ptr,o=r._size,u=o[1],s=0,l=0;l<u;l++){var c=a[l];for(a[l]=s;c<a[l+1];c++)e(i[c],l,n?n[c]:1,t)&&(i[s]=i[c],n&&(n[s]=n[c]),s++)}return a[u]=s,i.splice(s,i.length-s),n&&n.splice(s,n.length-s),s}function wa(r){return-r-2}var UQ="csAmd",$Q=["add","multiply","transpose"],bI=T(UQ,$Q,r=>{var{add:e,multiply:t,transpose:n}=r;return function(c,f){if(!f||c<=0||c>3)return null;var p=f._size,m=p[0],h=p[1],d=0,g=Math.max(16,10*Math.sqrt(h));g=Math.min(h-2,g);var y=i(c,f,m,h,g);yI(y,s,null);for(var _=y._index,b=y._ptr,w=b[h],S=[],x=[],C=0,E=h+1,D=2*(h+1),N=3*(h+1),I=4*(h+1),O=5*(h+1),V=6*(h+1),q=7*(h+1),L=S,P=a(h,b,x,C,N,L,D,q,E,V,I,O),k=o(h,b,x,O,I,V,g,E,N,L,D),Y=0,B,Z,oe,ne,U,fe,Ee,pe,he,De,ve,de,Ae,Ne,ke,nt;k<h;){for(oe=-1;Y<h&&(oe=x[N+Y])===-1;Y++);x[D+oe]!==-1&&(L[x[D+oe]]=-1),x[N+Y]=x[D+oe];var J=x[I+oe],ee=x[E+oe];k+=ee;var ye=0;x[E+oe]=-ee;var H=b[oe],te=J===0?H:w,se=te;for(ne=1;ne<=J+1;ne++){for(ne>J?(fe=oe,Ee=H,pe=x[C+oe]-J):(fe=_[H++],Ee=b[fe],pe=x[C+fe]),U=1;U<=pe;U++)B=_[Ee++],!((he=x[E+B])<=0)&&(ye+=he,x[E+B]=-he,_[se++]=B,x[D+B]!==-1&&(L[x[D+B]]=L[B]),L[B]!==-1?x[D+L[B]]=x[D+B]:x[N+x[O+B]]=x[D+B]);fe!==oe&&(b[fe]=wa(oe),x[V+fe]=0)}for(J!==0&&(w=se),x[O+oe]=ye,b[oe]=te,x[C+oe]=se-te,x[I+oe]=-2,P=u(P,d,x,V,h),De=te;De<se;De++)if(B=_[De],!((ve=x[I+B])<=0)){he=-x[E+B];var Ce=P-he;for(H=b[B],de=b[B]+ve-1;H<=de;H++)fe=_[H],x[V+fe]>=P?x[V+fe]-=he:x[V+fe]!==0&&(x[V+fe]=x[O+fe]+Ce)}for(De=te;De<se;De++){for(B=_[De],de=b[B],Ae=de+x[I+B]-1,Ne=de,ke=0,nt=0,H=de;H<=Ae;H++)if(fe=_[H],x[V+fe]!==0){var Te=x[V+fe]-P;Te>0?(nt+=Te,_[Ne++]=fe,ke+=fe):(b[fe]=wa(oe),x[V+fe]=0)}x[I+B]=Ne-de+1;var Ye=Ne,Me=de+x[C+B];for(H=Ae+1;H<Me;H++){Z=_[H];var et=x[E+Z];et<=0||(nt+=et,_[Ne++]=Z,ke+=Z)}nt===0?(b[B]=wa(oe),he=-x[E+B],ye-=he,ee+=he,k+=he,x[E+B]=0,x[I+B]=-1):(x[O+B]=Math.min(x[O+B],nt),_[Ne]=_[Ye],_[Ye]=_[de],_[de]=oe,x[C+B]=Ne-de+1,ke=(ke<0?-ke:ke)%h,x[D+B]=x[q+ke],x[q+ke]=B,L[B]=ke)}for(x[O+oe]=ye,d=Math.max(d,ye),P=u(P+d,d,x,V,h),De=te;De<se;De++)if(B=_[De],!(x[E+B]>=0))for(ke=L[B],B=x[q+ke],x[q+ke]=-1;B!==-1&&x[D+B]!==-1;B=x[D+B],P++){for(pe=x[C+B],ve=x[I+B],H=b[B]+1;H<=b[B]+pe-1;H++)x[V+_[H]]=P;var At=B;for(Z=x[D+B];Z!==-1;){var _e=x[C+Z]===pe&&x[I+Z]===ve;for(H=b[Z]+1;_e&&H<=b[Z]+pe-1;H++)x[V+_[H]]!==P&&(_e=0);_e?(b[Z]=wa(B),x[E+B]+=x[E+Z],x[E+Z]=0,x[I+Z]=-1,Z=x[D+Z],x[D+At]=Z):(At=Z,Z=x[D+Z])}}for(H=te,De=te;De<se;De++)B=_[De],!((he=-x[E+B])<=0)&&(x[E+B]=he,nt=x[O+B]+ye-he,nt=Math.min(nt,h-k-he),x[N+nt]!==-1&&(L[x[N+nt]]=B),x[D+B]=x[N+nt],L[B]=-1,x[N+nt]=B,Y=Math.min(Y,nt),x[O+B]=nt,_[H++]=B);x[E+oe]=ee,(x[C+oe]=H-te)===0&&(b[oe]=-1,x[V+oe]=0),J!==0&&(w=H)}for(B=0;B<h;B++)b[B]=wa(b[B]);for(Z=0;Z<=h;Z++)x[N+Z]=-1;for(Z=h;Z>=0;Z--)x[E+Z]>0||(x[D+Z]=x[N+b[Z]],x[N+b[Z]]=Z);for(fe=h;fe>=0;fe--)x[E+fe]<=0||b[fe]!==-1&&(x[D+fe]=x[N+b[fe]],x[N+b[fe]]=fe);for(oe=0,B=0;B<=h;B++)b[B]===-1&&(oe=pd(B,oe,x,N,D,S,V));return S.splice(S.length-1,1),S};function i(l,c,f,p,m){var h=n(c);if(l===1&&p===f)return e(c,h);if(l===2){for(var d=h._index,g=h._ptr,y=0,_=0;_<f;_++){var b=g[_];if(g[_]=y,!(g[_+1]-b>m))for(var w=g[_+1];b<w;b++)d[y++]=d[b]}return g[f]=y,c=n(h),t(h,c)}return t(h,c)}function a(l,c,f,p,m,h,d,g,y,_,b,w){for(var S=0;S<l;S++)f[p+S]=c[S+1]-c[S];f[p+l]=0;for(var x=0;x<=l;x++)f[m+x]=-1,h[x]=-1,f[d+x]=-1,f[g+x]=-1,f[y+x]=1,f[_+x]=1,f[b+x]=0,f[w+x]=f[p+x];var C=u(0,0,f,_,l);return f[b+l]=-2,c[l]=-1,f[_+l]=0,C}function o(l,c,f,p,m,h,d,g,y,_,b){for(var w=0,S=0;S<l;S++){var x=f[p+S];if(x===0)f[m+S]=-2,w++,c[S]=-1,f[h+S]=0;else if(x>d)f[g+S]=0,f[m+S]=-1,w++,c[S]=wa(l),f[g+l]++;else{var C=f[y+x];C!==-1&&(_[C]=S),f[b+S]=f[y+x],f[y+x]=S}}return w}function u(l,c,f,p,m){if(l<2||l+c<0){for(var h=0;h<m;h++)f[p+h]!==0&&(f[p+h]=1);l=2}return l}function s(l,c){return l!==c}});function xI(r,e,t,n,i,a,o){var u,s,l=0,c;if(r<=e||t[n+e]<=t[i+r])return-1;t[i+r]=t[n+e];var f=t[a+r];if(t[a+r]=e,f===-1)l=1,c=r;else{for(l=2,c=f;c!==t[o+c];c=t[o+c]);for(u=f;u!==c;u=s)s=t[o+u],t[o+u]=c}return{jleaf:l,q:c}}var qQ="csCounts",zQ=["transpose"],wI=T(qQ,zQ,r=>{var{transpose:e}=r;return function(t,n,i,a){if(!t||!n||!i)return null;var o=t._size,u=o[0],s=o[1],l,c,f,p,m,h,d,g=4*s+(a?s+u+1:0),y=[],_=0,b=s,w=2*s,S=3*s,x=4*s,C=5*s+1;for(f=0;f<g;f++)y[f]=-1;var E=[],D=e(t),N=D._index,I=D._ptr;for(f=0;f<s;f++)for(c=i[f],E[c]=y[S+c]===-1?1:0;c!==-1&&y[S+c]===-1;c=n[c])y[S+c]=f;if(a){for(f=0;f<s;f++)y[i[f]]=f;for(l=0;l<u;l++){for(f=s,h=I[l],d=I[l+1],m=h;m<d;m++)f=Math.min(f,y[N[m]]);y[C+l]=y[x+f],y[x+f]=l}}for(l=0;l<s;l++)y[_+l]=l;for(f=0;f<s;f++){for(c=i[f],n[c]!==-1&&E[n[c]]--,p=a?y[x+f]:c;p!==-1;p=a?y[C+p]:-1)for(m=I[p];m<I[p+1];m++){l=N[m];var O=xI(l,c,y,S,b,w,_);O.jleaf>=1&&E[c]++,O.jleaf===2&&E[O.q]--}n[c]!==-1&&(y[_+c]=n[c])}for(c=0;c<s;c++)n[c]!==-1&&(E[n[c]]+=E[c]);return E}});var HQ="csSqr",GQ=["add","multiply","transpose"],_I=T(HQ,GQ,r=>{var{add:e,multiply:t,transpose:n}=r,i=bI({add:e,multiply:t,transpose:n}),a=wI({transpose:n});return function(s,l,c){var f=l._ptr,p=l._size,m=p[1],h,d={};if(d.q=i(s,l),s&&!d.q)return null;if(c){var g=s?hI(l,null,d.q,0):l;d.parent=vI(g,1);var y=gI(d.parent,m);if(d.cp=a(g,d.parent,y,1),g&&d.parent&&d.cp&&o(g,d))for(d.unz=0,h=0;h<m;h++)d.unz+=d.cp[h]}else d.unz=4*f[m]+m,d.lnz=d.unz;return d};function o(u,s){var l=u._ptr,c=u._index,f=u._size,p=f[0],m=f[1];s.pinv=[],s.leftmost=[];var h=s.parent,d=s.pinv,g=s.leftmost,y=[],_=0,b=p,w=p+m,S=p+2*m,x,C,E,D,N;for(C=0;C<m;C++)y[b+C]=-1,y[w+C]=-1,y[S+C]=0;for(x=0;x<p;x++)g[x]=-1;for(C=m-1;C>=0;C--)for(D=l[C],N=l[C+1],E=D;E<N;E++)g[c[E]]=C;for(x=p-1;x>=0;x--)d[x]=-1,C=g[x],C!==-1&&(y[S+C]++===0&&(y[w+C]=x),y[_+x]=y[b+C],y[b+C]=x);for(s.lnz=0,s.m2=p,C=0;C<m;C++)if(x=y[b+C],s.lnz++,x<0&&(x=s.m2++),d[x]=C,!(--S[C]<=0)){s.lnz+=y[S+C];var I=h[C];I!==-1&&(y[S+I]===0&&(y[w+I]=y[w+C]),y[_+y[w+C]]=y[b+I],y[b+I]=y[_+x],y[S+I]+=y[S+C])}for(x=0;x<p;x++)d[x]<0&&(d[x]=C++);return!0}});function Uc(r,e){return r[e]<0}function md(r,e){r[e]=wa(r[e])}function K1(r){return r<0?wa(r):r}function SI(r,e,t,n,i){var a=e._index,o=e._ptr,u=e._size,s=u[1],l,c,f,p=0;for(n[0]=r;p>=0;){r=n[p];var m=i?i[r]:r;Uc(o,r)||(md(o,r),n[s+p]=m<0?0:K1(o[m]));var h=1;for(c=n[s+p],f=m<0?0:K1(o[m+1]);c<f;c++)if(l=a[c],!Uc(o,l)){n[s+p]=c,n[++p]=l,h=0;break}h&&(p--,n[--t]=r)}return t}function AI(r,e,t,n,i){var a=r._ptr,o=r._size,u=e._index,s=e._ptr,l=o[1],c,f,p,m=l;for(f=s[t],p=s[t+1],c=f;c<p;c++){var h=u[c];Uc(a,h)||(m=SI(h,r,m,n,i))}for(c=m;c<l;c++)md(a,n[c]);return m}var WQ="csSpsolve",YQ=["divideScalar","multiply","subtract"],DI=T(WQ,YQ,r=>{var{divideScalar:e,multiply:t,subtract:n}=r;return function(a,o,u,s,l,c,f){var p=a._values,m=a._index,h=a._ptr,d=a._size,g=d[1],y=o._values,_=o._index,b=o._ptr,w,S,x,C,E=AI(a,o,u,s,c);for(w=E;w<g;w++)l[s[w]]=0;for(S=b[u],x=b[u+1],w=S;w<x;w++)l[_[w]]=y[w];for(var D=E;D<g;D++){var N=s[D],I=c?c[N]:N;if(!(I<0))for(S=h[I],x=h[I+1],l[N]=e(l[N],p[f?S:x-1]),w=f?S+1:S,C=f?x:x-1;w<C;w++){var O=m[w];l[O]=n(l[O],t(p[w],l[N]))}}return E}});var jQ="csLu",ZQ=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],EI=T(jQ,ZQ,r=>{var{abs:e,divideScalar:t,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:u}=r,s=DI({divideScalar:t,multiply:n,subtract:i});return function(c,f,p){if(!c)return null;var m=c._size,h=m[1],d,g=100,y=100;f&&(d=f.q,g=f.lnz||g,y=f.unz||y);var _=[],b=[],w=[],S=new u({values:_,index:b,ptr:w,size:[h,h]}),x=[],C=[],E=[],D=new u({values:x,index:C,ptr:E,size:[h,h]}),N=[],I,O,V=[],q=[];for(I=0;I<h;I++)V[I]=0,N[I]=-1,w[I+1]=0;g=0,y=0;for(var L=0;L<h;L++){w[L]=g,E[L]=y;var P=d?d[L]:L,k=s(S,c,P,q,V,N,1),Y=-1,B=-1;for(O=k;O<h;O++)if(I=q[O],N[I]<0){var Z=e(V[I]);a(Z,B)&&(B=Z,Y=I)}else C[y]=N[I],x[y++]=V[I];if(Y===-1||B<=0)return null;N[P]<0&&o(e(V[P]),n(B,p))&&(Y=P);var oe=V[Y];for(C[y]=L,x[y++]=oe,N[Y]=L,b[g]=Y,_[g++]=1,O=k;O<h;O++)I=q[O],N[I]<0&&(b[g]=I,_[g++]=t(V[I],oe)),V[I]=0}for(w[h]=g,E[h]=y,O=0;O<g;O++)b[O]=N[b[O]];return _.splice(g,_.length-g),b.splice(g,b.length-g),x.splice(y,x.length-y),C.splice(y,C.length-y),{L:S,U:D,pinv:N}}});var NI="slu",JQ=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],ew=T(NI,JQ,r=>{var{typed:e,abs:t,add:n,multiply:i,transpose:a,divideScalar:o,subtract:u,larger:s,largerEq:l,SparseMatrix:c}=r,f=_I({add:n,multiply:i,transpose:a}),p=EI({abs:t,divideScalar:o,multiply:i,subtract:u,larger:s,largerEq:l,SparseMatrix:c});return e(NI,{"SparseMatrix, number, number":function(h,d,g){if(!tt(d)||d<0||d>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var y=f(d,h,!1),_=p(h,y,g);return{L:_.L,U:_.U,p:_.pinv,q:y.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function tw(r,e){var t,n=e.length,i=[];if(r)for(t=0;t<n;t++)i[r[t]]=e[t];else for(t=0;t<n;t++)i[t]=e[t];return i}var CI="lusolve",XQ=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],rw=T(CI,XQ,r=>{var{typed:e,matrix:t,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:u}=r,s=ka({DenseMatrix:u});return e(CI,{"Array, Array | Matrix":function(p,m){p=t(p);var h=n(p),d=c(h.L,h.U,h.p,null,m);return d.valueOf()},"DenseMatrix, Array | Matrix":function(p,m){var h=n(p);return c(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix":function(p,m){var h=n(p);return c(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix, number, number":function(p,m,h,d){var g=i(p,h,d);return c(g.L,g.U,g.p,g.q,m)},"Object, Array | Matrix":function(p,m){return c(p.L,p.U,p.p,p.q,m)}});function l(f){if(it(f))return f;if(Jt(f))return t(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,p,m,h,d){f=l(f),p=l(p),m&&(d=s(f,d,!0),d._data=tw(m,d._data));var g=o(f,d),y=a(p,g);return h&&(y._data=tw(h,y._data)),y}});var TI="polynomialRoot",QQ=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],nw=T(TI,QQ,r=>{var{typed:e,isZero:t,equalScalar:n,add:i,subtract:a,multiply:o,divide:u,sqrt:s,unaryMinus:l,cbrt:c,typeOf:f,im:p,re:m}=r;return e(TI,{"number|Complex, ...number|Complex":(h,d)=>{for(var g=[h,...d];g.length>0&&t(g[g.length-1]);)g.pop();if(g.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(d,"] must have a non-zero non-constant coefficient"));switch(g.length){case 2:return[l(u(g[0],g[1]))];case 3:{var[y,_,b]=g,w=o(2,b),S=o(_,_),x=o(4,b,y);if(n(S,x))return[u(l(_),w)];var C=s(a(S,x));return[u(a(C,_),w),u(a(l(C),_),w)]}case 4:{var[E,D,N,I]=g,O=l(o(3,I)),V=o(N,N),q=o(3,I,D),L=i(o(2,N,N,N),o(27,I,I,E)),P=o(9,I,N,D);if(n(V,q)&&n(L,P))return[u(N,O)];var k=a(V,q),Y=a(L,P),B=i(o(18,I,N,D,E),o(N,N,D,D)),Z=i(o(4,N,N,N,E),o(4,I,D,D,D),o(27,I,I,E,E));if(n(B,Z))return[u(a(o(4,I,N,D),i(o(9,I,I,E),o(N,N,N))),o(I,k)),u(a(o(9,I,E),o(N,D)),o(2,k))];var oe;n(V,q)?oe=Y:oe=u(i(Y,s(a(o(Y,Y),o(4,k,k,k)))),2);var ne=!0,U=c(oe,ne).toArray().map(fe=>u(i(N,fe,u(k,fe)),O));return U.map(fe=>f(fe)==="Complex"&&n(m(fe),m(fe)+p(fe))?m(fe):fe)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(g))}}})});var KQ="Help",eK=["evaluate"],iw=T(KQ,eK,r=>{var{evaluate:e}=r;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a=!1,o=e("config()"),u={config:f=>(a=!0,e("config(newConfig)",{newConfig:f}))},s=0;s<n.examples.length;s++){var l=n.examples[s];i+="    "+l+`
`;var c=void 0;try{c=e(l,u)}catch(f){c=f}c!==void 0&&!um(c)&&(i+="        "+St(c,{precision:14})+`
`)}i+=`
`,a&&e("config(originalConfig)",{originalConfig:o})}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},t.prototype.toJSON=function(){var n=dt(this.doc);return n.mathjs="Help",n},t.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0});var tK="Chain",rK=["?on","math","typed"],aw=T(tK,rK,r=>{var{on:e,math:t,typed:n}=r;function i(l){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");lm(l)?this.value=l.value:this.value=l}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return St(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(l){return new i(l.value)};function a(l,c){typeof c=="function"&&(i.prototype[l]=u(c))}function o(l,c){zC(i.prototype,l,function(){var p=c();if(typeof p=="function")return u(p)})}function u(l){return function(){if(arguments.length===0)return new i(l(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(n.isTypedFunction(l)){var p=n.resolve(l,c);if(p.params.length===1)throw new Error("chain function "+l.name+" cannot match rest parameter between chain value and additional arguments.");return new i(p.implementation.apply(l,c))}return new i(l.apply(l,c))}}i.createProxy=function(l,c){if(typeof l=="string")a(l,c);else{var f=function(h){ot(l,h)&&s[h]===void 0&&o(h,()=>l[h])};for(var p in l)f(p)}};var s={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(l,c,f){f||o(l,c)}),i},{isClass:!0});var ow={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var MI={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var FI={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var II={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var BI={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var PI={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var OI={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var kI={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var RI={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var LI={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var VI={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var sw={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var UI={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var $I={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var qI={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var zI={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var HI={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var GI={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]};var WI={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var YI={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var jI={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var ZI={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var JI={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var XI={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var QI={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]};var KI={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var eB={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var tB={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var rB={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var nB={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var iB={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var aB={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var oB={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var sB={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var uB={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var lB={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var cB={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var fB={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var pB={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var mB={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var dB={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var hB={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var gB={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var vB={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var yB={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var bB={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var xB={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var wB={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var _B={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var SB={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var AB={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var DB={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var EB={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};var NB={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var CB={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var TB={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var MB={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var FB={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var IB={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var BB={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var PB={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var OB={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};var kB={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};var RB={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var LB={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var VB={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var UB={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var $B={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var qB={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var zB={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var HB={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var GB={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var WB={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var YB={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var jB={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var ZB={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var JB={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var XB={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]};var QB={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var KB={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var eP={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var tP={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var rP={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var nP={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var iP={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var aP={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var oP={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var sP={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var uP={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var lP={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var cP={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var fP={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var pP={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var mP={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var dP={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var hP={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var gP={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var vP={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var yP={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var bP={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var xP={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var wP={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var _P={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var SP={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var AP={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var DP={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var EP={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var NP={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var CP={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var TP={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var MP={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var FP={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var IP={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var BP={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var PP={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var OP={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var kP={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var RP={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var LP={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var VP={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var UP={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var $P={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]};var qP={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var zP={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var HP={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var GP={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var WP={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var YP={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var jP={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var ZP={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var JP={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]};var XP={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var QP={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var KP={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var eO={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var tO={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var rO={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var nO={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var iO={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var aO={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var oO={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var sO={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var uO={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var lO={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var cO={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var fO={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var pO={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var mO={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var dO={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var hO={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var gO={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var vO={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var yO={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var bO={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var xO={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var wO={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var _O={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var SO={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var AO={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var DO={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var EO={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var NO={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var CO={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var TO={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var MO={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var FO={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var IO={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var BO={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var PO={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var OO={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var kO={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var RO={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var LO={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var VO={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var UO={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var $O={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var qO={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var zO={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var HO={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var GO={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var WO={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var YO={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var jO={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var ZO={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var JO={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var XO={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var QO={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var KO={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var ek={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var tk={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var rk={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var nk={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var ik={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var ak={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var ok={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var sk={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var uk={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var lk={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var ck={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var fk={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var pk={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var mk={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var dk={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var hk={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var gk={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var vk={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var yk={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var bk={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var xk={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var wk={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var _k={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var Sk={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var Ak={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var Dk={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var Ek={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var Nk={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var Ck={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var Tk={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var Mk={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var Fk={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var Ik={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var Bk={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var Pk={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var Ok={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var kk={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var Rk={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var Lk={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var Vk={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var Uk={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var $k={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var qk={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var zk={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var Hk={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var Gk={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var Wk={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var Yk={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var jk={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var Zk={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var Jk={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]};var Xk={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var Qk={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var Kk={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var eR={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var tR={bignumber:GI,boolean:WI,complex:YI,createUnit:jI,fraction:ZI,index:JI,matrix:XI,number:QI,sparse:KI,splitUnit:eB,string:tB,unit:rB,e:ow,E:ow,false:MI,i:FI,Infinity:II,LN2:PI,LN10:BI,LOG2E:kI,LOG10E:OI,NaN:RI,null:LI,pi:sw,PI:sw,phi:VI,SQRT1_2:UI,SQRT2:$I,tau:qI,true:zI,version:HI,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:oB,lsolve:uB,lsolveAll:lB,lup:cB,lusolve:fB,leafCount:sB,polynomialRoot:pB,resolve:hB,simplify:gB,simplifyConstant:vB,simplifyCore:yB,symbolicEqual:xB,rationalize:dB,slu:bB,usolve:wB,usolveAll:_B,qr:mB,abs:SB,add:AB,cbrt:DB,ceil:EB,cube:NB,divide:CB,dotDivide:TB,dotMultiply:MB,dotPow:FB,exp:IB,expm:BB,expm1:PB,fix:OB,floor:kB,gcd:RB,hypot:LB,lcm:UB,log:$B,log2:HB,log1p:zB,log10:qB,mod:GB,multiply:WB,norm:YB,nthRoot:jB,nthRoots:ZB,pow:JB,round:XB,sign:QB,sqrt:KB,sqrtm:eP,square:iP,subtract:aP,unaryMinus:oP,unaryPlus:sP,xgcd:uP,invmod:VB,bitAnd:lP,bitNot:cP,bitOr:fP,bitXor:pP,leftShift:mP,rightArithShift:dP,rightLogShift:hP,bellNumbers:gP,catalan:vP,composition:yP,stirlingS2:bP,config:nB,import:iB,typed:aB,arg:xP,conj:wP,re:SP,im:_P,evaluate:AP,help:DP,distance:EP,intersect:NP,and:CP,not:TP,or:MP,xor:FP,concat:BP,count:PP,cross:OP,column:IP,ctranspose:kP,det:RP,diag:LP,diff:VP,dot:UP,getMatrixDataType:GP,identity:WP,filter:qP,flatten:zP,forEach:HP,inv:YP,pinv:jP,eigs:$P,kron:ZP,matrixFromFunction:QP,matrixFromRows:KP,matrixFromColumns:XP,map:JP,ones:eO,partitionSelect:tO,range:rO,resize:iO,reshape:nO,rotate:aO,rotationMatrix:oO,row:sO,size:uO,sort:lO,squeeze:cO,subset:fO,trace:pO,transpose:mO,zeros:dO,fft:hO,ifft:gO,sylvester:tP,schur:rP,lyap:nP,solveODE:eR,combinations:vO,combinationsWithRep:yO,factorial:bO,gamma:xO,kldivergence:_O,lgamma:wO,multinomial:SO,permutations:AO,pickRandom:DO,random:EO,randomInt:NO,compare:CO,compareNatural:TO,compareText:MO,deepEqual:FO,equal:IO,equalText:BO,larger:PO,largerEq:OO,smaller:kO,smallerEq:RO,unequal:LO,setCartesian:VO,setDifference:UO,setDistinct:$O,setIntersect:qO,setIsSubset:zO,setMultiplicity:HO,setPowerset:GO,setSize:WO,setSymDifference:YO,setUnion:jO,zpk2tf:ZO,freqz:JO,erf:XO,zeta:QO,cumsum:uk,mad:KO,max:ek,mean:tk,median:rk,min:nk,mode:ik,prod:ak,quantileSeq:ok,std:sk,sum:lk,variance:ck,corr:fk,acos:pk,acosh:mk,acot:dk,acoth:hk,acsc:gk,acsch:vk,asec:yk,asech:bk,asin:xk,asinh:wk,atan:_k,atanh:Ak,atan2:Sk,cos:Dk,cosh:Ek,cot:Nk,coth:Ck,csc:Tk,csch:Mk,sec:Fk,sech:Ik,sin:Bk,sinh:Pk,tan:Ok,tanh:kk,to:Rk,clone:Vk,format:Uk,bin:Lk,oct:Xk,hex:qk,isNaN:Hk,isInteger:zk,isNegative:Gk,isNumeric:Wk,hasNumericValue:$k,isPositive:Yk,isPrime:jk,isZero:Zk,print:Qk,typeOf:Kk,numeric:Jk};var rR="help",nK=["typed","mathWithTransform","Help"],uw=T(rR,nK,r=>{var{typed:e,mathWithTransform:t,Help:n}=r;return e(rR,{any:function(a){var o,u=a;if(typeof a!="string"){for(o in t)if(ot(t,o)&&a===t[o]){u=o;break}}var s=kr(tR,u);if(!s){var l=typeof u=="function"?u.name:u;throw new Error('No documentation found on "'+l+'"')}return new n(s)}})});var nR="chain",iK=["typed","Chain"],lw=T(nR,iK,r=>{var{typed:e,Chain:t}=r;return e(nR,{"":function(){return new t},any:function(i){return new t(i)}})});var iR="det",aK=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],cw=T(iR,aK,r=>{var{typed:e,matrix:t,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:u}=r;return e(iR,{any:function(c){return dt(c)},"Array | Matrix":function(c){var f;switch(it(c)?f=c.size():Array.isArray(c)?(c=t(c),f=c.size()):f=[],f.length){case 0:return dt(c);case 1:if(f[0]===1)return dt(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+St(f)+")");case 2:{var p=f[0],m=f[1];if(p===m)return s(c.clone().valueOf(),p,m);if(m===0)return 1;throw new RangeError("Matrix must be square (size: "+St(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+St(f)+")")}}});function s(l,c,f){if(c===1)return dt(l[0][0]);if(c===2)return n(i(l[0][0],l[1][1]),i(l[1][0],l[0][1]));for(var p=!1,m=new Array(c).fill(0).map((C,E)=>E),h=0;h<c;h++){var d=m[h];if(o(l[d][h])){var g=void 0;for(g=h+1;g<c;g++)if(!o(l[m[g]][h])){d=m[g],m[g]=m[h],m[h]=d,p=!p;break}if(g===c)return l[d][h]}for(var y=l[d][h],_=h===0?1:l[m[h-1]][h-1],b=h+1;b<c;b++)for(var w=m[b],S=h+1;S<c;S++)l[w][S]=a(n(i(l[w][S],y),i(l[w][h],l[d][S])),_)}var x=l[m[c-1]][c-1];return p?u(x):x}});var aR="inv",oK=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],fw=T(aR,oK,r=>{var{typed:e,matrix:t,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:u,identity:s,abs:l}=r;return e(aR,{"Array | Matrix":function(p){var m=it(p)?p.size():vt(p);switch(m.length){case 1:if(m[0]===1)return it(p)?t([n(1,p.valueOf()[0])]):[n(1,p[0])];throw new RangeError("Matrix must be square (size: "+St(m)+")");case 2:{var h=m[0],d=m[1];if(h===d)return it(p)?t(c(p.valueOf(),h,d),p.storage()):c(p,h,d);throw new RangeError("Matrix must be square (size: "+St(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+St(m)+")")}},any:function(p){return n(1,p)}});function c(f,p,m){var h,d,g,y,_;if(p===1){if(y=f[0][0],y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,y)]]}else if(p===2){var b=u(f);if(b===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],b),n(o(f[0][1]),b)],[n(o(f[1][0]),b),n(f[0][0],b)]]}else{var w=f.concat();for(h=0;h<p;h++)w[h]=w[h].concat();for(var S=s(p).valueOf(),x=0;x<m;x++){var C=l(w[x][x]),E=x;for(h=x+1;h<p;)l(w[h][x])>C&&(C=l(w[h][x]),E=h),h++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");h=E,h!==x&&(_=w[x],w[x]=w[h],w[h]=_,_=S[x],S[x]=S[h],S[h]=_);var D=w[x],N=S[x];for(h=0;h<p;h++){var I=w[h],O=S[h];if(h!==x){if(I[x]!==0){for(g=n(o(I[x]),D[x]),d=x;d<m;d++)I[d]=i(I[d],a(g,D[d]));for(d=0;d<m;d++)O[d]=i(O[d],a(g,N[d]))}}else{for(g=D[x],d=x;d<m;d++)I[d]=n(I[d],g);for(d=0;d<m;d++)O[d]=n(O[d],g)}}}return S}}});var oR="pinv",sK=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],pw=T(oR,sK,r=>{var{typed:e,matrix:t,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:u,ctranspose:s,divideScalar:l,multiply:c,add:f,Complex:p}=r;return e(oR,{"Array | Matrix":function(b){var w=it(b)?b.size():vt(b);switch(w.length){case 1:return y(b)?s(b):w[0]===1?n(b):o(s(b),u(b,b));case 2:{if(y(b))return s(b);var S=w[0],x=w[1];if(S===x)try{return n(b)}catch(C){if(!(C instanceof Error&&C.message.match(/Cannot calculate inverse, determinant is zero/)))throw C}return it(b)?t(m(b.valueOf(),S,x),b.storage()):m(b,S,x)}default:throw new RangeError("Matrix must be two dimensional (size: "+St(w)+")")}},any:function(b){return a(b,0)?dt(b):l(1,b)}});function m(_,b,w){var{C:S,F:x}=d(_,b,w),C=c(n(c(s(S),S)),s(S)),E=c(s(x),n(c(x,s(x))));return c(E,C)}function h(_,b,w){for(var S=dt(_),x=0,C=0;C<b;C++){if(w<=x)return S;for(var E=C;g(S[E][x]);)if(E++,b===E&&(E=C,x++,w===x))return S;[S[E],S[C]]=[S[C],S[E]];for(var D=S[C][x],N=0;N<w;N++)S[C][N]=o(S[C][N],D);for(var I=0;I<b;I++)if(I!==C){D=S[I][x];for(var O=0;O<w;O++)S[I][O]=f(S[I][O],c(-1,c(D,S[C][O])))}x++}return S}function d(_,b,w){var S=h(_,b,w),x=_.map((E,D)=>E.filter((N,I)=>I<b&&!g(u(S[I],S[I])))),C=S.filter((E,D)=>!g(u(S[D],S[D])));return{C:x,F:C}}function g(_){return a(f(_,p(1,1)),f(0,p(1,1)))}function y(_){return i(f(_,p(1,1)),f(c(_,0),p(1,1)))}});function sR(r){var{addScalar:e,subtract:t,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:u,abs:s,bignumber:l,diag:c,size:f,reshape:p,inv:m,qr:h,usolve:d,usolveAll:g,equal:y,complex:_,larger:b,smaller:w,matrixFromColumns:S,dot:x}=r;function C(ne,U,fe,Ee){var pe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,he=E(ne,U,fe,Ee,pe);D(ne,U,fe,Ee,pe,he);var{values:De,C:ve}=N(ne,U,fe,Ee,pe);if(pe){var de=I(ne,U,ve,he,De,fe,Ee);return{values:De,eigenvectors:de}}return{values:De}}function E(ne,U,fe,Ee,pe){var he=Ee==="BigNumber",De=Ee==="Complex",ve=he?l(0):0,de=he?l(1):De?_(1):1,Ae=he?l(1):1,Ne=he?l(10):2,ke=a(Ne,Ne),nt;pe&&(nt=Array(U).fill(de));for(var J=!1;!J;){J=!0;for(var ee=0;ee<U;ee++){for(var ye=ve,H=ve,te=0;te<U;te++)ee!==te&&(ye=e(ye,s(ne[te][ee])),H=e(H,s(ne[ee][te])));if(!y(ye,0)&&!y(H,0)){for(var se=Ae,Ce=ye,Te=o(H,Ne),Ye=a(H,Ne);w(Ce,Te);)Ce=a(Ce,ke),se=a(se,Ne);for(;b(Ce,Ye);)Ce=o(Ce,ke),se=o(se,Ne);var Me=w(o(e(Ce,H),se),a(e(ye,H),.95));if(Me){J=!1;for(var et=o(1,se),At=0;At<U;At++)ee!==At&&(ne[ee][At]=a(ne[ee][At],et),ne[At][ee]=a(ne[At][ee],se));pe&&(nt[ee]=a(nt[ee],et))}}}}return pe?c(nt):null}function D(ne,U,fe,Ee,pe,he){var De=Ee==="BigNumber",ve=Ee==="Complex",de=De?l(0):ve?_(0):0;De&&(fe=l(fe));for(var Ae=0;Ae<U-2;Ae++){for(var Ne=0,ke=de,nt=Ae+1;nt<U;nt++){var J=ne[nt][Ae];w(s(ke),s(J))&&(ke=J,Ne=nt)}if(!w(s(ke),fe)){if(Ne!==Ae+1){var ee=ne[Ne];ne[Ne]=ne[Ae+1],ne[Ae+1]=ee;for(var ye=0;ye<U;ye++){var H=ne[ye][Ne];ne[ye][Ne]=ne[ye][Ae+1],ne[ye][Ae+1]=H}if(pe){var te=he[Ne];he[Ne]=he[Ae+1],he[Ae+1]=te}}for(var se=Ae+2;se<U;se++){var Ce=o(ne[se][Ae],ke);if(Ce!==0){for(var Te=0;Te<U;Te++)ne[se][Te]=t(ne[se][Te],a(Ce,ne[Ae+1][Te]));for(var Ye=0;Ye<U;Ye++)ne[Ye][Ae+1]=e(ne[Ye][Ae+1],a(Ce,ne[Ye][se]));if(pe)for(var Me=0;Me<U;Me++)he[se][Me]=t(he[se][Me],a(Ce,he[Ae+1][Me]))}}}}return he}function N(ne,U,fe,Ee,pe){var he=Ee==="BigNumber",De=Ee==="Complex",ve=he?l(1):De?_(1):1;he&&(fe=l(fe));for(var de=dt(ne),Ae=[],Ne=U,ke=[],nt=pe?c(Array(U).fill(ve)):void 0,J=pe?c(Array(Ne).fill(ve)):void 0,ee=0;ee<=100;){ee+=1;for(var ye=de[Ne-1][Ne-1],H=0;H<Ne;H++)de[H][H]=t(de[H][H],ye);var{Q:te,R:se}=h(de);de=i(se,te);for(var Ce=0;Ce<Ne;Ce++)de[Ce][Ce]=e(de[Ce][Ce],ye);if(pe&&(J=i(J,te)),Ne===1||w(s(de[Ne-1][Ne-2]),fe)){ee=0,Ae.push(de[Ne-1][Ne-1]),pe&&(ke.unshift([[1]]),q(J,U),nt=i(nt,J),Ne>1&&(J=c(Array(Ne-1).fill(ve)))),Ne-=1,de.pop();for(var Te=0;Te<Ne;Te++)de[Te].pop()}else if(Ne===2||w(s(de[Ne-2][Ne-3]),fe)){ee=0;var Ye=O(de[Ne-2][Ne-2],de[Ne-2][Ne-1],de[Ne-1][Ne-2],de[Ne-1][Ne-1]);Ae.push(...Ye),pe&&(ke.unshift(V(de[Ne-2][Ne-2],de[Ne-2][Ne-1],de[Ne-1][Ne-2],de[Ne-1][Ne-1],Ye[0],Ye[1],fe,Ee)),q(J,U),nt=i(nt,J),Ne>2&&(J=c(Array(Ne-2).fill(ve)))),Ne-=2,de.pop(),de.pop();for(var Me=0;Me<Ne;Me++)de[Me].pop(),de[Me].pop()}if(Ne===0)break}if(Ae.sort((_e,Ue)=>+t(s(_e),s(Ue))),ee>100){var et=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+Ae.join(", "));throw et.values=Ae,et.vectors=[],et}var At=pe?i(nt,L(ke,U)):void 0;return{values:Ae,C:At}}function I(ne,U,fe,Ee,pe,he,De){var ve=m(fe),de=i(ve,ne,fe),Ae=De==="BigNumber",Ne=De==="Complex",ke=Ae?l(0):Ne?_(0):0,nt=Ae?l(1):Ne?_(1):1,J=[],ee=[];for(var ye of pe){var H=P(J,ye,y);H===-1?(J.push(ye),ee.push(1)):ee[H]+=1}for(var te=[],se=J.length,Ce=Array(U).fill(ke),Te=c(Array(U).fill(nt)),Ye=function(){var At=J[Me],_e=t(de,i(At,Te)),Ue=g(_e,Ce);for(Ue.shift();Ue.length<ee[Me];){var re=k(_e,U,Ue,he,De);if(re===null)break;Ue.push(re)}var me=i(m(Ee),fe);Ue=Ue.map(Se=>i(me,Se)),te.push(...Ue.map(Se=>({value:At,vector:n(Se)})))},Me=0;Me<se;Me++)Ye();return te}function O(ne,U,fe,Ee){var pe=e(ne,Ee),he=t(a(ne,Ee),a(U,fe)),De=a(pe,.5),ve=a(u(t(a(pe,pe),a(4,he))),.5);return[e(De,ve),t(De,ve)]}function V(ne,U,fe,Ee,pe,he,De,ve){var de=ve==="BigNumber",Ae=ve==="Complex",Ne=de?l(0):Ae?_(0):0,ke=de?l(1):Ae?_(1):1;if(w(s(fe),De))return[[ke,Ne],[Ne,ke]];if(b(s(t(pe,he)),De))return[[t(pe,Ee),t(he,Ee)],[fe,fe]];var nt=t(ne,pe),J=t(Ee,pe);return w(s(U),De)&&w(s(J),De)?[[nt,ke],[fe,Ne]]:[[U,Ne],[J,ke]]}function q(ne,U){for(var fe=0;fe<ne.length;fe++)ne[fe].push(...Array(U-ne[fe].length).fill(0));for(var Ee=ne.length;Ee<U;Ee++)ne.push(Array(U).fill(0)),ne[Ee][Ee]=1;return ne}function L(ne,U){for(var fe=[],Ee=0;Ee<U;Ee++)fe[Ee]=Array(U).fill(0);var pe=0;for(var he of ne){for(var De=he.length,ve=0;ve<De;ve++)for(var de=0;de<De;de++)fe[pe+ve][pe+de]=he[ve][de];pe+=De}return fe}function P(ne,U,fe){for(var Ee=0;Ee<ne.length;Ee++)if(fe(ne[Ee],U))return Ee;return-1}function k(ne,U,fe,Ee,pe){for(var he=pe==="BigNumber"?l(1e3):1e3,De,ve=0;ve<5;++ve){De=Y(U,fe,pe);try{De=d(ne,De)}catch(Ae){continue}if(b(Z(De),he))break}if(ve>=5)return null;for(ve=0;;){var de=d(ne,De);if(w(Z(B(De,[de])),Ee))break;if(++ve>=10)return null;De=oe(de)}return De}function Y(ne,U,fe){var Ee=fe==="BigNumber",pe=fe==="Complex",he=Array(ne).fill(0).map(De=>2*Math.random()-1);return Ee&&(he=he.map(De=>l(De))),pe&&(he=he.map(De=>_(De))),he=B(he,U),oe(he,fe)}function B(ne,U){var fe=f(ne);for(var Ee of U)Ee=p(Ee,fe),ne=t(ne,i(o(x(Ee,ne),x(Ee,Ee)),Ee));return ne}function Z(ne){return s(u(x(ne,ne)))}function oe(ne,U){var fe=U==="BigNumber",Ee=U==="Complex",pe=fe?l(1):Ee?_(1):1;return i(o(pe,Z(ne)),ne)}return C}function uR(r){var{config:e,addScalar:t,subtract:n,abs:i,atan:a,cos:o,sin:u,multiplyScalar:s,inv:l,bignumber:c,multiply:f,add:p}=r;function m(D,N){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,O=arguments.length>3?arguments[3]:void 0,V=arguments.length>4?arguments[4]:void 0;if(O==="number")return h(D,I,V);if(O==="BigNumber")return d(D,I,V);throw TypeError("Unsupported data type: "+O)}function h(D,N,I){var O=D.length,V=Math.abs(N/O),q,L;if(I){L=new Array(O);for(var P=0;P<O;P++)L[P]=Array(O).fill(0),L[P][P]=1}for(var k=x(D);Math.abs(k[1])>=Math.abs(V);){var Y=k[0][0],B=k[0][1];q=g(D[Y][Y],D[B][B],D[Y][B]),D=S(D,q,Y,B),I&&(L=_(L,q,Y,B)),k=x(D)}for(var Z=Array(O).fill(0),oe=0;oe<O;oe++)Z[oe]=D[oe][oe];return E(dt(Z),L,I)}function d(D,N,I){var O=D.length,V=i(N/O),q,L;if(I){L=new Array(O);for(var P=0;P<O;P++)L[P]=Array(O).fill(0),L[P][P]=1}for(var k=C(D);i(k[1])>=i(V);){var Y=k[0][0],B=k[0][1];q=y(D[Y][Y],D[B][B],D[Y][B]),D=w(D,q,Y,B),I&&(L=b(L,q,Y,B)),k=C(D)}for(var Z=Array(O).fill(0),oe=0;oe<O;oe++)Z[oe]=D[oe][oe];return E(dt(Z),L,I)}function g(D,N,I){var O=N-D;return Math.abs(O)<=e.epsilon?Math.PI/4:.5*Math.atan(2*I/(N-D))}function y(D,N,I){var O=n(N,D);return i(O)<=e.epsilon?c(-1).acos().div(4):s(.5,a(f(2,I,l(O))))}function _(D,N,I,O){for(var V=D.length,q=Math.cos(N),L=Math.sin(N),P=Array(V).fill(0),k=Array(V).fill(0),Y=0;Y<V;Y++)P[Y]=q*D[Y][I]-L*D[Y][O],k[Y]=L*D[Y][I]+q*D[Y][O];for(var B=0;B<V;B++)D[B][I]=P[B],D[B][O]=k[B];return D}function b(D,N,I,O){for(var V=D.length,q=o(N),L=u(N),P=Array(V).fill(c(0)),k=Array(V).fill(c(0)),Y=0;Y<V;Y++)P[Y]=n(s(q,D[Y][I]),s(L,D[Y][O])),k[Y]=t(s(L,D[Y][I]),s(q,D[Y][O]));for(var B=0;B<V;B++)D[B][I]=P[B],D[B][O]=k[B];return D}function w(D,N,I,O){for(var V=D.length,q=c(o(N)),L=c(u(N)),P=s(q,q),k=s(L,L),Y=Array(V).fill(c(0)),B=Array(V).fill(c(0)),Z=f(c(2),q,L,D[I][O]),oe=t(n(s(P,D[I][I]),Z),s(k,D[O][O])),ne=p(s(k,D[I][I]),Z,s(P,D[O][O])),U=0;U<V;U++)Y[U]=n(s(q,D[I][U]),s(L,D[O][U])),B[U]=t(s(L,D[I][U]),s(q,D[O][U]));D[I][I]=oe,D[O][O]=ne,D[I][O]=c(0),D[O][I]=c(0);for(var fe=0;fe<V;fe++)fe!==I&&fe!==O&&(D[I][fe]=Y[fe],D[fe][I]=Y[fe],D[O][fe]=B[fe],D[fe][O]=B[fe]);return D}function S(D,N,I,O){for(var V=D.length,q=Math.cos(N),L=Math.sin(N),P=q*q,k=L*L,Y=Array(V).fill(0),B=Array(V).fill(0),Z=P*D[I][I]-2*q*L*D[I][O]+k*D[O][O],oe=k*D[I][I]+2*q*L*D[I][O]+P*D[O][O],ne=0;ne<V;ne++)Y[ne]=q*D[I][ne]-L*D[O][ne],B[ne]=L*D[I][ne]+q*D[O][ne];D[I][I]=Z,D[O][O]=oe,D[I][O]=0,D[O][I]=0;for(var U=0;U<V;U++)U!==I&&U!==O&&(D[I][U]=Y[U],D[U][I]=Y[U],D[O][U]=B[U],D[U][O]=B[U]);return D}function x(D){for(var N=D.length,I=0,O=[0,1],V=0;V<N;V++)for(var q=V+1;q<N;q++)Math.abs(I)<Math.abs(D[V][q])&&(I=Math.abs(D[V][q]),O=[V,q]);return[O,I]}function C(D){for(var N=D.length,I=0,O=[0,1],V=0;V<N;V++)for(var q=V+1;q<N;q++)i(I)<i(D[V][q])&&(I=i(D[V][q]),O=[V,q]);return[O,I]}function E(D,N,I){var O=D.length,V=Array(O),q;if(I){q=Array(O);for(var L=0;L<O;L++)q[L]=Array(O)}for(var P=0;P<O;P++){for(var k=0,Y=D[0],B=0;B<D.length;B++)i(D[B])<i(Y)&&(k=B,Y=D[k]);if(V[P]=D.splice(k,1)[0],I)for(var Z=0;Z<O;Z++)q[P][Z]=N[Z][k],N[Z].splice(k,1)}if(!I)return{values:V};var oe=q.map((ne,U)=>({value:V[U],vector:ne}));return{values:V,eigenvectors:oe}}return m}var uK="eigs",lK=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],mw=T(uK,lK,r=>{var{config:e,typed:t,matrix:n,addScalar:i,subtract:a,equal:o,abs:u,atan:s,cos:l,sin:c,multiplyScalar:f,divideScalar:p,inv:m,bignumber:h,multiply:d,add:g,larger:y,column:_,flatten:b,number:w,complex:S,sqrt:x,diag:C,size:E,reshape:D,qr:N,usolve:I,usolveAll:O,im:V,re:q,smaller:L,matrixFromColumns:P,dot:k}=r,Y=uR({config:e,addScalar:i,subtract:a,column:_,flatten:b,equal:o,abs:u,atan:s,cos:l,sin:c,multiplyScalar:f,inv:m,bignumber:h,complex:S,multiply:d,add:g}),B=sR({config:e,addScalar:i,subtract:a,multiply:d,multiplyScalar:f,flatten:b,divideScalar:p,sqrt:x,abs:u,bignumber:h,diag:C,size:E,reshape:D,qr:N,inv:m,usolve:I,usolveAll:O,equal:o,complex:S,larger:y,smaller:L,matrixFromColumns:P,dot:k});return t("eigs",{Array:function(he){return Z(n(he))},"Array, number|BigNumber":function(he,De){return Z(n(he),{precision:De})},"Array, Object"(pe,he){return Z(n(pe),he)},Matrix:function(he){return Z(he,{matricize:!0})},"Matrix, number|BigNumber":function(he,De){return Z(he,{precision:De,matricize:!0})},"Matrix, Object":function(he,De){var ve={matricize:!0};return Or(ve,De),Z(he,ve)}});function Z(pe){var he,De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ve="eigenvectors"in De?De.eigenvectors:!0,de=(he=De.precision)!==null&&he!==void 0?he:e.epsilon,Ae=oe(pe,de,ve);return De.matricize&&(Ae.values=n(Ae.values),ve&&(Ae.eigenvectors=Ae.eigenvectors.map(Ne=>{var{value:ke,vector:nt}=Ne;return{value:ke,vector:n(nt)}}))),ve&&Object.defineProperty(Ae,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),Ae}function oe(pe,he,De){var ve=pe.toArray(),de=pe.size();if(de.length!==2||de[0]!==de[1])throw new RangeError("Matrix must be square (size: ".concat(St(de),")"));var Ae=de[0];if(U(ve,Ae,he)&&(fe(ve,Ae),ne(ve,Ae,he))){var Ne=Ee(pe,ve,Ae);return Y(ve,Ae,he,Ne,De)}var ke=Ee(pe,ve,Ae);return B(ve,Ae,he,ke,De)}function ne(pe,he,De){for(var ve=0;ve<he;ve++)for(var de=ve;de<he;de++)if(y(h(u(a(pe[ve][de],pe[de][ve]))),De))return!1;return!0}function U(pe,he,De){for(var ve=0;ve<he;ve++)for(var de=0;de<he;de++)if(y(h(u(V(pe[ve][de]))),De))return!1;return!0}function fe(pe,he){for(var De=0;De<he;De++)for(var ve=0;ve<he;ve++)pe[De][ve]=q(pe[De][ve])}function Ee(pe,he,De){var ve=pe.datatype();if(ve==="number"||ve==="BigNumber"||ve==="Complex")return ve;for(var de=!1,Ae=!1,Ne=!1,ke=0;ke<De;ke++)for(var nt=0;nt<De;nt++){var J=he[ke][nt];if(xt(J)||uo(J))de=!0;else if(lt(J))Ae=!0;else if(ri(J))Ne=!0;else throw TypeError("Unsupported type in Matrix: "+Wt(J))}if(Ae&&Ne&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),Ne){for(var ee=0;ee<De;ee++)for(var ye=0;ye<De;ye++)he[ee][ye]=S(he[ee][ye]);return"Complex"}if(Ae){for(var H=0;H<De;H++)for(var te=0;te<De;te++)he[H][te]=h(he[H][te]);return"BigNumber"}if(de){for(var se=0;se<De;se++)for(var Ce=0;Ce<De;Ce++)he[se][Ce]=w(he[se][Ce]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var lR="expm",cK=["typed","abs","add","identity","inv","multiply"],dw=T(lR,cK,r=>{var{typed:e,abs:t,add:n,identity:i,inv:a,multiply:o}=r;return e(lR,{Matrix:function(f){var p=f.size();if(p.length!==2||p[0]!==p[1])throw new RangeError("Matrix must be square (size: "+St(p)+")");for(var m=p[0],h=1e-15,d=u(f),g=s(d,h),y=g.q,_=g.j,b=o(f,Math.pow(2,-_)),w=i(m),S=i(m),x=1,C=b,E=-1,D=1;D<=y;D++)D>1&&(C=o(C,b),E=-E),x=x*(y-D+1)/((2*y-D+1)*D),w=n(w,o(x,C)),S=n(S,o(x*E,C));for(var N=o(a(S),w),I=0;I<_;I++)N=o(N,N);return ha(f)?f.createSparseMatrix(N):N}});function u(c){for(var f=c.size()[0],p=0,m=0;m<f;m++){for(var h=0,d=0;d<f;d++)h+=t(c.get([m,d]));p=Math.max(h,p)}return p}function s(c,f){for(var p=30,m=0;m<p;m++)for(var h=0;h<=m;h++){var d=m-h;if(l(c,h,d)<f)return{q:h,j:d}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function l(c,f,p){for(var m=1,h=2;h<=f;h++)m*=h;for(var d=m,g=f+1;g<=2*f;g++)d*=g;var y=d*(2*f+1);return 8*Math.pow(c/Math.pow(2,p),2*f)*m*m/(d*y)}});var cR="sqrtm",fK=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],hw=T(cR,fK,r=>{var{typed:e,abs:t,add:n,multiply:i,map:a,sqrt:o,subtract:u,inv:s,size:l,max:c,identity:f}=r,p=1e3,m=1e-6;function h(d){var g,y=0,_=d,b=f(l(d));do{var w=_;if(_=i(.5,n(w,s(b))),b=i(.5,n(b,s(w))),g=c(t(u(_,w))),g>m&&++y>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(g>m);return _}return e(cR,{"Array | Matrix":function(g){var y=it(g)?g.size():vt(g);switch(y.length){case 1:if(y[0]===1)return a(g,o);throw new RangeError("Matrix must be square (size: "+St(y)+")");case 2:{var _=y[0],b=y[1];if(_===b)return h(g);throw new RangeError("Matrix must be square (size: "+St(y)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+St(y)+")")}}})});var fR="sylvester",pK=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],gw=T(fR,pK,r=>{var{typed:e,schur:t,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:u,transpose:s,index:l,subset:c,add:f,subtract:p,identity:m,lusolve:h,abs:d}=r;return e(fR,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(_,b,w){return g(i(_),b,w)},"Array, Array, Matrix":function(_,b,w){return g(i(_),i(b),w)},"Array, Matrix, Array":function(_,b,w){return g(i(_),b,i(w))},"Matrix, Array, Matrix":function(_,b,w){return g(_,i(b),w)},"Matrix, Array, Array":function(_,b,w){return g(_,i(b),i(w))},"Matrix, Matrix, Array":function(_,b,w){return g(_,b,i(w))},"Array, Array, Array":function(_,b,w){return g(i(_),i(b),i(w)).toArray()}});function g(y,_,b){for(var w=_.size()[0],S=y.size()[0],x=t(y),C=x.T,E=x.U,D=t(a(-1,_)),N=D.T,I=D.U,O=a(a(s(E),b),I),V=o(0,S),q=[],L=(Ne,ke)=>u(Ne,ke,1),P=(Ne,ke)=>u(Ne,ke,0),k=0;k<w;k++)if(k<w-1&&d(c(N,l(k+1,k)))>1e-5){for(var Y=P(c(O,l(V,k)),c(O,l(V,k+1))),B=0;B<k;B++)Y=f(Y,P(a(q[B],c(N,l(B,k))),a(q[B],c(N,l(B,k+1)))));var Z=a(m(S),a(-1,c(N,l(k,k)))),oe=a(m(S),a(-1,c(N,l(k+1,k)))),ne=a(m(S),a(-1,c(N,l(k,k+1)))),U=a(m(S),a(-1,c(N,l(k+1,k+1)))),fe=P(L(f(C,Z),oe),L(ne,f(C,U))),Ee=h(fe,Y);q[k]=Ee.subset(l(o(0,S),0)),q[k+1]=Ee.subset(l(o(S,2*S),0)),k++}else{for(var pe=c(O,l(V,k)),he=0;he<k;he++)pe=f(pe,a(q[he],c(N,l(he,k))));var De=c(N,l(k,k)),ve=p(C,a(De,m(S)));q[k]=h(ve,pe)}var de=i(n(...q)),Ae=a(E,a(de,s(I)));return Ae}});var pR="schur",mK=["typed","matrix","identity","multiply","qr","norm","subtract"],vw=T(pR,mK,r=>{var{typed:e,matrix:t,identity:n,multiply:i,qr:a,norm:o,subtract:u}=r;return e(pR,{Array:function(c){var f=s(t(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return s(c)}});function s(l){var c=l.size()[0],f=l,p=n(c),m=0,h;do{h=f;var d=a(f),g=d.Q,y=d.R;if(f=i(y,g),p=i(p,g),m++>100)break}while(o(u(f,h))>1e-4);return{U:p,T:f}}});var mR="lyap",dK=["typed","matrix","sylvester","multiply","transpose"],yw=T(mR,dK,r=>{var{typed:e,matrix:t,sylvester:n,multiply:i,transpose:a}=r;return e(mR,{"Matrix, Matrix":function(u,s){return n(u,a(u),i(-1,s))},"Array, Matrix":function(u,s){return n(t(u),a(t(u)),i(-1,s))},"Matrix, Array":function(u,s){return n(u,a(t(u)),t(i(-1,s)))},"Array, Array":function(u,s){return n(t(u),a(t(u)),t(i(-1,s))).toArray()}})});var hK="divide",gK=["typed","matrix","multiply","equalScalar","divideScalar","inv"],bw=T(hK,gK,r=>{var{typed:e,matrix:t,multiply:n,equalScalar:i,divideScalar:a,inv:o}=r,u=dr({typed:e,equalScalar:i}),s=tn({typed:e});return e("divide",cm({"Array | Matrix, Array | Matrix":function(c,f){return n(c,o(f))},"DenseMatrix, any":function(c,f){return s(c,f,a,!1)},"SparseMatrix, any":function(c,f){return u(c,f,a,!1)},"Array, any":function(c,f){return s(t(c),f,a,!1).valueOf()},"any, Array | Matrix":function(c,f){return n(c,o(f))}},a.signatures))});var dR="distance",vK=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],xw=T(dR,vK,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:u,abs:s}=r;return e(dR,{"Array, Array, Array":function(S,x,C){if(S.length===2&&x.length===2&&C.length===2){if(!c(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(x,C))throw new TypeError("LinePoint1 should not be same with LinePoint2");var E=n(C[1],x[1]),D=n(x[0],C[0]),N=n(i(C[0],x[1]),i(x[0],C[1]));return g(S[0],S[1],E,D,N)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(S,x,C){if(Object.keys(S).length===2&&Object.keys(x).length===2&&Object.keys(C).length===2){if(!c(S))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(C))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(h(x),h(C)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in S&&"pointY"in S&&"lineOnePtX"in x&&"lineOnePtY"in x&&"lineTwoPtX"in C&&"lineTwoPtY"in C){var E=n(C.lineTwoPtY,x.lineOnePtY),D=n(x.lineOnePtX,C.lineTwoPtX),N=n(i(C.lineTwoPtX,x.lineOnePtY),i(x.lineOnePtX,C.lineTwoPtY));return g(S.pointX,S.pointY,E,D,N)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(S,x){if(S.length===2&&x.length===3){if(!c(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(S[0],S[1],x[0],x[1],x[2])}else if(S.length===3&&x.length===6){if(!f(S))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(x))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(S[0],S[1],S[2],x[0],x[1],x[2],x[3],x[4],x[5])}else if(S.length===x.length&&S.length>0){if(!p(S))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(x))throw new TypeError("All values of an array should be numbers or BigNumbers");return _(S,x)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(S,x){if(Object.keys(S).length===2&&Object.keys(x).length===3){if(!c(S))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in S&&"pointY"in S&&"xCoeffLine"in x&&"yCoeffLine"in x&&"constant"in x)return g(S.pointX,S.pointY,x.xCoeffLine,x.yCoeffLine,x.constant);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===3&&Object.keys(x).length===6){if(!f(S))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(x))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in S&&"pointY"in S&&"x0"in x&&"y0"in x&&"z0"in x&&"a"in x&&"b"in x&&"c"in x)return y(S.pointX,S.pointY,S.pointZ,x.x0,x.y0,x.z0,x.a,x.b,x.c);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===2&&Object.keys(x).length===2){if(!c(S))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in S&&"pointOneY"in S&&"pointTwoX"in x&&"pointTwoY"in x)return _([S.pointOneX,S.pointOneY],[x.pointTwoX,x.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===3&&Object.keys(x).length===3){if(!f(S))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in S&&"pointOneY"in S&&"pointOneZ"in S&&"pointTwoX"in x&&"pointTwoY"in x&&"pointTwoZ"in x)return _([S.pointOneX,S.pointOneY,S.pointOneZ],[x.pointTwoX,x.pointTwoY,x.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(S){if(!d(S))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return b(S)}});function l(w){return typeof w=="number"||lt(w)}function c(w){return w.constructor!==Array&&(w=h(w)),l(w[0])&&l(w[1])}function f(w){return w.constructor!==Array&&(w=h(w)),l(w[0])&&l(w[1])&&l(w[2])}function p(w){return Array.isArray(w)||(w=h(w)),w.every(l)}function m(w){return w.constructor!==Array&&(w=h(w)),l(w[0])&&l(w[1])&&l(w[2])&&l(w[3])&&l(w[4])&&l(w[5])}function h(w){for(var S=Object.keys(w),x=[],C=0;C<S.length;C++)x.push(w[S[C]]);return x}function d(w){if(w[0].length===2&&l(w[0][0])&&l(w[0][1])){if(w.some(S=>S.length!==2||!l(S[0])||!l(S[1])))return!1}else if(w[0].length===3&&l(w[0][0])&&l(w[0][1])&&l(w[0][2])){if(w.some(S=>S.length!==3||!l(S[0])||!l(S[1])||!l(S[2])))return!1}else return!1;return!0}function g(w,S,x,C,E){var D=s(t(t(i(x,w),i(C,S)),E)),N=u(t(i(x,x),i(C,C)));return a(D,N)}function y(w,S,x,C,E,D,N,I,O){var V=[n(i(n(E,S),O),i(n(D,x),I)),n(i(n(D,x),N),i(n(C,w),O)),n(i(n(C,w),I),i(n(E,S),N))];V=u(t(t(i(V[0],V[0]),i(V[1],V[1])),i(V[2],V[2])));var q=u(t(t(i(N,N),i(I,I)),i(O,O)));return a(V,q)}function _(w,S){for(var x=w.length,C=0,E=0,D=0;D<x;D++)E=n(w[D],S[D]),C=t(i(E,E),C);return u(C)}function b(w){for(var S=[],x=[],C=[],E=0;E<w.length-1;E++)for(var D=E+1;D<w.length;D++)w[0].length===2?(x=[w[E][0],w[E][1]],C=[w[D][0],w[D][1]]):w[0].length===3&&(x=[w[E][0],w[E][1],w[E][2]],C=[w[D][0],w[D][1],w[D][2]]),S.push(_(x,C));return S}});var yK="intersect",bK=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],ww=T(yK,bK,r=>{var{typed:e,config:t,abs:n,add:i,addScalar:a,matrix:o,multiply:u,multiplyScalar:s,divideScalar:l,subtract:c,smaller:f,equalScalar:p,flatten:m,isZero:h,isNumeric:d}=r;return e("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":y,"Matrix, Matrix, Matrix":function(I,O,V){var q=g(I.valueOf(),O.valueOf(),V.valueOf());return q===null?null:o(q)},"Matrix, Matrix, Matrix, Matrix":function(I,O,V,q){var L=y(I.valueOf(),O.valueOf(),V.valueOf(),q.valueOf());return L===null?null:o(L)}});function g(N,I,O){if(N=_(N),I=_(I),O=_(O),!w(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!S(O))throw new TypeError("Array with 4 numbers expected as third argument");return D(N[0],N[1],N[2],I[0],I[1],I[2],O[0],O[1],O[2],O[3])}function y(N,I,O,V){if(N=_(N),I=_(I),O=_(O),V=_(V),N.length===2){if(!b(N))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!b(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!b(O))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!b(V))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return x(N,I,O,V)}else if(N.length===3){if(!w(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!w(O))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!w(V))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return E(N[0],N[1],N[2],I[0],I[1],I[2],O[0],O[1],O[2],V[0],V[1],V[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function _(N){return N.length===1?N[0]:N.length>1&&Array.isArray(N[0])&&N.every(I=>Array.isArray(I)&&I.length===1)?m(N):N}function b(N){return N.length===2&&d(N[0])&&d(N[1])}function w(N){return N.length===3&&d(N[0])&&d(N[1])&&d(N[2])}function S(N){return N.length===4&&d(N[0])&&d(N[1])&&d(N[2])&&d(N[3])}function x(N,I,O,V){var q=N,L=O,P=c(q,I),k=c(L,V),Y=c(s(P[0],k[1]),s(k[0],P[1]));if(h(Y)||f(n(Y),t.epsilon))return null;var B=s(k[0],q[1]),Z=s(k[1],q[0]),oe=s(k[0],L[1]),ne=s(k[1],L[0]),U=l(a(c(c(B,Z),oe),ne),Y);return i(u(P,U),q)}function C(N,I,O,V,q,L,P,k,Y,B,Z,oe){var ne=s(c(N,I),c(O,V)),U=s(c(q,L),c(P,k)),fe=s(c(Y,B),c(Z,oe));return a(a(ne,U),fe)}function E(N,I,O,V,q,L,P,k,Y,B,Z,oe){var ne=C(N,P,B,P,I,k,Z,k,O,Y,oe,Y),U=C(B,P,V,N,Z,k,q,I,oe,Y,L,O),fe=C(N,P,V,N,I,k,q,I,O,Y,L,O),Ee=C(B,P,B,P,Z,k,Z,k,oe,Y,oe,Y),pe=C(V,N,V,N,q,I,q,I,L,O,L,O),he=c(s(ne,U),s(fe,Ee)),De=c(s(pe,Ee),s(U,U));if(h(De))return null;var ve=l(he,De),de=l(a(ne,s(ve,U)),Ee),Ae=a(N,s(ve,c(V,N))),Ne=a(I,s(ve,c(q,I))),ke=a(O,s(ve,c(L,O))),nt=a(P,s(de,c(B,P))),J=a(k,s(de,c(Z,k))),ee=a(Y,s(de,c(oe,Y)));return p(Ae,nt)&&p(Ne,J)&&p(ke,ee)?[Ae,Ne,ke]:null}function D(N,I,O,V,q,L,P,k,Y,B){var Z=s(N,P),oe=s(V,P),ne=s(I,k),U=s(q,k),fe=s(O,Y),Ee=s(L,Y),pe=c(c(c(B,Z),ne),fe),he=c(c(c(a(a(oe,U),Ee),Z),ne),fe),De=l(pe,he),ve=a(N,s(De,c(V,N))),de=a(I,s(De,c(q,I))),Ae=a(O,s(De,c(L,O)));return[ve,de,Ae]}});var hR="sum",xK=["typed","config","add","numeric"],$c=T(hR,xK,r=>{var{typed:e,config:t,add:n,numeric:i}=r;return e(hR,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(s){if(ji(s))throw new TypeError("Scalar values expected in function sum");return a(s)}});function a(u){var s;return $n(u,function(l){try{s=s===void 0?l:n(s,l)}catch(c){throw Wr(c,"sum",l)}}),s===void 0&&(s=i(0,t.number)),typeof s=="string"&&(s=i(s,t.number)),s}function o(u,s){try{var l=ts(u,s,n);return l}catch(c){throw Wr(c,"sum")}}});var dd="cumsum",wK=["typed","add","unaryPlus"],qc=T(dd,wK,r=>{var{typed:e,add:t,unaryPlus:n}=r;return e(dd,{Array:i,Matrix:function(l){return l.create(i(l.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(l,c){return l.create(o(l.valueOf(),c))},"...":function(l){if(ji(l))throw new TypeError("All values expected to be scalar in function cumsum");return i(l)}});function i(s){try{return a(s)}catch(l){throw Wr(l,dd)}}function a(s){if(s.length===0)return[];for(var l=[n(s[0])],c=1;c<s.length;++c)l.push(t(l[c-1],s[c]));return l}function o(s,l){var c=vt(s);if(l<0||l>=c.length)throw new Fn(l,c.length);try{return u(s,l)}catch(f){throw Wr(f,dd)}}function u(s,l){var c,f,p;if(l<=0){var m=s[0][0];if(Array.isArray(m)){for(p=Cm(s),f=[],c=0;c<p.length;c++)f[c]=u(p[c],l-1);return f}else return a(s)}else{for(f=[],c=0;c<s.length;c++)f[c]=u(s[c],l-1);return f}}});var gR="mean",_K=["typed","add","divide"],zc=T(gR,_K,r=>{var{typed:e,add:t,divide:n}=r;return e(gR,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(u){if(ji(u))throw new TypeError("Scalar values expected in function mean");return a(u)}});function i(o,u){try{var s=ts(o,u,t),l=Array.isArray(o)?vt(o):o.size();return n(s,l[u])}catch(c){throw Wr(c,"mean")}}function a(o){var u,s=0;if($n(o,function(l){try{u=u===void 0?l:t(u,l),s++}catch(c){throw Wr(c,"mean",l)}}),s===0)throw new Error("Cannot calculate the mean of an empty array");return n(u,s)}});var vR="median",SK=["typed","add","divide","compare","partitionSelect"],_w=T(vR,SK,r=>{var{typed:e,add:t,divide:n,compare:i,partitionSelect:a}=r;function o(l){try{l=Mt(l.valueOf());var c=l.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,p=a(l,f+1),m=l[f],h=0;h<f;++h)i(l[h],m)>0&&(m=l[h]);return s(m,p)}else{var d=a(l,(c-1)/2);return u(d)}}catch(g){throw Wr(g,"median")}}var u=e({"number | BigNumber | Complex | Unit":function(c){return c}}),s=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return n(t(c,f),2)}});return e(vR,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(ji(c))throw new TypeError("Scalar values expected in function median");return o(c)}})});var yR="mad",AK=["typed","abs","map","median","subtract"],Sw=T(yR,AK,r=>{var{typed:e,abs:t,map:n,median:i,subtract:a}=r;return e(yR,{"Array | Matrix":o,"...":function(s){return o(s)}});function o(u){if(u=Mt(u.valueOf()),u.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var s=i(u);return i(n(u,function(l){return t(a(l,s))}))}catch(l){throw l instanceof TypeError&&l.message.indexOf("median")!==-1?new TypeError(l.message.replace("median","mad")):Wr(l,"mad")}}});var Aw="unbiased",bR="variance",DK=["typed","add","subtract","multiply","divide","apply","isNaN"],Hc=T(bR,DK,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:u}=r;return e(bR,{"Array | Matrix":function(f){return s(f,Aw)},"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":function(f,p){return l(f,p,Aw)},"Array | Matrix, number | BigNumber, string":l,"...":function(f){return s(f,Aw)}});function s(c,f){var p,m=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if($n(c,function(g){try{p=p===void 0?g:t(p,g),m++}catch(y){throw Wr(y,"variance",g)}}),m===0)throw new Error("Cannot calculate variance of an empty array");var h=a(p,m);if(p=void 0,$n(c,function(g){var y=n(g,h);p=p===void 0?i(y,y):t(p,i(y,y))}),u(p))return p;switch(f){case"uncorrected":return a(p,m);case"biased":return a(p,m+1);case"unbiased":{var d=lt(p)?p.mul(0):0;return m===1?d:a(p,m-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function l(c,f,p){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(c,f,m=>s(m,p))}catch(m){throw Wr(m,"variance")}}});var xR="quantileSeq",EK=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],Gc=T(xR,EK,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:u,compare:s,isInteger:l,smaller:c,smallerEq:f,larger:p}=r,m=iu({typed:e,isInteger:l});return e(xR,{"Array | Matrix, number | BigNumber":(_,b)=>d(_,b,!1),"Array | Matrix, number | BigNumber, number":(_,b,w)=>h(_,b,!1,w,d),"Array | Matrix, number | BigNumber, boolean":d,"Array | Matrix, number | BigNumber, boolean, number":(_,b,w,S)=>h(_,b,w,S,d),"Array | Matrix, Array | Matrix":(_,b)=>g(_,b,!1),"Array | Matrix, Array | Matrix, number":(_,b,w)=>h(_,b,!1,w,g),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(_,b,w,S)=>h(_,b,w,S,g)});function h(_,b,w,S,x){return m(_,S,C=>x(C,b,w))}function d(_,b,w){var S,x=_.valueOf();if(c(b,0))throw new Error("N/prob must be non-negative");if(f(b,1))return xt(b)?y(x,b,w):t(y(x,b,w));if(p(b,1)){if(!l(b))throw new Error("N must be a positive integer");if(p(b,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var C=n(b,1);S=[];for(var E=0;c(E,b);E++){var D=a(E+1,C);S.push(y(x,D,w))}return xt(b)?S:t(S)}}function g(_,b,w){for(var S=_.valueOf(),x=b.valueOf(),C=[],E=0;E<x.length;++E)C.push(y(S,x[E],w));return C}function y(_,b,w){var S=Mt(_),x=S.length;if(x===0)throw new Error("Cannot calculate quantile of an empty sequence");var C=xt(b)?b*(x-1):b.times(x-1),E=xt(b)?Math.floor(C):C.floor().toNumber(),D=xt(b)?C%1:C.minus(E);if(l(C))return w?S[C]:u(S,xt(b)?C:C.valueOf());var N,I;if(w)N=S[E],I=S[E+1];else{I=u(S,E+1),N=S[E];for(var O=0;O<E;++O)s(S[O],N)>0&&(N=S[O])}return n(o(N,i(1,D)),o(I,D))}});var wR="std",NK=["typed","map","sqrt","variance"],Wc=T(wR,NK,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r;return e(wR,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(u){return a(u)}});function a(o,u){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var s=i.apply(null,arguments);return Xr(s)?t(s,n):n(s)}catch(l){throw l instanceof TypeError&&l.message.indexOf(" variance")!==-1?new TypeError(l.message.replace(" variance"," std")):l}}});var _R="corr",CK=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],Dw=T(_R,CK,r=>{var{typed:e,matrix:t,sqrt:n,sum:i,add:a,subtract:o,multiply:u,pow:s,divide:l}=r;return e(_R,{"Array, Array":function(m,h){return c(m,h)},"Matrix, Matrix":function(m,h){var d=c(m.toArray(),h.toArray());return Array.isArray(d)?t(d):d}});function c(p,m){var h=[];if(Array.isArray(p[0])&&Array.isArray(m[0])){if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var d=0;d<p.length;d++){if(p[d].length!==m[d].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(f(p[d],m[d]))}return h}else{if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(p,m)}}function f(p,m){var h=p.length,d=i(p),g=i(m),y=p.reduce((x,C,E)=>a(x,u(C,m[E])),0),_=i(p.map(x=>s(x,2))),b=i(m.map(x=>s(x,2))),w=o(u(h,y),u(d,g)),S=n(u(o(u(h,_),s(d,2)),o(u(h,b),s(g,2))));return l(w,S)}});var SR="combinations",TK=["typed"],Ew=T(SR,TK,r=>{var{typed:e}=r;return e(SR,{"number, number":zy,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,u,s=n.minus(i),l=new a(1);if(!AR(n)||!AR(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=l,i.lt(s))for(u=l;u.lte(s);u=u.plus(l))o=o.times(i.plus(u)).dividedBy(u);else for(u=l;u.lte(i);u=u.plus(l))o=o.times(s.plus(u)).dividedBy(u);return o}})});function AR(r){return r.isInteger()&&r.gte(0)}var DR="combinationsWithRep",MK=["typed"],Nw=T(DR,MK,r=>{var{typed:e}=r;return e(DR,{"number, number":function(n,i){if(!tt(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!tt(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=Bi(n,n+i-1);return a/Bi(1,i)}var o=Bi(i+1,n+i-1);return o/Bi(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,u,s=new a(1),l=n.minus(s);if(!ER(n)||!ER(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(s))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=s,i.lt(l))for(u=s;u.lte(l);u=u.plus(s))o=o.times(i.plus(u)).dividedBy(u);else for(u=s;u.lte(i);u=u.plus(s))o=o.times(l.plus(u)).dividedBy(u);return o}})});function ER(r){return r.isInteger()&&r.gte(0)}var NR="gamma",FK=["typed","config","multiplyScalar","pow","BigNumber","Complex"],Cw=T(NR,FK,r=>{var{typed:e,config:t,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=r;function u(l){if(l.im===0)return xc(l.re);if(l.re<.5){var c=new o(1-l.re,-l.im),f=new o(Math.PI*l.re,Math.PI*l.im);return new o(Math.PI).div(f.sin()).div(u(c))}l=new o(l.re-1,l.im);for(var p=new o(nu[0],0),m=1;m<nu.length;++m){var h=new o(nu[m],0);p=p.add(h.div(l.add(m)))}var d=new o(l.re+Zy+.5,l.im),g=Math.sqrt(2*Math.PI),y=d.pow(l.add(.5)),_=d.neg().exp();return p.mul(g).mul(y).mul(_)}return e(NR,{number:xc,Complex:u,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):s(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function s(l){if(l<8)return new a([1,1,2,6,24,120,720,5040][l]);var c=t.precision+(Math.log(l.toNumber())|0),f=a.clone({precision:c});if(l%2===1)return l.times(s(new a(l-1)));for(var p=l,m=new f(l),h=l.toNumber();p>2;)p-=2,h+=p,m=m.times(h);return new a(m.toPrecision(a.precision))}});var CR="lgamma",IK=["Complex","typed"],Tw=T(CR,IK,r=>{var{Complex:e,typed:t}=r,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t(CR,{number:wc,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(l){var c=6.283185307179586,f=1.1447298858494002,p=.1;if(l.isNaN())return new e(NaN,NaN);if(l.im===0)return new e(wc(l.re),0);if(l.re>=n||Math.abs(l.im)>=i)return u(l);if(l.re<=p){var m=aT(c,l.im)*Math.floor(.5*l.re+.25),h=l.mul(Math.PI).sin().log(),d=o(new e(1-l.re,-l.im));return new e(f,m).sub(h).sub(d)}else return l.im>=0?s(l):s(l.conjugate()).conjugate()}function u(l){for(var c=l.sub(.5).mul(l.log()).sub(l).add(Jy),f=new e(1,0).div(l),p=f.div(l),m=a[0],h=a[1],d=2*p.re,g=p.re*p.re+p.im*p.im,y=2;y<8;y++){var _=h;h=-g*m+a[y],m=d*m+_}var b=f.mul(p.mul(m).add(h));return c.add(b)}function s(l){var c=0,f=0,p=l;for(l=l.add(1);l.re<=n;){p=p.mul(l);var m=p.im<0?1:0;m!==0&&f===0&&c++,f=m,l=l.add(1)}return u(l).sub(p.log()).sub(new e(0,c*2*Math.PI*1))}});var TR="factorial",BK=["typed","gamma"],Mw=T(TR,BK,r=>{var{typed:e,gamma:t}=r;return e(TR,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>st(i,n))})});var MR="kldivergence",PK=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],Fw=T(MR,PK,r=>{var{typed:e,matrix:t,divide:n,sum:i,multiply:a,map:o,dotDivide:u,log:s,isNumeric:l}=r;return e(MR,{"Array, Array":function(p,m){return c(t(p),t(m))},"Matrix, Array":function(p,m){return c(p,t(m))},"Array, Matrix":function(p,m){return c(t(p),m)},"Matrix, Matrix":function(p,m){return c(p,m)}});function c(f,p){var m=p.size().length,h=f.size().length;if(m>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(m!==h)throw new Error("Length of two vectors must be equal");var d=i(f);if(d===0)throw new Error("Sum of elements in first object must be non zero");var g=i(p);if(g===0)throw new Error("Sum of elements in second object must be non zero");var y=n(f,i(f)),_=n(p,i(p)),b=i(a(y,o(u(y,_),w=>s(w))));return l(b)?b:Number.NaN}});var FR="multinomial",OK=["typed","add","divide","multiply","factorial","isInteger","isPositive"],Iw=T(FR,OK,r=>{var{typed:e,add:t,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:u}=r;return e(FR,{"Array | Matrix":function(l){var c=0,f=1;return $n(l,function(p){if(!o(p)||!u(p))throw new TypeError("Positive integer value expected in function multinomial");c=t(c,p),f=i(f,a(p))}),n(a(c),f)}})});var IR="permutations",kK=["typed","factorial"],Bw=T(IR,kK,r=>{var{typed:e,factorial:t}=r;return e(IR,{"number | BigNumber":t,"number, number":function(i,a){if(!tt(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!tt(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Bi(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,u;if(!BR(i)||!BR(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var s=i.mul(0).add(1);for(o=s,u=i.minus(a).plus(1);u.lte(i);u=u.plus(1))o=o.times(u);return o}})});function BR(r){return r.isInteger()&&r.gte(0)}var Uw=hr(ZR(),1),zK=(0,Uw.default)(Date.now());function go(r){var e;function t(i){e=i===null?zK:(0,Uw.default)(String(i))}t(r);function n(){return e()}return n}var JR="pickRandom",HK=["typed","config","?on"],$w=T(JR,HK,r=>{var{typed:e,config:t,on:n}=r,i=go(t.randomSeed);return n&&n("config",function(o,u){o.randomSeed!==u.randomSeed&&(i=go(o.randomSeed))}),e(JR,{"Array | Matrix":function(u){return a(u,{})},"Array | Matrix, Object":function(u,s){return a(u,s)},"Array | Matrix, number":function(u,s){return a(u,{number:s})},"Array | Matrix, Array | Matrix":function(u,s){return a(u,{weights:s})},"Array | Matrix, Array | Matrix, number":function(u,s,l){return a(u,{number:l,weights:s})},"Array | Matrix, number, Array | Matrix":function(u,s,l){return a(u,{number:s,weights:l})}});function a(o,u){var{number:s,weights:l,elementWise:c=!0}=u,f=typeof s=="undefined";f&&(s=1);var p=it(o)?o.create:it(l)?l.create:null;o=o.valueOf(),l&&(l=l.valueOf()),c===!0&&(o=Mt(o),l=Mt(l));var m=0;if(typeof l!="undefined"){if(l.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var h=0,d=l.length;h<d;h++){if(!xt(l[h])||l[h]<0)throw new Error("Weights must be an array of positive numbers");m+=l[h]}}for(var g=o.length,y=[],_;y.length<s;){if(typeof l=="undefined")_=o[Math.floor(i()*g)];else for(var b=i()*m,w=0,S=o.length;w<S;w++)if(b-=l[w],b<0){_=o[w];break}y.push(_)}return f?y[0]:p?p(y):y}});function Yc(r,e){var t=[];if(r=r.slice(0),r.length>1)for(var n=0,i=r.shift();n<i;n++)t.push(Yc(r,e));else for(var a=0,o=r.shift();a<o;a++)t.push(e());return t}var XR="random",GK=["typed","config","?on"],qw=T(XR,GK,r=>{var{typed:e,config:t,on:n}=r,i=go(t.randomSeed);return n&&n("config",function(u,s){u.randomSeed!==s.randomSeed&&(i=go(u.randomSeed))}),e(XR,{"":()=>o(0,1),number:u=>o(0,u),"number, number":(u,s)=>o(u,s),"Array | Matrix":u=>a(u,0,1),"Array | Matrix, number":(u,s)=>a(u,0,s),"Array | Matrix, number, number":(u,s,l)=>a(u,s,l)});function a(u,s,l){var c=Yc(u.valueOf(),()=>o(s,l));return it(u)?u.create(c):c}function o(u,s){return u+i()*(s-u)}});var QR="randomInt",WK=["typed","config","?on"],zw=T(QR,WK,r=>{var{typed:e,config:t,on:n}=r,i=go(t.randomSeed);return n&&n("config",function(u,s){u.randomSeed!==s.randomSeed&&(i=go(u.randomSeed))}),e(QR,{"":()=>o(0,1),number:u=>o(0,u),"number, number":(u,s)=>o(u,s),"Array | Matrix":u=>a(u,0,1),"Array | Matrix, number":(u,s)=>a(u,0,s),"Array | Matrix, number, number":(u,s,l)=>a(u,s,l)});function a(u,s,l){var c=Yc(u.valueOf(),()=>o(s,l));return it(u)?u.create(c):c}function o(u,s){return Math.floor(u+i()*(s-u))}});var KR="stirlingS2",YK=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],Hw=T(KR,YK,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:u,combinations:s,isNegative:l,isInteger:c,number:f,bignumber:p,larger:m}=r,h=[],d=[];return e(KR,{"number | BigNumber, number | BigNumber":function(y,_){if(!c(y)||l(y)||!c(_)||l(_))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(_,y))throw new TypeError("k must be less than or equal to n in function stirlingS2");var b=!(xt(y)&&xt(_)),w=b?d:h,S=b?p:f,x=f(y),C=f(_);if(w[x]&&w[x].length>C)return w[x][C];for(var E=0;E<=x;++E)if(w[E]||(w[E]=[S(E===0?1:0)]),E!==0)for(var D=w[E],N=w[E-1],I=D.length;I<=E&&I<=C;++I)I===E?D[I]=1:D[I]=t(i(S(I),N[I]),N[I-1]);return w[x][C]}})});var eL="bellNumbers",jK=["typed","addScalar","isNegative","isInteger","stirlingS2"],Gw=T(eL,jK,r=>{var{typed:e,addScalar:t,isNegative:n,isInteger:i,stirlingS2:a}=r;return e(eL,{"number | BigNumber":function(u){if(!i(u)||n(u))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var s=0,l=0;l<=u;l++)s=t(s,a(u,l));return s}})});var tL="catalan",ZK=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],Ww=T(tL,ZK,r=>{var{typed:e,addScalar:t,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:u}=r;return e(tL,{"number | BigNumber":function(l){if(!u(l)||o(l))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(l,2),l),t(l,1))}})});var rL="composition",JK=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],Yw=T(rL,JK,r=>{var{typed:e,addScalar:t,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:u}=r;return e(rL,{"number | BigNumber, number | BigNumber":function(l,c){if(!o(l)||!i(l)||!o(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(u(c,l))throw new TypeError("k must be less than or equal to n in function composition");return n(t(l,-1),t(c,-1))}})});var nL="leafCount",XK=["parse","typed"],jw=T(nL,XK,r=>{var{parse:e,typed:t}=r;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return t(nL,{Node:function(a){return n(a)}})});function Zw(r){return Lt(r)||Br(r)&&r.isUnary()&&Lt(r.args[0])}function jc(r){return!!(Lt(r)||(ni(r)||Br(r))&&r.args.every(jc)||Mn(r)&&jc(r.content))}function iL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Jw(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(t),!0).forEach(function(n){ir(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):iL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var QK="simplifyUtil",KK=["FunctionNode","OperatorNode","SymbolNode"],wl=T(QK,KK,r=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:n}=r,i=!0,a=!1,o="defaultF",u={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},s={divide:{total:a},log:{total:a}},l={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(b,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u,x=o;if(typeof b=="string"?x=b:Br(b)?x=b.fn.toString():ni(b)?x=b.name:Mn(b)&&(x="paren"),ot(S,x)){var C=S[x];if(ot(C,w))return C[w];if(ot(u,x))return u[x][w]}if(ot(S,o)){var E=S[o];return ot(E,w)?E[w]:u[o][w]}if(ot(u,x)){var D=u[x];if(ot(D,w))return D[w]}return u[o][w]}function f(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;return c(b,"commutative",w)}function p(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;return c(b,"associative",w)}function m(b,w){var S=Jw({},b);for(var x in w)ot(b,x)?S[x]=Jw(Jw({},w[x]),b[x]):S[x]=w[x];return S}function h(b,w){if(!b.args||b.args.length===0)return b;b.args=d(b,w);for(var S=0;S<b.args.length;S++)h(b.args[S],w)}function d(b,w){var S,x=[],C=function E(D){for(var N=0;N<D.args.length;N++){var I=D.args[N];Br(I)&&S===I.op?E(I):x.push(I)}};return p(b,w)?(S=b.op,C(b),x):b.args}function g(b,w){if(!(!b.args||b.args.length===0)){for(var S=_(b),x=b.args.length,C=0;C<x;C++)g(b.args[C],w);if(x>2&&p(b,w)){for(var E=b.args.pop();b.args.length>0;)E=S([b.args.pop(),E]);b.args=E.args}}}function y(b,w){if(!(!b.args||b.args.length===0)){for(var S=_(b),x=b.args.length,C=0;C<x;C++)y(b.args[C],w);if(x>2&&p(b,w)){for(var E=b.args.shift();b.args.length>0;)E=S([E,b.args.shift()]);b.args=E.args}}}function _(b){return Br(b)?function(w){try{return new t(b.op,b.fn,w,b.implicit)}catch(S){return console.error(S),[]}}:function(w){return new e(new n(b.name),w)}}return{createMakeNodeFunction:_,hasProperty:c,isCommutative:f,isAssociative:p,mergeContext:m,flatten:h,allChildren:d,unflattenr:g,unflattenl:y,defaultContext:u,realContext:s,positiveContext:l}});var eee="simplify",tee=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Xw=T(eee,tee,r=>{var{config:e,typed:t,parse:n,add:i,subtract:a,multiply:o,divide:u,pow:s,isZero:l,equal:c,resolve:f,simplifyConstant:p,simplifyCore:m,fraction:h,bignumber:d,mathWithTransform:g,matrix:y,AccessorNode:_,ArrayNode:b,ConstantNode:w,FunctionNode:S,IndexNode:x,ObjectNode:C,OperatorNode:E,ParenthesisNode:D,SymbolNode:N}=r,{hasProperty:I,isCommutative:O,isAssociative:V,mergeContext:q,flatten:L,unflattenr:P,unflattenl:k,createMakeNodeFunction:Y,defaultContext:B,realContext:Z,positiveContext:oe}=wl({FunctionNode:S,OperatorNode:E,SymbolNode:N});t.addConversion({from:"Object",to:"Map",convert:co});var ne=t("simplify",{Node:ve,"Node, Map":(H,te)=>ve(H,!1,te),"Node, Map, Object":(H,te,se)=>ve(H,!1,te,se),"Node, Array":ve,"Node, Array, Map":ve,"Node, Array, Map, Object":ve});t.removeConversion({from:"Object",to:"Map",convert:co}),ne.defaultContext=B,ne.realContext=Z,ne.positiveContext=oe;function U(H){return H.transform(function(te,se,Ce){return Mn(te)?U(te.content):te})}var fe={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};ne.rules=[m,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},p,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},p,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function Ee(H,te){var se={};if(H.s){var Ce=H.s.split("->");if(Ce.length===2)se.l=Ce[0],se.r=Ce[1];else throw SyntaxError("Could not parse rule: "+H.s)}else se.l=H.l,se.r=H.r;se.l=U(n(se.l)),se.r=U(n(se.r));for(var Te of["imposeContext","repeat","assuming"])Te in H&&(se[Te]=H[Te]);if(H.evaluate&&(se.evaluate=n(H.evaluate)),V(se.l,te)){var Ye=!O(se.l,te),Me;Ye&&(Me=De());var et=Y(se.l),At=De();se.expanded={},se.expanded.l=et([se.l,At]),L(se.expanded.l,te),P(se.expanded.l,te),se.expanded.r=et([se.r,At]),Ye&&(se.expandedNC1={},se.expandedNC1.l=et([Me,se.l]),se.expandedNC1.r=et([Me,se.r]),se.expandedNC2={},se.expandedNC2.l=et([Me,se.expanded.l]),se.expandedNC2.r=et([Me,se.expanded.r]))}return se}function pe(H,te){for(var se=[],Ce=0;Ce<H.length;Ce++){var Te=H[Ce],Ye=void 0,Me=typeof Te;switch(Me){case"string":Te={s:Te};case"object":Ye=Ee(Te,te);break;case"function":Ye=Te;break;default:throw TypeError("Unsupported type of rule: "+Me)}se.push(Ye)}return se}var he=0;function De(){return new N("_p"+he++)}function ve(H,te){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jo(),Ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Te=Ce.consoleDebug;te=pe(te||ne.rules,Ce.context);var Ye=f(H,se);Ye=U(Ye);for(var Me={},et=Ye.toString({parenthesis:"all"});!Me[et];){Me[et]=!0,he=0;var At=et;Te&&console.log("Working on: ",et);for(var _e=0;_e<te.length;_e++){var Ue="";if(typeof te[_e]=="function"?(Ye=te[_e](Ye,Ce),Te&&(Ue=te[_e].name)):(L(Ye,Ce.context),Ye=Ae(Ye,te[_e],Ce.context),Te&&(Ue="".concat(te[_e].l.toString()," -> ").concat(te[_e].r.toString()))),Te){var re=Ye.toString({parenthesis:"all"});re!==At&&(console.log("Applying",Ue,"produced",re),At=re)}k(Ye,Ce.context)}et=Ye.toString({parenthesis:"all"})}return Ye}function de(H,te,se){var Ce=H;if(H)for(var Te=0;Te<H.length;++Te){var Ye=Ae(H[Te],te,se);Ye!==H[Te]&&(Ce===H&&(Ce=H.slice()),Ce[Te]=Ye)}return Ce}function Ae(H,te,se){if(te.assuming){for(var Ce in te.assuming)for(var Te in te.assuming[Ce])if(I(Ce,Te,se)!==te.assuming[Ce][Te])return H}var Ye=q(te.imposeContext,se),Me=H;if(Me instanceof E||Me instanceof S){var et=de(Me.args,te,se);et!==Me.args&&(Me=Me.clone(),Me.args=et)}else if(Me instanceof D){if(Me.content){var At=Ae(Me.content,te,se);At!==Me.content&&(Me=new D(At))}}else if(Me instanceof b){var _e=de(Me.items,te,se);_e!==Me.items&&(Me=new b(_e))}else if(Me instanceof _){var Ue=Me.object;Me.object&&(Ue=Ae(Me.object,te,se));var re=Me.index;Me.index&&(re=Ae(Me.index,te,se)),(Ue!==Me.object||re!==Me.index)&&(Me=new _(Ue,re))}else if(Me instanceof x){var me=de(Me.dimensions,te,se);me!==Me.dimensions&&(Me=new x(me))}else if(Me instanceof C){var Se=!1,Re={};for(var $e in Me.properties)Re[$e]=Ae(Me.properties[$e],te,se),Re[$e]!==Me.properties[$e]&&(Se=!0);Se&&(Me=new C(Re))}var Pe=te.r,Ve=ee(te.l,Me,Ye)[0];if(!Ve&&te.expanded&&(Pe=te.expanded.r,Ve=ee(te.expanded.l,Me,Ye)[0]),!Ve&&te.expandedNC1&&(Pe=te.expandedNC1.r,Ve=ee(te.expandedNC1.l,Me,Ye)[0],Ve||(Pe=te.expandedNC2.r,Ve=ee(te.expandedNC2.l,Me,Ye)[0])),Ve){var je=Me.implicit;Me=Pe.clone(),je&&"implicit"in Pe&&(Me.implicit=!0),Me=Me.transform(function(M){return M.isSymbolNode&&ot(Ve.placeholders,M.name)?Ve.placeholders[M.name].clone():M})}return te.repeat&&Me!==H&&(Me=Ae(Me,te,se)),Me}function Ne(H,te){var se=[],Ce,Te,Ye=Y(H);if(O(H,te))for(var Me=0;Me<H.args.length;Me++)Te=H.args.slice(0),Te.splice(Me,1),Ce=Te.length===1?Te[0]:Ye(Te),se.push(Ye([H.args[Me],Ce]));else for(var et=1;et<H.args.length;et++){var At=H.args[0];et>1&&(At=Ye(H.args.slice(0,et))),Te=H.args.slice(et),Ce=Te.length===1?Te[0]:Ye(Te),se.push(Ye([At,Ce]))}return se}function ke(H,te){var se={placeholders:{}};if(!H.placeholders&&!te.placeholders)return se;if(H.placeholders){if(!te.placeholders)return H}else return te;for(var Ce in H.placeholders)if(ot(H.placeholders,Ce)&&(se.placeholders[Ce]=H.placeholders[Ce],ot(te.placeholders,Ce)&&!ye(H.placeholders[Ce],te.placeholders[Ce])))return null;for(var Te in te.placeholders)ot(te.placeholders,Te)&&(se.placeholders[Te]=te.placeholders[Te]);return se}function nt(H,te){var se=[];if(H.length===0||te.length===0)return se;for(var Ce,Te=0;Te<H.length;Te++)for(var Ye=0;Ye<te.length;Ye++)Ce=ke(H[Te],te[Ye]),Ce&&se.push(Ce);return se}function J(H){if(H.length===0)return H;for(var te=H.reduce(nt),se=[],Ce={},Te=0;Te<te.length;Te++){var Ye=JSON.stringify(te[Te]);Ce[Ye]||(Ce[Ye]=!0,se.push(te[Te]))}return se}function ee(H,te,se,Ce){var Te=[{placeholders:{}}];if(H instanceof E&&te instanceof E||H instanceof S&&te instanceof S){if(H instanceof E){if(H.op!==te.op||H.fn!==te.fn)return[]}else if(H instanceof S&&H.name!==te.name)return[];if(te.args.length===1&&H.args.length===1||!V(te,se)&&te.args.length===H.args.length||Ce){for(var Ye=[],Me=0;Me<H.args.length;Me++){var et=ee(H.args[Me],te.args[Me],se);if(et.length===0)break;Ye.push(et)}if(Ye.length!==H.args.length){if(!O(te,se)||H.args.length===1)return[];if(H.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var At=ee(H.args[0],te.args[1],se);if(At.length===0)return[];var _e=ee(H.args[1],te.args[0],se);if(_e.length===0)return[];Ye=[At,_e]}Te=J(Ye)}else if(te.args.length>=2&&H.args.length===2){for(var Ue=Ne(te,se),re=[],me=0;me<Ue.length;me++){var Se=ee(H,Ue[me],se,!0);re=re.concat(Se)}return re}else{if(H.args.length>2)throw Error("Unexpected non-binary associative function: "+H.toString());return[]}}else if(H instanceof N){if(H.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(fe[H.name]){if(H.name!==te.name)return[]}else switch(H.name[1]>="a"&&H.name[1]<="z"?H.name.substring(0,2):H.name[0]){case"n":case"_p":Te[0].placeholders[H.name]=te;break;case"c":case"cl":if(Lt(te))Te[0].placeholders[H.name]=te;else return[];break;case"v":if(!Lt(te))Te[0].placeholders[H.name]=te;else return[];break;case"vl":if(Ar(te))Te[0].placeholders[H.name]=te;else return[];break;case"cd":if(Zw(te))Te[0].placeholders[H.name]=te;else return[];break;case"vd":if(!Zw(te))Te[0].placeholders[H.name]=te;else return[];break;case"ce":if(jc(te))Te[0].placeholders[H.name]=te;else return[];break;case"ve":if(!jc(te))Te[0].placeholders[H.name]=te;else return[];break;default:throw new Error("Invalid symbol in rule: "+H.name)}}else if(H instanceof w){if(!c(H.value,te.value))return[]}else return[];return Te}function ye(H,te){if(H instanceof w&&te instanceof w){if(!c(H.value,te.value))return!1}else if(H instanceof N&&te instanceof N){if(H.name!==te.name)return!1}else if(H instanceof E&&te instanceof E||H instanceof S&&te instanceof S){if(H instanceof E){if(H.op!==te.op||H.fn!==te.fn)return!1}else if(H instanceof S&&H.name!==te.name)return!1;if(H.args.length!==te.args.length)return!1;for(var se=0;se<H.args.length;se++)if(!ye(H.args[se],te.args[se]))return!1}else return!1;return!0}return ne});var ree="simplifyConstant",nee=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],Qw=T(ree,nee,r=>{var{typed:e,config:t,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:u,ArrayNode:s,ConstantNode:l,FunctionNode:c,IndexNode:f,ObjectNode:p,OperatorNode:m,SymbolNode:h}=r,{isCommutative:d,isAssociative:g,allChildren:y,createMakeNodeFunction:_}=wl({FunctionNode:c,OperatorNode:m,SymbolNode:h}),b=e("simplifyConstant",{Node:L=>C(q(L,{})),"Node, Object":function(P,k){return C(q(P,k))}});function w(L){return uo(L)?L.valueOf():L instanceof Array?L.map(w):it(L)?i(w(L.valueOf())):L}function S(L,P,k){try{return n[L].apply(null,P)}catch(Y){return P=P.map(w),D(n[L].apply(null,P),k)}}var x=e({Fraction:I,number:function(P){return P<0?N(new l(-P)):new l(P)},BigNumber:function(P){return P<0?N(new l(-P)):new l(P)},Complex:function(P){throw new Error("Cannot convert Complex number to Node")},string:function(P){return new l(P)},Matrix:function(P){return new s(P.valueOf().map(k=>x(k)))}});function C(L){return qt(L)?L:x(L)}function E(L,P){var k=P&&P.exactFractions!==!1;if(k&&isFinite(L)&&a){var Y=a(L),B=P&&typeof P.fractionsLimit=="number"?P.fractionsLimit:1/0;if(Y.valueOf()===L&&Y.n<B&&Y.d<B)return Y}return L}var D=e({"string, Object":function(P,k){if(t.number==="BigNumber")return o===void 0&&hl(),o(P);if(t.number==="Fraction")return a===void 0&&Om(),a(P);var Y=parseFloat(P);return E(Y,k)},"Fraction, Object":function(P,k){return P},"BigNumber, Object":function(P,k){return P},"number, Object":function(P,k){return E(P,k)},"Complex, Object":function(P,k){return P.im!==0?P:E(P.re,k)},"Matrix, Object":function(P,k){return i(E(P.valueOf()))},"Array, Object":function(P,k){return P.map(E)}});function N(L){return new m("-","unaryMinus",[L])}function I(L){var P,k=L.s*L.n;return k<0?P=new m("-","unaryMinus",[new l(-k)]):P=new l(k),L.d===1?P:new m("/","divide",[P,new l(L.d)])}function O(L,P,k){if(!Wi(P))return new u(C(L),C(P));if(Tn(L)||it(L)){for(var Y=Array.from(P.dimensions);Y.length>0;)if(Lt(Y[0])&&typeof Y[0].value!="string"){var B=D(Y.shift().value,k);Tn(L)?L=L.items[B-1]:(L=L.valueOf()[B-1],L instanceof Array&&(L=i(L)))}else if(Y.length>1&&Lt(Y[1])&&typeof Y[1].value!="string"){var Z=D(Y[1].value,k),oe=[],ne=Tn(L)?L.items:L.valueOf();for(var U of ne)if(Tn(U))oe.push(U.items[Z-1]);else if(it(L))oe.push(U[Z-1]);else break;if(oe.length===ne.length)Tn(L)?L=new s(oe):L=i(oe),Y.splice(1,1);else break}else break;return Y.length===P.dimensions.length?new u(C(L),P):Y.length>0?(P=new f(Y),new u(C(L),P)):L}if(Yo(L)&&P.dimensions.length===1&&Lt(P.dimensions[0])){var fe=P.dimensions[0].value;return fe in L.properties?L.properties[fe]:new l}return new u(C(L),P)}function V(L,P,k,Y){var B=P.shift(),Z=P.reduce((oe,ne)=>{if(!qt(ne)){var U=oe.pop();if(qt(U))return[U,ne];try{return oe.push(S(L,[U,ne],Y)),oe}catch(Ee){oe.push(U)}}oe.push(C(oe.pop()));var fe=oe.length===1?oe[0]:k(oe);return[k([fe,C(ne)])]},[B]);return Z.length===1?Z[0]:k([Z[0],x(Z[1])])}function q(L,P){switch(L.type){case"SymbolNode":return L;case"ConstantNode":switch(typeof L.value){case"number":return D(L.value,P);case"string":return L.value;default:if(!isNaN(L.value))return D(L.value,P)}return L;case"FunctionNode":if(n[L.name]&&n[L.name].rawArgs)return L;{var k=["add","multiply"];if(k.indexOf(L.name)===-1){var Y=L.args.map(Ae=>q(Ae,P));if(!Y.some(qt))try{return S(L.name,Y,P)}catch(Ae){}if(L.name==="size"&&Y.length===1&&Tn(Y[0])){for(var B=[],Z=Y[0];Tn(Z);)B.push(Z.items.length),Z=Z.items[0];return i(B)}return new c(L.name,Y.map(C))}}case"OperatorNode":{var oe=L.fn.toString(),ne,U,fe=_(L);if(Br(L)&&L.isUnary())ne=[q(L.args[0],P)],qt(ne[0])?U=fe(ne):U=S(oe,ne,P);else if(g(L,P.context))if(ne=y(L,P.context),ne=ne.map(Ae=>q(Ae,P)),d(oe,P.context)){for(var Ee=[],pe=[],he=0;he<ne.length;he++)qt(ne[he])?pe.push(ne[he]):Ee.push(ne[he]);Ee.length>1?(U=V(oe,Ee,fe,P),pe.unshift(U),U=V(oe,pe,fe,P)):U=V(oe,ne,fe,P)}else U=V(oe,ne,fe,P);else ne=L.args.map(Ae=>q(Ae,P)),U=V(oe,ne,fe,P);return U}case"ParenthesisNode":return q(L.content,P);case"AccessorNode":return O(q(L.object,P),q(L.index,P),P);case"ArrayNode":{var De=L.items.map(Ae=>q(Ae,P));return De.some(qt)?new s(De.map(C)):i(De)}case"IndexNode":return new f(L.dimensions.map(Ae=>b(Ae,P)));case"ObjectNode":{var ve={};for(var de in L.properties)ve[de]=b(L.properties[de],P);return new p(ve)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(L.type))}}return b});var aL="simplifyCore",iee=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Kw=T(aL,iee,r=>{var{typed:e,parse:t,equal:n,isZero:i,add:a,subtract:o,multiply:u,divide:s,pow:l,AccessorNode:c,ArrayNode:f,ConstantNode:p,FunctionNode:m,IndexNode:h,ObjectNode:d,OperatorNode:g,ParenthesisNode:y,SymbolNode:_}=r,b=new p(0),w=new p(1),S=new p(!0),x=new p(!1);function C(I){return Br(I)&&["and","not","or"].includes(I.op)}var{hasProperty:E,isCommutative:D}=wl({FunctionNode:m,OperatorNode:g,SymbolNode:_});function N(I){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=O?O.context:void 0;if(E(I,"trivial",V)){if(ni(I)&&I.args.length===1)return N(I.args[0],O);var q=!1,L=0;if(I.forEach(pe=>{++L,L===1&&(q=N(pe,O))}),L===1)return q}var P=I;if(ni(P)){var k=nI(P.name);if(k){if(P.args.length>2&&E(P,"associative",V))for(;P.args.length>2;){var Y=P.args.pop(),B=P.args.pop();P.args.push(new g(k,P.name,[Y,B]))}P=new g(k,P.name,P.args)}else return new m(N(P.fn),P.args.map(pe=>N(pe,O)))}if(Br(P)&&P.isUnary()){var Z=N(P.args[0],O);if(P.op==="~"&&Br(Z)&&Z.isUnary()&&Z.op==="~"||P.op==="not"&&Br(Z)&&Z.isUnary()&&Z.op==="not"&&C(Z.args[0]))return Z.args[0];var oe=!0;if(P.op==="-"&&Br(Z)&&(Z.isBinary()&&Z.fn==="subtract"&&(P=new g("-","subtract",[Z.args[1],Z.args[0]]),oe=!1),Z.isUnary()&&Z.op==="-"))return Z.args[0];if(oe)return new g(P.op,P.fn,[Z])}if(Br(P)&&P.isBinary()){var ne=N(P.args[0],O),U=N(P.args[1],O);if(P.op==="+"){if(Lt(ne)&&i(ne.value))return U;if(Lt(U)&&i(U.value))return ne;Br(U)&&U.isUnary()&&U.op==="-"&&(U=U.args[0],P=new g("-","subtract",[ne,U]))}if(P.op==="-")return Br(U)&&U.isUnary()&&U.op==="-"?N(new g("+","add",[ne,U.args[0]]),O):Lt(ne)&&i(ne.value)?N(new g("-","unaryMinus",[U])):Lt(U)&&i(U.value)?ne:new g(P.op,P.fn,[ne,U]);if(P.op==="*"){if(Lt(ne)){if(i(ne.value))return b;if(n(ne.value,1))return U}if(Lt(U)){if(i(U.value))return b;if(n(U.value,1))return ne;if(D(P,V))return new g(P.op,P.fn,[U,ne],P.implicit)}return new g(P.op,P.fn,[ne,U],P.implicit)}if(P.op==="/")return Lt(ne)&&i(ne.value)?b:Lt(U)&&n(U.value,1)?ne:new g(P.op,P.fn,[ne,U]);if(P.op==="^"&&Lt(U)){if(i(U.value))return w;if(n(U.value,1))return ne}if(P.op==="and"){if(Lt(ne))if(ne.value){if(C(U))return U}else return x;if(Lt(U))if(U.value){if(C(ne))return ne}else return x}if(P.op==="or"){if(Lt(ne)){if(ne.value)return S;if(C(U))return U}if(Lt(U)){if(U.value)return S;if(C(ne))return ne}}return new g(P.op,P.fn,[ne,U])}if(Br(P))return new g(P.op,P.fn,P.args.map(pe=>N(pe,O)));if(Tn(P))return new f(P.items.map(pe=>N(pe,O)));if(Ii(P))return new c(N(P.object,O),N(P.index,O));if(Wi(P))return new h(P.dimensions.map(pe=>N(pe,O)));if(Yo(P)){var fe={};for(var Ee in P.properties)fe[Ee]=N(P.properties[Ee],O);return new d(fe)}return P}return e(aL,{Node:N,"Node,Object":N})});var aee="resolve",oee=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],e_=T(aee,oee,r=>{var{typed:e,parse:t,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=r;function u(s,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!l)return s;if(Ar(s)){if(c.has(s.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var p=l.get(s.name);if(qt(p)){var m=new Set(c);return m.add(s.name),u(p,l,m)}else return typeof p=="number"?t(String(p)):p!==void 0?new n(p):s}else if(Br(s)){var h=s.args.map(function(g){return u(g,l,c)});return new a(s.op,s.fn,h,s.implicit)}else{if(Mn(s))return new o(u(s.content,l,c));if(ni(s)){var d=s.args.map(function(g){return u(g,l,c)});return new i(s.name,d)}}return s.map(g=>u(g,l,c))}return e("resolve",{Node:u,"Node, Map | null | undefined":u,"Node, Object":(s,l)=>u(s,co(l)),"Array | Matrix":e.referToSelf(s=>l=>l.map(c=>s(c))),"Array | Matrix, null | undefined":e.referToSelf(s=>l=>l.map(c=>s(c))),"Array, Object":e.referTo("Array,Map",s=>(l,c)=>s(l,co(c))),"Matrix, Object":e.referTo("Matrix,Map",s=>(l,c)=>s(l,co(c))),"Array | Matrix, Map":e.referToSelf(s=>(l,c)=>l.map(f=>s(f,c)))})});var oL="symbolicEqual",see=["parse","simplify","typed","OperatorNode"],t_=T(oL,see,r=>{var{parse:e,simplify:t,typed:n,OperatorNode:i}=r;function a(o,u){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=new i("-","subtract",[o,u]),c=t(l,{},s);return Lt(c)&&!c.value}return n(oL,{"Node, Node":a,"Node, Node, Object":a})});var sL="derivative",uee=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],r_=T(sL,uee,r=>{var{typed:e,config:t,parse:n,simplify:i,equal:a,isZero:o,numeric:u,ConstantNode:s,FunctionNode:l,OperatorNode:c,ParenthesisNode:f,SymbolNode:p}=r;function m(b,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},x={};g(x,b,w.name);var C=y(b,x);return S.simplify?i(C):C}e.addConversion({from:"identifier",to:"SymbolNode",convert:n});var h=e(sL,{"Node, SymbolNode":m,"Node, SymbolNode, Object":m});e.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),h._simplify=!0,h.toTex=function(b){return d.apply(null,b.args)};var d=e("_derivTex",{"Node, SymbolNode":function(w,S){return Lt(w)&&Wt(w.value)==="string"?d(n(w.value).toString(),S.toString(),1):d(w.toTex(),S.toString(),1)},"Node, ConstantNode":function(w,S){if(Wt(S.value)==="string")return d(w,n(S.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(w,S,x){return d(w.toString(),S.name,x.value)},"string, string, number":function(w,S,x){var C;return x===1?C="{d\\over d"+S+"}":C="{d^{"+x+"}\\over d"+S+"^{"+x+"}}",C+"\\left[".concat(w,"\\right]")}}),g=e("constTag",{"Object, ConstantNode, string":function(w,S){return w[S]=!0,!0},"Object, SymbolNode, string":function(w,S,x){return S.name!==x?(w[S]=!0,!0):!1},"Object, ParenthesisNode, string":function(w,S,x){return g(w,S.content,x)},"Object, FunctionAssignmentNode, string":function(w,S,x){return S.params.indexOf(x)===-1?(w[S]=!0,!0):g(w,S.expr,x)},"Object, FunctionNode | OperatorNode, string":function(w,S,x){if(S.args.length>0){for(var C=g(w,S.args[0],x),E=1;E<S.args.length;++E)C=g(w,S.args[E],x)&&C;if(C)return w[S]=!0,!0}return!1}}),y=e("_derivative",{"ConstantNode, Object":function(w){return _(0)},"SymbolNode, Object":function(w,S){return S[w]!==void 0?_(0):_(1)},"ParenthesisNode, Object":function(w,S){return new f(y(w.content,S))},"FunctionAssignmentNode, Object":function(w,S){return S[w]!==void 0?_(0):y(w.expr,S)},"FunctionNode, Object":function(w,S){if(S[w]!==void 0)return _(0);var x=w.args[0],C,E=!1,D=!1,N;switch(w.name){case"cbrt":E=!0,N=new c("*","multiply",[_(3),new c("^","pow",[x,new c("/","divide",[_(2),_(3)])])]);break;case"sqrt":case"nthRoot":if(w.args.length===1)E=!0,N=new c("*","multiply",[_(2),new l("sqrt",[x])]);else if(w.args.length===2)return C=new c("/","divide",[_(1),w.args[1]]),S[C]=S[w.args[1]],y(new c("^","pow",[x,C]),S);break;case"log10":C=_(10);case"log":if(!C&&w.args.length===1)N=x.clone(),E=!0;else if(w.args.length===1&&C||w.args.length===2&&S[w.args[1]]!==void 0)N=new c("*","multiply",[x.clone(),new l("log",[C||w.args[1]])]),E=!0;else if(w.args.length===2)return y(new c("/","divide",[new l("log",[x]),new l("log",[w.args[1]])]),S);break;case"pow":if(w.args.length===2)return S[C]=S[w.args[1]],y(new c("^","pow",[x,w.args[1]]),S);break;case"exp":N=new l("exp",[x.clone()]);break;case"sin":N=new l("cos",[x.clone()]);break;case"cos":N=new c("-","unaryMinus",[new l("sin",[x.clone()])]);break;case"tan":N=new c("^","pow",[new l("sec",[x.clone()]),_(2)]);break;case"sec":N=new c("*","multiply",[w,new l("tan",[x.clone()])]);break;case"csc":D=!0,N=new c("*","multiply",[w,new l("cot",[x.clone()])]);break;case"cot":D=!0,N=new c("^","pow",[new l("csc",[x.clone()]),_(2)]);break;case"asin":E=!0,N=new l("sqrt",[new c("-","subtract",[_(1),new c("^","pow",[x.clone(),_(2)])])]);break;case"acos":E=!0,D=!0,N=new l("sqrt",[new c("-","subtract",[_(1),new c("^","pow",[x.clone(),_(2)])])]);break;case"atan":E=!0,N=new c("+","add",[new c("^","pow",[x.clone(),_(2)]),_(1)]);break;case"asec":E=!0,N=new c("*","multiply",[new l("abs",[x.clone()]),new l("sqrt",[new c("-","subtract",[new c("^","pow",[x.clone(),_(2)]),_(1)])])]);break;case"acsc":E=!0,D=!0,N=new c("*","multiply",[new l("abs",[x.clone()]),new l("sqrt",[new c("-","subtract",[new c("^","pow",[x.clone(),_(2)]),_(1)])])]);break;case"acot":E=!0,D=!0,N=new c("+","add",[new c("^","pow",[x.clone(),_(2)]),_(1)]);break;case"sinh":N=new l("cosh",[x.clone()]);break;case"cosh":N=new l("sinh",[x.clone()]);break;case"tanh":N=new c("^","pow",[new l("sech",[x.clone()]),_(2)]);break;case"sech":D=!0,N=new c("*","multiply",[w,new l("tanh",[x.clone()])]);break;case"csch":D=!0,N=new c("*","multiply",[w,new l("coth",[x.clone()])]);break;case"coth":D=!0,N=new c("^","pow",[new l("csch",[x.clone()]),_(2)]);break;case"asinh":E=!0,N=new l("sqrt",[new c("+","add",[new c("^","pow",[x.clone(),_(2)]),_(1)])]);break;case"acosh":E=!0,N=new l("sqrt",[new c("-","subtract",[new c("^","pow",[x.clone(),_(2)]),_(1)])]);break;case"atanh":E=!0,N=new c("-","subtract",[_(1),new c("^","pow",[x.clone(),_(2)])]);break;case"asech":E=!0,D=!0,N=new c("*","multiply",[x.clone(),new l("sqrt",[new c("-","subtract",[_(1),new c("^","pow",[x.clone(),_(2)])])])]);break;case"acsch":E=!0,D=!0,N=new c("*","multiply",[new l("abs",[x.clone()]),new l("sqrt",[new c("+","add",[new c("^","pow",[x.clone(),_(2)]),_(1)])])]);break;case"acoth":E=!0,D=!0,N=new c("-","subtract",[_(1),new c("^","pow",[x.clone(),_(2)])]);break;case"abs":N=new c("/","divide",[new l(new p("abs"),[x.clone()]),x.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+w.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var I,O;E?(I="/",O="divide"):(I="*",O="multiply");var V=y(x,S);return D&&(V=new c("-","unaryMinus",[V])),new c(I,O,[V,N])},"OperatorNode, Object":function(w,S){if(S[w]!==void 0)return _(0);if(w.op==="+")return new c(w.op,w.fn,w.args.map(function(L){return y(L,S)}));if(w.op==="-"){if(w.isUnary())return new c(w.op,w.fn,[y(w.args[0],S)]);if(w.isBinary())return new c(w.op,w.fn,[y(w.args[0],S),y(w.args[1],S)])}if(w.op==="*"){var x=w.args.filter(function(L){return S[L]!==void 0});if(x.length>0){var C=w.args.filter(function(L){return S[L]===void 0}),E=C.length===1?C[0]:new c("*","multiply",C),D=x.concat(y(E,S));return new c("*","multiply",D)}return new c("+","add",w.args.map(function(L){return new c("*","multiply",w.args.map(function(P){return P===L?y(P,S):P.clone()}))}))}if(w.op==="/"&&w.isBinary()){var N=w.args[0],I=w.args[1];return S[I]!==void 0?new c("/","divide",[y(N,S),I]):S[N]!==void 0?new c("*","multiply",[new c("-","unaryMinus",[N]),new c("/","divide",[y(I,S),new c("^","pow",[I.clone(),_(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[y(N,S),I.clone()]),new c("*","multiply",[N.clone(),y(I,S)])]),new c("^","pow",[I.clone(),_(2)])])}if(w.op==="^"&&w.isBinary()){var O=w.args[0],V=w.args[1];if(S[O]!==void 0)return Lt(O)&&(o(O.value)||a(O.value,1))?_(0):new c("*","multiply",[w,new c("*","multiply",[new l("log",[O.clone()]),y(V.clone(),S)])]);if(S[V]!==void 0){if(Lt(V)){if(o(V.value))return _(0);if(a(V.value,1))return y(O,S)}var q=new c("^","pow",[O.clone(),new c("-","subtract",[V,_(1)])]);return new c("*","multiply",[V.clone(),new c("*","multiply",[y(O,S),q])])}return new c("*","multiply",[new c("^","pow",[O.clone(),V.clone()]),new c("+","add",[new c("*","multiply",[y(O,S),new c("/","divide",[V.clone(),O.clone()])]),new c("*","multiply",[y(V,S),new l("log",[O.clone()])])])])}throw new Error('Cannot process operator "'+w.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function _(b,w){return new s(u(b,w||t.number))}return h});var uL="rationalize",lee=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],n_=T(uL,lee,r=>{var{config:e,typed:t,equal:n,isZero:i,add:a,subtract:o,multiply:u,divide:s,pow:l,parse:c,simplifyConstant:f,simplifyCore:p,simplify:m,fraction:h,bignumber:d,mathWithTransform:g,matrix:y,AccessorNode:_,ArrayNode:b,ConstantNode:w,FunctionNode:S,IndexNode:x,ObjectNode:C,OperatorNode:E,SymbolNode:D,ParenthesisNode:N}=r;function I(P){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=V(),Z=O(P,k,!0,B.firstRules),oe=Z.variables.length,ne={exactFractions:!1},U={exactFractions:!0};if(P=Z.expression,oe>=1){P=q(P);var fe,Ee,pe=!0,he=!1;P=m(P,B.firstRules,{},ne);for(var De;Ee=pe?B.distrDivRules:B.sucDivRules,P=m(P,Ee,{},U),pe=!pe,De=P.toString(),De!==fe;)he=!0,fe=De;he&&(P=m(P,B.firstRulesAgain,{},ne)),P=m(P,B.finalRules,{},ne)}var ve=[],de={};return P.type==="OperatorNode"&&P.isBinary()&&P.op==="/"?(oe===1&&(P.args[0]=L(P.args[0],ve),P.args[1]=L(P.args[1])),Y&&(de.numerator=P.args[0],de.denominator=P.args[1])):(oe===1&&(P=L(P,ve)),Y&&(de.numerator=P,de.denominator=null)),Y?(de.coefficients=ve,de.variables=Z.variables,de.expression=P,de):P}return t(uL,{Node:I,"Node, boolean":(P,k)=>I(P,{},k),"Node, Object":I,"Node, Object, boolean":I});function O(P,k,Y,B){var Z=[],oe=m(P,B,k,{exactFractions:!1});Y=!!Y;var ne="+-*"+(Y?"/":"");fe(oe);var U={};return U.expression=oe,U.variables=Z,U;function fe(Ee){var pe=Ee.type;if(pe==="FunctionNode")throw new Error("There is an unsolved function call");if(pe==="OperatorNode")if(Ee.op==="^"){if(Ee.args[1].type!=="ConstantNode"||!tt(parseFloat(Ee.args[1].value)))throw new Error("There is a non-integer exponent");fe(Ee.args[0])}else{if(ne.indexOf(Ee.op)===-1)throw new Error("Operator "+Ee.op+" invalid in polynomial expression");for(var he=0;he<Ee.args.length;he++)fe(Ee.args[he])}else if(pe==="SymbolNode"){var De=Ee.name,ve=Z.indexOf(De);ve===-1&&Z.push(De)}else if(pe==="ParenthesisNode")fe(Ee.content);else if(pe!=="ConstantNode")throw new Error("type "+pe+" is not allowed in polynomial expression")}}function V(){var P=[p,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],k=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],Y=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],B=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],Z={};return Z.firstRules=P.concat(k,B),Z.distrDivRules=Y,Z.sucDivRules=B,Z.firstRulesAgain=P.concat(k),Z.finalRules=[p,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],Z}function q(P,k,Y){var B=P.type,Z=arguments.length>1;if(B==="OperatorNode"&&P.isBinary()){var oe=!1,ne;if(P.op==="^"&&(P.args[0].type==="ParenthesisNode"||P.args[0].type==="OperatorNode")&&P.args[1].type==="ConstantNode"&&(ne=parseFloat(P.args[1].value),oe=ne>=2&&tt(ne)),oe){if(ne>2){var U=P.args[0],fe=new E("^","pow",[P.args[0].cloneDeep(),new w(ne-1)]);P=new E("*","multiply",[U,fe])}else P=new E("*","multiply",[P.args[0],P.args[0].cloneDeep()]);Z&&(Y==="content"?k.content=P:k.args[Y]=P)}}if(B==="ParenthesisNode")q(P.content,P,"content");else if(B!=="ConstantNode"&&B!=="SymbolNode")for(var Ee=0;Ee<P.args.length;Ee++)q(P.args[Ee],P,Ee);if(!Z)return P}function L(P,k){k===void 0&&(k=[]),k[0]=0;var Y={};Y.cte=1,Y.oper="+",Y.fire="";var B=0,Z="";De(P,null,Y),B=k.length-1;for(var oe=!0,ne,U=B;U>=0;U--)if(k[U]!==0){var fe=new w(oe?k[U]:Math.abs(k[U])),Ee=k[U]<0?"-":"+";if(U>0){var pe=new D(Z);if(U>1){var he=new w(U);pe=new E("^","pow",[pe,he])}k[U]===-1&&oe?fe=new E("-","unaryMinus",[pe]):Math.abs(k[U])===1?fe=pe:fe=new E("*","multiply",[fe,pe])}oe?ne=fe:Ee==="+"?ne=new E("+","add",[ne,fe]):ne=new E("-","subtract",[ne,fe]),oe=!1}if(oe)return new w(0);return ne;function De(ve,de,Ae){var Ne=ve.type;if(Ne==="FunctionNode")throw new Error("There is an unsolved function call");if(Ne==="OperatorNode"){if("+-*^".indexOf(ve.op)===-1)throw new Error("Operator "+ve.op+" invalid");if(de!==null){if((ve.fn==="unaryMinus"||ve.fn==="pow")&&de.fn!=="add"&&de.fn!=="subtract"&&de.fn!=="multiply")throw new Error("Invalid "+ve.op+" placing");if((ve.fn==="subtract"||ve.fn==="add"||ve.fn==="multiply")&&de.fn!=="add"&&de.fn!=="subtract")throw new Error("Invalid "+ve.op+" placing");if((ve.fn==="subtract"||ve.fn==="add"||ve.fn==="unaryMinus")&&Ae.noFil!==0)throw new Error("Invalid "+ve.op+" placing")}(ve.op==="^"||ve.op==="*")&&(Ae.fire=ve.op);for(var ke=0;ke<ve.args.length;ke++)ve.fn==="unaryMinus"&&(Ae.oper="-"),(ve.op==="+"||ve.fn==="subtract")&&(Ae.fire="",Ae.cte=1,Ae.oper=ke===0?"+":ve.op),Ae.noFil=ke,De(ve.args[ke],ve,Ae)}else if(Ne==="SymbolNode"){if(ve.name!==Z&&Z!=="")throw new Error("There is more than one variable");if(Z=ve.name,de===null){k[1]=1;return}if(de.op==="^"&&Ae.noFil!==0)throw new Error("In power the variable should be the first parameter");if(de.op==="*"&&Ae.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(Ae.fire===""||Ae.fire==="*")&&(B<1&&(k[1]=0),k[1]+=Ae.cte*(Ae.oper==="+"?1:-1),B=Math.max(1,B))}else if(Ne==="ConstantNode"){var nt=parseFloat(ve.value);if(de===null){k[0]=nt;return}if(de.op==="^"){if(Ae.noFil!==1)throw new Error("Constant cannot be powered");if(!tt(nt)||nt<=0)throw new Error("Non-integer exponent is not allowed");for(var J=B+1;J<nt;J++)k[J]=0;nt>B&&(k[nt]=0),k[nt]+=Ae.cte*(Ae.oper==="+"?1:-1),B=Math.max(nt,B);return}Ae.cte=nt,Ae.fire===""&&(k[0]+=Ae.cte*(Ae.oper==="+"?1:-1))}else throw new Error("Type "+Ne+" is not allowed")}}});var lL="zpk2tf",cee=["typed","add","multiply","Complex","number"],i_=T(lL,cee,r=>{var{typed:e,add:t,multiply:n,Complex:i,number:a}=r;return e(lL,{"Array,Array,number":function(l,c,f){return o(l,c,f)},"Array,Array":function(l,c){return o(l,c,1)},"Matrix,Matrix,number":function(l,c,f){return o(l.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(l,c){return o(l.valueOf(),c.valueOf(),1)}});function o(s,l,c){s.some(_=>_.type==="BigNumber")&&(s=s.map(_=>a(_))),l.some(_=>_.type==="BigNumber")&&(l=l.map(_=>a(_)));for(var f=[i(1,0)],p=[i(1,0)],m=0;m<s.length;m++){var h=s[m];typeof h=="number"&&(h=i(h,0)),f=u(f,[i(1,0),i(-h.re,-h.im)])}for(var d=0;d<l.length;d++){var g=l[d];typeof g=="number"&&(g=i(g,0)),p=u(p,[i(1,0),i(-g.re,-g.im)])}for(var y=0;y<f.length;y++)f[y]=n(f[y],c);return[f,p]}function u(s,l){for(var c=[],f=0;f<s.length+l.length-1;f++){c[f]=i(0,0);for(var p=0;p<s.length;p++)f-p>=0&&f-p<l.length&&(c[f]=t(c[f],n(s[p],l[f-p])))}return c}});var cL="freqz",fee=["typed","add","multiply","Complex","divide","matrix"],a_=T(cL,fee,r=>{var{typed:e,add:t,multiply:n,Complex:i,divide:a,matrix:o}=r;return e(cL,{"Array, Array":function(c,f){var p=s(512);return u(c,f,p)},"Array, Array, Array":function(c,f,p){return u(c,f,p)},"Array, Array, number":function(c,f,p){if(p<0)throw new Error("w must be a positive number");var m=s(p);return u(c,f,m)},"Matrix, Matrix":function(c,f){var p=s(512),{w:m,h}=u(c.valueOf(),f.valueOf(),p);return{w:o(m),h:o(h)}},"Matrix, Matrix, Matrix":function(c,f,p){var{h:m}=u(c.valueOf(),f.valueOf(),p.valueOf());return{h:o(m),w:o(p)}},"Matrix, Matrix, number":function(c,f,p){if(p<0)throw new Error("w must be a positive number");var m=s(p),{h}=u(c.valueOf(),f.valueOf(),m);return{h:o(h),w:o(m)}}});function u(l,c,f){for(var p=[],m=[],h=0;h<f.length;h++){for(var d=i(0,0),g=i(0,0),y=0;y<l.length;y++)d=t(d,n(l[y],i(Math.cos(-y*f[h]),Math.sin(-y*f[h]))));for(var _=0;_<c.length;_++)g=t(g,n(c[_],i(Math.cos(-_*f[h]),Math.sin(-_*f[h]))));p.push(d),m.push(g)}for(var b=[],w=0;w<p.length;w++)b.push(a(p[w],m[w]));return{h:b,w:f}}function s(l){for(var c=[],f=0;f<l;f++)c.push(f/l*Math.PI);return c}});var pee="reviver",mee=["classes"],o_=T(pee,mee,r=>{var{classes:e}=r;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}});var dee="replacer",hee=[],s_=T(dee,hee,()=>function(e,t){return typeof t=="number"&&(!isFinite(t)||isNaN(t))?{mathjs:"number",value:String(t)}:t});var fL="12.4.0";var u_=T("true",[],()=>!0),l_=T("false",[],()=>!1),c_=T("null",[],()=>null),f_=Pi("Infinity",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1/0):1/0}),p_=Pi("NaN",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(NaN):NaN}),m_=Pi("pi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?Vc(t):WT}),d_=Pi("tau",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?d2(t):YT}),h_=Pi("e",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?p2(t):jT}),g_=Pi("phi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?m2(t):ZT}),v_=Pi("LN2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).ln():Math.LN2}),y_=Pi("LN10",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(10).ln():Math.LN10}),b_=Pi("LOG2E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(2).ln()):Math.LOG2E}),x_=Pi("LOG10E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(10).ln()):Math.LOG10E}),w_=Pi("SQRT1_2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t("0.5").sqrt():Math.SQRT1_2}),__=Pi("SQRT2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).sqrt():Math.SQRT2}),S_=Pi("i",["Complex"],r=>{var{Complex:e}=r;return e.I});var A_=T("version",[],()=>fL);function Pi(r,e,t){return T(r,e,t,{recreateOnConfigChange:!0})}var D_=Ht("speedOfLight","299792458","m s^-1"),E_=Ht("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),N_=Ht("planckConstant","6.62607015e-34","J s"),C_=Ht("reducedPlanckConstant","1.0545718176461565e-34","J s"),T_=Ht("magneticConstant","1.25663706212e-6","N A^-2"),M_=Ht("electricConstant","8.8541878128e-12","F m^-1"),F_=Ht("vacuumImpedance","376.730313667","ohm"),I_=Ht("coulomb","8.987551792261171e9","N m^2 C^-2"),B_=Ht("elementaryCharge","1.602176634e-19","C"),P_=Ht("bohrMagneton","9.2740100783e-24","J T^-1"),O_=Ht("conductanceQuantum","7.748091729863649e-5","S"),k_=Ht("inverseConductanceQuantum","12906.403729652257","ohm"),R_=Ht("magneticFluxQuantum","2.0678338484619295e-15","Wb"),L_=Ht("nuclearMagneton","5.0507837461e-27","J T^-1"),V_=Ht("klitzing","25812.807459304513","ohm");var U_=Ht("bohrRadius","5.29177210903e-11","m"),$_=Ht("classicalElectronRadius","2.8179403262e-15","m"),q_=Ht("electronMass","9.1093837015e-31","kg"),z_=Ht("fermiCoupling","1.1663787e-5","GeV^-2"),H_=gd("fineStructure",.0072973525693),G_=Ht("hartreeEnergy","4.3597447222071e-18","J"),W_=Ht("protonMass","1.67262192369e-27","kg"),Y_=Ht("deuteronMass","3.3435830926e-27","kg"),j_=Ht("neutronMass","1.6749271613e-27","kg"),Z_=Ht("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),J_=Ht("rydberg","10973731.568160","m^-1"),X_=Ht("thomsonCrossSection","6.6524587321e-29","m^2"),Q_=gd("weakMixingAngle",.2229),K_=gd("efimovFactor",22.7),eS=Ht("atomicMass","1.66053906660e-27","kg"),tS=Ht("avogadro","6.02214076e23","mol^-1"),rS=Ht("boltzmann","1.380649e-23","J K^-1"),nS=Ht("faraday","96485.33212331001","C mol^-1"),iS=Ht("firstRadiation","3.7417718521927573e-16","W m^2"),aS=Ht("loschmidt","2.686780111798444e25","m^-3"),oS=Ht("gasConstant","8.31446261815324","J K^-1 mol^-1"),sS=Ht("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),uS=Ht("molarVolume","0.022413969545014137","m^3 mol^-1"),lS=gd("sackurTetrode",-1.16487052358),cS=Ht("secondRadiation","0.014387768775039337","m K"),fS=Ht("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),pS=Ht("wienDisplacement","2.897771955e-3","m K"),mS=Ht("molarMass","0.99999999965e-3","kg mol^-1"),dS=Ht("molarMassC12","11.9999999958e-3","kg mol^-1"),hS=Ht("gravity","9.80665","m s^-2"),gS=Ht("planckLength","1.616255e-35","m"),vS=Ht("planckMass","2.176435e-8","kg"),yS=Ht("planckTime","5.391245e-44","s"),bS=Ht("planckCharge","1.87554603778e-18","C"),xS=Ht("planckTemperature","1.416785e+32","K");function Ht(r,e,t){var n=["config","Unit","BigNumber"];return T(r,n,i=>{var{config:a,Unit:o,BigNumber:u}=i,s=a.number==="BigNumber"?new u(e):parseFloat(e),l=new o(s,t);return l.fixPrefix=!0,l})}function gd(r,e){var t=["config","BigNumber"];return T(r,t,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}var gee="apply",vee=["typed","isInteger"],wS=T(gee,vee,r=>{var{typed:e,isInteger:t}=r,n=iu({typed:e,isInteger:t});return e("apply",{"...any":function(a){var o=a[1];xt(o)?a[1]=o-1:lt(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(u){throw Nr(u)}}})},{isTransformFunction:!0});var yee="column",bee=["typed","Index","matrix","range"],_S=T(yee,bee,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=Tc({typed:e,Index:t,matrix:n,range:i});return e("column",{"...any":function(u){var s=u.length-1,l=u[s];xt(l)&&(u[s]=l-1);try{return a.apply(null,u)}catch(c){throw Nr(c)}}})},{isTransformFunction:!0});function _l(r,e,t){var n=r.filter(function(s){return Ar(s)&&!(s.name in e)&&!t.has(s.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+r+'"');var i=n.name,a=new Map,o=new sl(t,a,new Set([i])),u=r.compile();return function(l){return a.set(i,l),u.evaluate(o)}}var xee="filter",wee=["typed"],SS=T(xee,wee,r=>{var{typed:e}=r;function t(i,a,o){var u,s;return i[0]&&(u=i[0].compile().evaluate(o)),i[1]&&(Ar(i[1])||Ia(i[1])?s=i[1].compile().evaluate(o):s=_l(i[1],a,o)),n(u,s)}t.rawArgs=!0;var n=e("filter",{"Array, function":pL,"Matrix, function":function(a,o){return a.create(pL(a.toArray(),o))},"Array, RegExp":al,"Matrix, RegExp":function(a,o){return a.create(al(a.toArray(),o))}});return t},{isTransformFunction:!0});function pL(r,e){return vm(r,function(t,n,i){return Ji(e,t,[n+1],i,"filter")})}var _ee="forEach",See=["typed"],AS=T(_ee,See,r=>{var{typed:e}=r;function t(i,a,o){var u,s;return i[0]&&(u=i[0].compile().evaluate(o)),i[1]&&(Ar(i[1])||Ia(i[1])?s=i[1].compile().evaluate(o):s=_l(i[1],a,o)),n(u,s)}t.rawArgs=!0;var n=e("forEach",{"Array | Matrix, function":function(a,o){var u=function s(l,c){if(Array.isArray(l))jo(l,function(f,p){s(f,c.concat(p+1))});else return Ji(o,l,c,a,"forEach")};u(a.valueOf(),[])}});return t},{isTransformFunction:!0});var Aee="index",Dee=["Index","getMatrixDataType"],DS=T(Aee,Dee,r=>{var{Index:e,getMatrixDataType:t}=r;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var u=arguments[a];if(tl(u))u.start--,u.end-=u.step>0?0:2;else if(u&&u.isSet===!0)u=u.map(function(l){return l-1});else if(Jt(u)||it(u))t(u)!=="boolean"&&(u=u.map(function(l){return l-1}));else if(xt(u))u--;else if(lt(u))u=u.toNumber()-1;else if(typeof u!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=u}var s=new e;return e.apply(s,i),s}},{isTransformFunction:!0});var Eee="map",Nee=["typed"],ES=T(Eee,Nee,r=>{var{typed:e}=r;function t(i,a,o){var u,s;return i[0]&&(u=i[0].compile().evaluate(o)),i[1]&&(Ar(i[1])||Ia(i[1])?s=i[1].compile().evaluate(o):s=_l(i[1],a,o)),n(u,s)}t.rawArgs=!0;var n=e("map",{"Array, function":function(a,o){return mL(a,o,a)},"Matrix, function":function(a,o){return a.create(mL(a.valueOf(),o,a))}});return t},{isTransformFunction:!0});function mL(r,e,t){function n(i,a){return Array.isArray(i)?pi(i,function(o,u){return n(o,a.concat(u+1))}):Ji(e,i,a,t,"map")}return n(r,[])}function zn(r){if(r.length===2&&Xr(r[0])){r=r.slice();var e=r[1];xt(e)?r[1]=e-1:lt(e)&&(r[1]=e.minus(1))}return r}var Cee="max",Tee=["typed","config","numeric","larger"],NS=T(Cee,Tee,r=>{var{typed:e,config:t,numeric:n,larger:i}=r,a=Rc({typed:e,config:t,numeric:n,larger:i});return e("max",{"...any":function(u){u=zn(u);try{return a.apply(null,u)}catch(s){throw Nr(s)}}})},{isTransformFunction:!0});var Mee="mean",Fee=["typed","add","divide"],CS=T(Mee,Fee,r=>{var{typed:e,add:t,divide:n}=r,i=zc({typed:e,add:t,divide:n});return e("mean",{"...any":function(o){o=zn(o);try{return i.apply(null,o)}catch(u){throw Nr(u)}}})},{isTransformFunction:!0});var Iee="min",Bee=["typed","config","numeric","smaller"],TS=T(Iee,Bee,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r,a=Lc({typed:e,config:t,numeric:n,smaller:i});return e("min",{"...any":function(u){u=zn(u);try{return a.apply(null,u)}catch(s){throw Nr(s)}}})},{isTransformFunction:!0});var Pee="range",Oee=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],MS=T(Pee,Oee,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:u,largerEq:s,add:l,isPositive:c}=r,f=Ic({typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:u,largerEq:s,add:l,isPositive:c});return e("range",{"...any":function(m){var h=m.length-1,d=m[h];return typeof d!="boolean"&&m.push(!0),f.apply(null,m)}})},{isTransformFunction:!0});var kee="row",Ree=["typed","Index","matrix","range"],FS=T(kee,Ree,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=Bc({typed:e,Index:t,matrix:n,range:i});return e("row",{"...any":function(u){var s=u.length-1,l=u[s];xt(l)&&(u[s]=l-1);try{return a.apply(null,u)}catch(c){throw Nr(c)}}})},{isTransformFunction:!0});var Lee="subset",Vee=["typed","matrix","zeros","add"],IS=T(Lee,Vee,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=Pc({typed:e,matrix:t,zeros:n,add:i});return e("subset",{"...any":function(u){try{return a.apply(null,u)}catch(s){throw Nr(s)}}})},{isTransformFunction:!0});var Uee="concat",$ee=["typed","matrix","isInteger"],BS=T(Uee,$ee,r=>{var{typed:e,matrix:t,isInteger:n}=r,i=Cc({typed:e,matrix:t,isInteger:n});return e("concat",{"...any":function(o){var u=o.length-1,s=o[u];xt(s)?o[u]=s-1:lt(s)&&(o[u]=s.minus(1));try{return i.apply(null,o)}catch(l){throw Nr(l)}}})},{isTransformFunction:!0});var dL="diff",qee=["typed","matrix","subtract","number","bignumber"],PS=T(dL,qee,r=>{var{typed:e,matrix:t,subtract:n,number:i,bignumber:a}=r,o=Fc({typed:e,matrix:t,subtract:n,number:i,bignumber:a});return e(dL,{"...any":function(s){s=zn(s);try{return o.apply(null,s)}catch(l){throw Nr(l)}}})},{isTransformFunction:!0});var zee="std",Hee=["typed","map","sqrt","variance"],OS=T(zee,Hee,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r,a=Wc({typed:e,map:t,sqrt:n,variance:i});return e("std",{"...any":function(u){u=zn(u);try{return a.apply(null,u)}catch(s){throw Nr(s)}}})},{isTransformFunction:!0});var hL="sum",Gee=["typed","config","add","numeric"],kS=T(hL,Gee,r=>{var{typed:e,config:t,add:n,numeric:i}=r,a=$c({typed:e,config:t,add:n,numeric:i});return e(hL,{"...any":function(u){u=zn(u);try{return a.apply(null,u)}catch(s){throw Nr(s)}}})},{isTransformFunction:!0});var Wee="quantileSeq",Yee=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],RS=T(Wee,Yee,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:u,compare:s,isInteger:l,smaller:c,smallerEq:f,larger:p}=r,m=Gc({typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:u,compare:s,isInteger:l,smaller:c,smallerEq:f,larger:p});return e("quantileSeq",{"Array | Matrix, number | BigNumber":m,"Array | Matrix, number | BigNumber, number":(d,g,y)=>m(d,g,h(y)),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(d,g,y,_)=>m(d,g,y,h(_)),"Array | Matrix, Array | Matrix":m,"Array | Matrix, Array | Matrix, number":(d,g,y)=>m(d,g,h(y)),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(d,g,y,_)=>m(d,g,y,h(_))});function h(d){return zn([[],d])[1]}},{isTransformFunction:!0});var gL="cumsum",jee=["typed","add","unaryPlus"],LS=T(gL,jee,r=>{var{typed:e,add:t,unaryPlus:n}=r,i=qc({typed:e,add:t,unaryPlus:n});return e(gL,{"...any":function(o){if(o.length===2&&Xr(o[0])){var u=o[1];xt(u)?o[1]=u-1:lt(u)&&(o[1]=u.minus(1))}try{return i.apply(null,o)}catch(s){throw Nr(s)}}})},{isTransformFunction:!0});var vL="variance",Zee=["typed","add","subtract","multiply","divide","apply","isNaN"],VS=T(vL,Zee,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:u}=r,s=Hc({typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:u});return e(vL,{"...any":function(c){c=zn(c);try{return s.apply(null,c)}catch(f){throw Nr(f)}}})},{isTransformFunction:!0});var yL="print",Jee=["typed","matrix","zeros","add"],US=T(yL,Jee,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=Oc({typed:e,matrix:t,zeros:n,add:i});return e(yL,{"string, Object | Array":function(s,l){return a(o(s),l)},"string, Object | Array, number | Object":function(s,l,c){return a(o(s),l,c)}});function o(u){return u.replace(Rm,s=>{var l=s.slice(1).split("."),c=l.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0});var Xee="and",Qee=["typed","matrix","zeros","add","equalScalar","not","concat"],$S=T(Xee,Qee,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,u=kc({typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o});function s(l,c,f){var p=l[0].compile().evaluate(f);if(!Xr(p)&&!u(p,!0))return!1;var m=l[1].compile().evaluate(f);return u(p,m)}return s.rawArgs=!0,s},{isTransformFunction:!0});var Kee="or",ete=["typed","matrix","equalScalar","DenseMatrix","concat"],qS=T(Kee,ete,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Nc({typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a});function u(s,l,c){var f=s[0].compile().evaluate(c);if(!Xr(f)&&o(f,!1))return!0;var p=s[1].compile().evaluate(c);return o(f,p)}return u.rawArgs=!0,u},{isTransformFunction:!0});var tte="bitAnd",rte=["typed","matrix","zeros","add","equalScalar","not","concat"],zS=T(tte,rte,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,u=Dc({typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o});function s(l,c,f){var p=l[0].compile().evaluate(f);if(!Xr(p)){if(isNaN(p))return NaN;if(p===0||p===!1)return 0}var m=l[1].compile().evaluate(f);return u(p,m)}return s.rawArgs=!0,s},{isTransformFunction:!0});var nte="bitOr",ite=["typed","matrix","equalScalar","DenseMatrix","concat"],HS=T(nte,ite,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Ec({typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a});function u(s,l,c){var f=s[0].compile().evaluate(c);if(!Xr(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var p=s[1].compile().evaluate(c);return o(f,p)}return u.rawArgs=!0,u},{isTransformFunction:!0});var Xe=ly({config:Be}),Cr=fy({}),GS=h_({BigNumber:Xe,config:Be}),bL=l_({}),xL=H_({BigNumber:Xe,config:Be}),as=my({}),WS=S_({Complex:Cr}),wL=f_({BigNumber:Xe,config:Be}),_L=y_({BigNumber:Xe,config:Be}),SL=x_({BigNumber:Xe,config:Be}),Zc=hy({}),AL=p_({BigNumber:Xe,config:Be}),DL=c_({}),EL=g_({BigNumber:Xe,config:Be}),NL=dy({}),YS=ry({}),CL=w_({BigNumber:Xe,config:Be}),TL=lS({BigNumber:Xe,config:Be}),jS=d_({BigNumber:Xe,config:Be}),ML=u_({}),FL=A_({}),Yt=gy({Matrix:Zc}),IL=K_({BigNumber:Xe,config:Be}),BL=v_({BigNumber:Xe,config:Be}),vd=m_({BigNumber:Xe,config:Be}),PL=s_({}),OL=__({BigNumber:Xe,config:Be}),ae=ty({BigNumber:Xe,Complex:Cr,DenseMatrix:Yt,Fraction:as}),yd=L0({BigNumber:Xe,config:Be,typed:ae}),kL=Q_({BigNumber:Xe,config:Be}),Hn=V0({typed:ae}),RL=Ux({Complex:Cr,config:Be,typed:ae}),LL=qx({BigNumber:Xe,typed:ae}),VL=Hx({BigNumber:Xe,Complex:Cr,config:Be,typed:ae}),mn=U0({typed:ae}),UL=hb({typed:ae}),$L=Yx({BigNumber:Xe,Complex:Cr,config:Be,typed:ae}),qL=Zx({typed:ae}),ZS=Jx({typed:ae}),zL=Qx({Complex:Cr,config:Be,typed:ae}),gi=T0({BigNumber:Xe,typed:ae}),HL=mb({typed:ae}),GL=C0({typed:ae}),WL=vy({typed:ae}),Jc=Ew({typed:ae}),Xc=M0({Complex:Cr,typed:ae}),os=gb({typed:ae}),bd=Kx({typed:ae}),YL=t1({BigNumber:Xe,typed:ae}),jL=n1({BigNumber:Xe,typed:ae}),ZL=G0({typed:ae}),er=A0({config:Be,typed:ae}),JL=Wb({typed:ae}),JS=W0({typed:ae}),XL=Y0({Complex:Cr,typed:ae}),QL=Ab({typed:ae}),KL=Eb({typed:ae}),Sl=Jb({typed:ae}),xd=Nb({typed:ae}),e3=Kb({format:Sl,typed:ae}),wd=vb({typed:ae}),ii=by({typed:ae}),vo=v0({typed:ae}),ss=x0({typed:ae}),Ki=w0({typed:ae}),t3=b_({BigNumber:Xe,config:Be}),r3=Tw({Complex:Cr,typed:ae}),n3=eb({Complex:Cr,config:Be,typed:ae}),XS=tb({Complex:Cr,config:Be,typed:ae}),us=Mb({typed:ae}),Qr=rb({typed:ae}),Qc=bb({typed:ae}),Ra=E0({typed:ae}),i3=Qb({format:Sl,typed:ae}),a3=$w({config:Be,typed:ae}),o3=Oc({typed:ae}),s3=qw({config:Be,typed:ae}),_d=yb({typed:ae}),u3=a1({BigNumber:Xe,typed:ae}),QS=ab({BigNumber:Xe,Fraction:as,complex:Xc,typed:ae}),Kc=s1({typed:ae}),La=D0({Matrix:Zc,equalScalar:er,typed:ae}),l3=k0({typed:ae}),c3=sb({typed:ae}),f3=N0({typed:ae}),Oi=$0({typed:ae}),p3=l1({typed:ae}),KS=S0({typed:ae}),m3=$x({Complex:Cr,config:Be,typed:ae}),d3=Gx({BigNumber:Xe,typed:ae}),Sd=iu({isInteger:ii,typed:ae}),h3=Wx({BigNumber:Xe,Complex:Cr,config:Be,typed:ae}),g3=Xb({format:Sl,typed:ae}),v3=Nw({typed:ae}),y3=e1({typed:ae}),b3=i1({BigNumber:Xe,typed:ae}),Al=_0({typed:ae}),x3=tx({typed:ae}),w3=zw({config:Be,typed:ae}),_3=o1({BigNumber:Xe,typed:ae}),S3=u1({typed:ae}),A3=Lx({SparseMatrix:La,typed:ae}),ea=ob({Complex:Cr,config:Be,typed:ae}),D3=c1({typed:ae}),_a=R0({typed:ae}),E3=zx({BigNumber:Xe,Complex:Cr,config:Be,typed:ae}),N3=r1({BigNumber:Xe,typed:ae}),uu=F0({Fraction:as,typed:ae}),ls=y0({typed:ae}),Ze=I0({DenseMatrix:Yt,Matrix:Zc,SparseMatrix:La,typed:ae}),C3=B0({isZero:Ki,matrix:Ze,typed:ae}),T3=jb({isNaN:Al,isNumeric:ls,typed:ae}),ta=rx({bignumber:gi,fraction:uu,number:Ra}),eA=Zb({config:Be,multiplyScalar:Qr,numeric:ta,typed:ae}),tA=Ib({isInteger:ii,matrix:Ze,typed:ae}),An=kb({matrix:Ze,config:Be,typed:ae}),M3=Rb({matrix:Ze,typed:ae}),Dl=Lb({matrix:Ze,typed:ae}),rA=lb({BigNumber:Xe,config:Be,matrix:Ze,typed:ae}),Dn=Ub({BigNumber:Xe,config:Be,matrix:Ze,typed:ae}),F3=jx({Complex:Cr,config:Be,typed:ae}),nA=q0({BigNumber:Xe,Complex:Cr,Fraction:as,config:Be,isNegative:vo,matrix:Ze,typed:ae,unaryMinus:_a}),or=Cc({isInteger:ii,matrix:Ze,typed:ae}),I3=wb({prod:eA,size:An,typed:ae}),Ad=Vb({conj:os,transpose:Dl,typed:ae}),iA=Sb({DenseMatrix:Yt,SparseMatrix:La,matrix:Ze,typed:ae}),qr=nx({numeric:ta,typed:ae}),El=cx({DenseMatrix:Yt,concat:or,divideScalar:qr,equalScalar:er,matrix:Ze,typed:ae}),ki=wx({DenseMatrix:Yt,concat:or,equalScalar:er,matrix:Ze,typed:ae}),Nl=Db({matrix:Ze,typed:ae}),B3=b0({isNumeric:ls,typed:ae}),yo=Cb({BigNumber:Xe,DenseMatrix:Yt,SparseMatrix:La,config:Be,matrix:Ze,typed:ae}),P3=Tb({matrix:Ze,multiplyScalar:Qr,typed:ae}),ef=Ex({DenseMatrix:Yt,concat:or,config:Be,matrix:Ze,typed:ae}),O3=hx({DenseMatrix:Yt,concat:or,equalScalar:er,matrix:Ze,typed:ae,zeros:Dn}),aA=fx({DenseMatrix:Yt,divideScalar:qr,equalScalar:er,matrix:Ze,multiplyScalar:Qr,subtractScalar:Oi,typed:ae}),Dd=O0({flatten:Nl,matrix:Ze,size:An,typed:ae}),k3=ib({BigNumber:Xe,concat:or,equalScalar:er,matrix:Ze,typed:ae}),R3=Fb({BigNumber:Xe,config:Be,matrix:Ze,typed:ae}),Ed=Q1({addScalar:mn,complex:Xc,conj:os,divideScalar:qr,equal:ki,identity:yo,isZero:Ki,matrix:Ze,multiplyScalar:Qr,sign:QS,sqrt:ea,subtractScalar:Oi,typed:ae,unaryMinus:_a,zeros:Dn}),L3=Bb({config:Be,matrix:Ze}),V3=gx({DenseMatrix:Yt,concat:or,equalScalar:er,matrix:Ze,typed:ae,zeros:Dn}),lu=ax({BigNumber:Xe,DenseMatrix:Yt,config:Be,equalScalar:er,matrix:Ze,typed:ae,zeros:Dn}),Gn=Sx({DenseMatrix:Yt,concat:or,config:Be,matrix:Ze,typed:ae}),Kr=ub({DenseMatrix:Yt,concat:or,equalScalar:er,matrix:Ze,subtractScalar:Oi,typed:ae,unaryMinus:_a}),U3=ex({concat:or,matrix:Ze,typed:ae}),$3=Cx({DenseMatrix:Yt,concat:or,config:Be,equalScalar:er,matrix:Ze,typed:ae}),Nd=px({DenseMatrix:Yt,divideScalar:qr,equalScalar:er,matrix:Ze,multiplyScalar:Qr,subtractScalar:Oi,typed:ae}),q3=xb({DenseMatrix:Yt,concat:or,matrix:Ze,typed:ae}),tr=w1({DenseMatrix:Yt,SparseMatrix:La,addScalar:mn,concat:or,equalScalar:er,matrix:Ze,typed:ae}),z3=Xx({BigNumber:Xe,DenseMatrix:Yt,concat:or,equalScalar:er,matrix:Ze,typed:ae}),H3=Dc({concat:or,equalScalar:er,matrix:Ze,typed:ae}),G3=Ec({DenseMatrix:Yt,concat:or,equalScalar:er,matrix:Ze,typed:ae}),W3=db({DenseMatrix:Yt,concat:or,matrix:Ze,typed:ae}),Y3=Ww({addScalar:mn,combinations:Jc,divideScalar:qr,isInteger:ii,isNegative:vo,multiplyScalar:Qr,typed:ae}),cs=yx({BigNumber:Xe,DenseMatrix:Yt,Fraction:as,concat:or,config:Be,equalScalar:er,matrix:Ze,typed:ae}),oA=xx({concat:or,matrix:Ze,typed:ae}),j3=qc({add:tr,typed:ae,unaryPlus:yd}),Cd=Nx({equal:ki,typed:ae}),Z3=Fc({matrix:Ze,number:Ra,subtract:Kr,typed:ae}),J3=xw({abs:Hn,addScalar:mn,deepEqual:Cd,divideScalar:qr,multiplyScalar:Qr,sqrt:ea,subtractScalar:Oi,typed:ae}),tf=A1({addScalar:mn,conj:os,multiplyScalar:Qr,size:An,typed:ae}),X3=_x({compareText:oA,isZero:Ki,typed:ae}),sA=Sc({DenseMatrix:Yt,config:Be,equalScalar:er,matrix:Ze,round:lu,typed:ae,zeros:Dn}),Q3=Q0({BigNumber:Xe,DenseMatrix:Yt,concat:or,config:Be,equalScalar:er,matrix:Ze,round:lu,typed:ae,zeros:Dn}),K3=_1({abs:Hn,addScalar:mn,divideScalar:qr,isPositive:ss,multiplyScalar:Qr,smaller:Gn,sqrt:ea,typed:ae}),uA=Fx({DenseMatrix:Yt,smaller:Gn}),Bn=Ix({ImmutableDenseMatrix:uA,getMatrixDataType:xd}),Wn=Dx({DenseMatrix:Yt,concat:or,config:Be,matrix:Ze,typed:ae}),Td=ox({Complex:Cr,config:Be,divideScalar:qr,typed:ae}),e4=mx({DenseMatrix:Yt,divideScalar:qr,equalScalar:er,matrix:Ze,multiplyScalar:Qr,subtractScalar:Oi,typed:ae}),t4=P0({flatten:Nl,matrix:Ze,size:An,typed:ae}),r4=Lc({config:Be,numeric:ta,smaller:Gn,typed:ae}),lA=Ac({DenseMatrix:Yt,concat:or,config:Be,equalScalar:er,matrix:Ze,round:lu,typed:ae,zeros:Dn}),gr=nb({addScalar:mn,dot:tf,equalScalar:er,matrix:Ze,multiplyScalar:Qr,typed:ae}),n4=ux({Complex:Cr,config:Be,divideScalar:qr,typed:ae}),i4=Nc({DenseMatrix:Yt,concat:or,equalScalar:er,matrix:Ze,typed:ae}),rf=Tx({compare:cs,isNaN:Al,isNumeric:ls,typed:ae}),a4=vx({DenseMatrix:Yt,concat:or,equalScalar:er,matrix:Ze,typed:ae,zeros:Dn}),cA=ew({SparseMatrix:La,abs:Hn,add:tr,divideScalar:qr,larger:Wn,largerEq:ef,multiply:gr,subtract:Kr,transpose:Dl,typed:ae}),vi=Pc({add:tr,matrix:Ze,typed:ae,zeros:Dn}),Md=$c({add:tr,config:Be,numeric:ta,typed:ae}),o4=D1({add:tr,matrix:Ze,typed:ae}),fA=dx({DenseMatrix:Yt,divideScalar:qr,equalScalar:er,matrix:Ze,multiplyScalar:Qr,subtractScalar:Oi,typed:ae}),s4=i_({Complex:Cr,add:tr,multiply:gr,number:Ra,typed:ae}),Fd=H0({DenseMatrix:Yt,config:Be,equalScalar:er,matrix:Ze,round:lu,typed:ae,zeros:Dn}),Sa=bx({compare:cs,typed:ae}),u4=Yw({addScalar:mn,combinations:Jc,isInteger:ii,isNegative:vo,isPositive:ss,larger:Wn,typed:ae}),l4=_b({matrix:Ze,multiply:gr,subtract:Kr,typed:ae}),pA=cw({divideScalar:qr,isZero:Ki,matrix:Ze,multiply:gr,subtractScalar:Oi,typed:ae,unaryMinus:_a}),c4=fb({concat:or,equalScalar:er,matrix:Ze,multiplyScalar:Qr,typed:ae}),mA=Bx({larger:Wn,smaller:Gn}),dA=Z0({Complex:Cr,DenseMatrix:Yt,ceil:Fd,equalScalar:er,floor:sA,matrix:Ze,typed:ae,zeros:Dn}),hA=E1({Index:Bn,typed:ae}),f4=ww({abs:Hn,add:tr,addScalar:mn,config:Be,divideScalar:qr,equalScalar:er,flatten:Nl,isNumeric:ls,isZero:Ki,matrix:Ze,multiply:gr,multiplyScalar:Qr,smaller:Gn,subtract:Kr,typed:ae}),p4=cb({BigNumber:Xe,add:tr,config:Be,equal:ki,isInteger:ii,mod:lA,smaller:Gn,typed:ae,xgcd:rA}),m4=K0({concat:or,equalScalar:er,matrix:Ze,typed:ae}),d4=sx({Complex:Cr,config:Be,divideScalar:qr,log:Td,typed:ae}),Id=Rc({config:Be,larger:Wn,numeric:ta,typed:ae}),h4=f1({DenseMatrix:Yt,Index:Bn,compareNatural:Sa,size:An,subset:vi,typed:ae}),g4=m1({DenseMatrix:Yt,Index:Bn,compareNatural:Sa,size:An,subset:vi,typed:ae}),v4=h1({Index:Bn,compareNatural:Sa,size:An,subset:vi,typed:ae}),y4=v1({Index:Bn,compareNatural:Sa,size:An,subset:vi,typed:ae}),cu=Ax({DenseMatrix:Yt,concat:or,config:Be,matrix:Ze,typed:ae}),b4=Mx({compare:cs,compareNatural:Sa,matrix:Ze,typed:ae}),x4=kc({concat:or,equalScalar:er,matrix:Ze,not:Qc,typed:ae,zeros:Dn}),fu=Ic({bignumber:gi,matrix:Ze,add:tr,config:Be,isPositive:ss,larger:Wn,largerEq:ef,smaller:Gn,smallerEq:cu,typed:ae}),w4=Bc({Index:Bn,matrix:Ze,range:fu,typed:ae}),gA=p1({DenseMatrix:Yt,Index:Bn,compareNatural:Sa,size:An,subset:vi,typed:ae}),_4=g1({Index:Bn,compareNatural:Sa,size:An,subset:vi,typed:ae}),vA=b1({Index:Bn,concat:or,setDifference:gA,size:An,subset:vi,typed:ae}),yA=Px({FibonacciHeap:mA,addScalar:mn,equalScalar:er}),bA=Tc({Index:Bn,matrix:Ze,range:fu,typed:ae}),fs=fw({abs:Hn,addScalar:mn,det:pA,divideScalar:qr,identity:yo,matrix:Ze,multiply:gr,typed:ae,unaryMinus:_a}),xA=X1({DenseMatrix:Yt,Spa:yA,SparseMatrix:La,abs:Hn,addScalar:mn,divideScalar:qr,equalScalar:er,larger:Wn,matrix:Ze,multiplyScalar:Qr,subtractScalar:Oi,typed:ae,unaryMinus:_a}),S4=pw({Complex:Cr,add:tr,ctranspose:Ad,deepEqual:Cd,divideScalar:qr,dot:tf,dotDivide:El,equal:ki,inv:fs,matrix:Ze,multiply:gr,typed:ae}),Ri=ix({Complex:Cr,config:Be,fraction:uu,identity:yo,inv:fs,matrix:Ze,multiply:gr,number:Ra,typed:ae}),wA=d1({DenseMatrix:Yt,Index:Bn,compareNatural:Sa,size:An,subset:vi,typed:ae}),A4=x1({Index:Bn,concat:or,setIntersect:wA,setSymDifference:vA,size:An,subset:vi,typed:ae}),D4=hw({abs:Hn,add:tr,identity:yo,inv:fs,map:us,max:Id,multiply:gr,size:An,sqrt:ea,subtract:Kr,typed:ae}),Pt=kx({BigNumber:Xe,Complex:Cr,Fraction:as,abs:Hn,addScalar:mn,config:Be,divideScalar:qr,equal:ki,fix:dA,format:Sl,isNumeric:ls,multiplyScalar:Qr,number:Ra,pow:Ri,round:lu,subtractScalar:Oi}),E4=F_({BigNumber:Xe,Unit:Pt,config:Be}),N4=pS({BigNumber:Xe,Unit:Pt,config:Be}),C4=eS({BigNumber:Xe,Unit:Pt,config:Be}),T4=P_({BigNumber:Xe,Unit:Pt,config:Be}),M4=rS({BigNumber:Xe,Unit:Pt,config:Be}),F4=O_({BigNumber:Xe,Unit:Pt,config:Be}),I4=I_({BigNumber:Xe,Unit:Pt,config:Be}),B4=Y_({BigNumber:Xe,Unit:Pt,config:Be}),P4=lx({DenseMatrix:Yt,concat:or,equalScalar:er,matrix:Ze,pow:Ri,typed:ae}),O4=M_({BigNumber:Xe,Unit:Pt,config:Be}),k4=B_({BigNumber:Xe,Unit:Pt,config:Be}),R4=dw({abs:Hn,add:tr,identity:yo,inv:fs,multiply:gr,typed:ae}),L4=nS({BigNumber:Xe,Unit:Pt,config:Be}),_A=$b({addScalar:mn,ceil:Fd,conj:os,divideScalar:qr,dotDivide:El,exp:JS,i:WS,log2:XS,matrix:Ze,multiplyScalar:Qr,pow:Ri,tau:jS,typed:ae}),Bd=Cw({BigNumber:Xe,Complex:Cr,config:Be,multiplyScalar:Qr,pow:Ri,typed:ae}),V4=E_({BigNumber:Xe,Unit:Pt,config:Be}),U4=G_({BigNumber:Xe,Unit:Pt,config:Be}),$4=qb({conj:os,dotDivide:El,fft:_A,typed:ae}),q4=V_({BigNumber:Xe,Unit:Pt,config:Be}),z4=aS({BigNumber:Xe,Unit:Pt,config:Be}),H4=T_({BigNumber:Xe,Unit:Pt,config:Be}),G4=mS({BigNumber:Xe,Unit:Pt,config:Be}),W4=sS({BigNumber:Xe,Unit:Pt,config:Be}),Y4=j_({BigNumber:Xe,Unit:Pt,config:Be}),j4=L_({BigNumber:Xe,Unit:Pt,config:Be}),Z4=bS({BigNumber:Xe,Unit:Pt,config:Be}),J4=gS({BigNumber:Xe,Unit:Pt,config:Be}),X4=xS({BigNumber:Xe,Unit:Pt,config:Be}),Q4=W_({BigNumber:Xe,Unit:Pt,config:Be}),K4=Z_({BigNumber:Xe,Unit:Pt,config:Be}),e6=C_({BigNumber:Xe,Unit:Pt,config:Be}),t6=J_({BigNumber:Xe,Unit:Pt,config:Be}),r6=cS({BigNumber:Xe,Unit:Pt,config:Be}),n6=D_({BigNumber:Xe,Unit:Pt,config:Be}),i6=fS({BigNumber:Xe,Unit:Pt,config:Be}),a6=X_({BigNumber:Xe,Unit:Pt,config:Be}),o6=tS({BigNumber:Xe,Unit:Pt,config:Be}),s6=U_({BigNumber:Xe,Unit:Pt,config:Be}),u6=Vx({Unit:Pt,typed:ae}),yn=bw({divideScalar:qr,equalScalar:er,inv:fs,matrix:Ze,multiply:gr,typed:ae}),l6=q_({BigNumber:Xe,Unit:Pt,config:Be}),Cl=Mw({gamma:Bd,typed:ae}),c6=iS({BigNumber:Xe,Unit:Pt,config:Be}),f6=hS({BigNumber:Xe,Unit:Pt,config:Be}),p6=k_({BigNumber:Xe,Unit:Pt,config:Be}),SA=rw({DenseMatrix:Yt,lsolve:aA,lup:xA,matrix:Ze,slu:cA,typed:ae,usolve:Nd}),m6=R_({BigNumber:Xe,Unit:Pt,config:Be}),d6=dS({BigNumber:Xe,Unit:Pt,config:Be}),h6=Iw({add:tr,divide:yn,factorial:Cl,isInteger:ii,isPositive:ss,multiply:gr,typed:ae}),g6=Bw({factorial:Cl,typed:ae}),v6=vS({BigNumber:Xe,Unit:Pt,config:Be}),y6=nw({add:tr,cbrt:nA,divide:yn,equalScalar:er,im:wd,isZero:Ki,multiply:gr,re:_d,sqrt:ea,subtract:Kr,typeOf:KS,typed:ae,unaryMinus:_a}),b6=y1({compareNatural:Sa,typed:ae}),x6=Gb({abs:Hn,add:tr,bignumber:gi,divide:yn,isNegative:vo,isPositive:ss,larger:Wn,map:us,matrix:Ze,max:Id,multiply:gr,smaller:Gn,subtract:Kr,typed:ae,unaryMinus:_a}),AA=Hw({bignumber:gi,addScalar:mn,combinations:Jc,divideScalar:qr,factorial:Cl,isInteger:ii,isNegative:vo,larger:Wn,multiplyScalar:Qr,number:Ra,pow:Ri,subtractScalar:Oi,typed:ae}),w6=Rx({Unit:Pt,typed:ae}),_6=Gw({addScalar:mn,isInteger:ii,isNegative:vo,stirlingS2:AA,typed:ae}),DA=mw({abs:Hn,add:tr,addScalar:mn,atan:ZS,bignumber:gi,column:bA,complex:Xc,config:Be,cos:bd,diag:iA,divideScalar:qr,dot:tf,equal:ki,flatten:Nl,im:wd,inv:fs,larger:Wn,matrix:Ze,matrixFromColumns:Dd,multiply:gr,multiplyScalar:Qr,number:Ra,qr:Ed,re:_d,reshape:tA,sin:Kc,size:An,smaller:Gn,sqrt:ea,subtract:Kr,typed:ae,usolve:Nd,usolveAll:fA}),S6=z_({BigNumber:Xe,Unit:Pt,config:Be}),A6=oS({BigNumber:Xe,Unit:Pt,config:Be}),D6=Fw({divide:yn,dotDivide:El,isNumeric:ls,log:Td,map:us,matrix:Ze,multiply:gr,sum:Md,typed:ae}),EA=zc({add:tr,divide:yn,typed:ae}),E6=uS({BigNumber:Xe,Unit:Pt,config:Be}),N6=N_({BigNumber:Xe,Unit:Pt,config:Be}),C6=Gc({bignumber:gi,add:tr,compare:cs,divide:yn,isInteger:ii,larger:Wn,multiply:gr,partitionSelect:rf,smaller:Gn,smallerEq:cu,subtract:Kr,typed:ae}),Pd=Hc({add:tr,apply:Sd,divide:yn,isNaN:Al,multiply:gr,subtract:Kr,typed:ae}),T6=$_({BigNumber:Xe,Unit:Pt,config:Be}),NA=_w({add:tr,compare:cs,divide:yn,partitionSelect:rf,typed:ae}),M6=Dw({add:tr,divide:yn,matrix:Ze,mean:EA,multiply:gr,pow:Ri,sqrt:ea,subtract:Kr,sum:Md,typed:ae}),F6=a_({Complex:Cr,add:tr,divide:yn,matrix:Ze,multiply:gr,typed:ae}),I6=Sw({abs:Hn,map:us,median:NA,subtract:Kr,typed:ae}),B6=Wc({map:us,sqrt:ea,typed:ae,variance:Pd}),P6=Yb({BigNumber:Xe,Complex:Cr,add:tr,config:Be,divide:yn,equal:ki,factorial:Cl,gamma:Bd,isNegative:vo,multiply:gr,pi:vd,pow:Ri,sin:Kc,smallerEq:cu,subtract:Kr,typed:ae}),Od=S1({abs:Hn,add:tr,conj:os,ctranspose:Ad,eigs:DA,equalScalar:er,larger:Wn,matrix:Ze,multiply:gr,pow:Ri,smaller:Gn,sqrt:ea,typed:ae}),CA=Ob({BigNumber:Xe,DenseMatrix:Yt,SparseMatrix:La,addScalar:mn,config:Be,cos:bd,matrix:Ze,multiplyScalar:Qr,norm:Od,sin:Kc,typed:ae,unaryMinus:_a}),O6=yS({BigNumber:Xe,Unit:Pt,config:Be}),TA=vw({identity:yo,matrix:Ze,multiply:gr,norm:Od,qr:Ed,subtract:Kr,typed:ae}),k6=Pb({multiply:gr,rotationMatrix:CA,typed:ae}),MA=gw({abs:Hn,add:tr,concat:or,identity:yo,index:hA,lusolve:SA,matrix:Ze,matrixFromColumns:Dd,multiply:gr,range:fu,schur:TA,subset:vi,subtract:Kr,transpose:Dl,typed:ae}),R6=yw({matrix:Ze,multiply:gr,sylvester:MA,transpose:Dl,typed:ae});var Tl={},Ml={},L6={},Yn=N1({mathWithTransform:Ml}),Fl=V1({Node:Yn}),bo=U1({Node:Yn}),pu=$1({Node:Yn}),V6=z1({Node:Yn}),Il=T1({Node:Yn}),U6=F1({Node:Yn,ResultSet:YS}),$6=I1({Node:Yn}),ps=k1({Node:Yn}),q6=q1({Node:Yn}),ate=o_({classes:L6}),FA=aw({math:Tl,typed:ae}),z6=R1({Node:Yn,typed:ae}),ote=lw({Chain:FA,typed:ae}),Bl=L1({Node:Yn,size:An}),Pl=C1({Node:Yn,subset:vi}),H6=M1({matrix:Ze,Node:Yn,subset:vi}),ms=H1({Unit:Pt,Node:Yn,math:Tl}),ds=G1({Node:Yn,SymbolNode:ms,math:Tl}),Va=W1({AccessorNode:Pl,ArrayNode:Il,AssignmentNode:H6,BlockNode:U6,ConditionalNode:$6,ConstantNode:ps,FunctionAssignmentNode:z6,FunctionNode:ds,IndexNode:Bl,ObjectNode:Fl,OperatorNode:bo,ParenthesisNode:pu,RangeNode:q6,RelationalNode:V6,SymbolNode:ms,config:Be,numeric:ta,typed:ae}),G6=e_({ConstantNode:ps,FunctionNode:ds,OperatorNode:bo,ParenthesisNode:pu,parse:Va,typed:ae}),IA=Qw({bignumber:gi,fraction:uu,AccessorNode:Pl,ArrayNode:Il,ConstantNode:ps,FunctionNode:ds,IndexNode:Bl,ObjectNode:Fl,OperatorNode:bo,SymbolNode:ms,config:Be,mathWithTransform:Ml,matrix:Ze,typed:ae}),BA=Y1({parse:Va,typed:ae}),PA=Kw({AccessorNode:Pl,ArrayNode:Il,ConstantNode:ps,FunctionNode:ds,IndexNode:Bl,ObjectNode:Fl,OperatorNode:bo,ParenthesisNode:pu,SymbolNode:ms,add:tr,divide:yn,equal:ki,isZero:Ki,multiply:gr,parse:Va,pow:Ri,subtract:Kr,typed:ae}),OA=j1({parse:Va,typed:ae}),W6=iw({evaluate:OA}),Y6=Z1({evaluate:OA}),kd=Xw({bignumber:gi,fraction:uu,AccessorNode:Pl,ArrayNode:Il,ConstantNode:ps,FunctionNode:ds,IndexNode:Bl,ObjectNode:Fl,OperatorNode:bo,ParenthesisNode:pu,SymbolNode:ms,add:tr,config:Be,divide:yn,equal:ki,isZero:Ki,mathWithTransform:Ml,matrix:Ze,multiply:gr,parse:Va,pow:Ri,resolve:G6,simplifyConstant:IA,simplifyCore:PA,subtract:Kr,typed:ae}),ste=t_({OperatorNode:bo,parse:Va,simplify:kd,typed:ae}),ute=jw({parse:Va,typed:ae}),lte=J1({Parser:Y6,typed:ae}),cte=n_({bignumber:gi,fraction:uu,AccessorNode:Pl,ArrayNode:Il,ConstantNode:ps,FunctionNode:ds,IndexNode:Bl,ObjectNode:Fl,OperatorNode:bo,ParenthesisNode:pu,SymbolNode:ms,add:tr,config:Be,divide:yn,equal:ki,isZero:Ki,mathWithTransform:Ml,matrix:Ze,multiply:gr,parse:Va,pow:Ri,simplify:kd,simplifyConstant:IA,simplifyCore:PA,subtract:Kr,typed:ae}),fte=r_({ConstantNode:ps,FunctionNode:ds,OperatorNode:bo,ParenthesisNode:pu,SymbolNode:ms,config:Be,equal:ki,isZero:Ki,numeric:ta,parse:Va,simplify:kd,typed:ae}),pte=uw({Help:W6,mathWithTransform:Ml,typed:ae});Or(Tl,{e:GS,false:bL,fineStructure:xL,i:WS,Infinity:wL,LN10:_L,LOG10E:SL,NaN:AL,null:DL,phi:EL,SQRT1_2:CL,sackurTetrode:TL,tau:jS,true:ML,E:GS,version:FL,efimovFactor:IL,LN2:BL,pi:vd,replacer:PL,reviver:ate,SQRT2:OL,typed:ae,unaryPlus:yd,PI:vd,weakMixingAngle:kL,abs:Hn,acos:RL,acot:LL,acsc:VL,addScalar:mn,arg:UL,asech:$L,asinh:qL,atan:ZS,atanh:zL,bignumber:gi,bitNot:HL,boolean:GL,clone:WL,combinations:Jc,complex:Xc,conj:os,cos:bd,cot:YL,csc:jL,cube:ZL,equalScalar:er,erf:JL,exp:JS,expm1:XL,filter:QL,forEach:KL,format:Sl,getMatrixDataType:xd,hex:e3,im:wd,isInteger:ii,isNegative:vo,isPositive:ss,isZero:Ki,LOG2E:t3,lgamma:r3,log10:n3,log2:XS,map:us,multiplyScalar:Qr,not:Qc,number:Ra,oct:i3,pickRandom:a3,print:o3,random:s3,re:_d,sec:u3,sign:QS,sin:Kc,splitUnit:l3,square:c3,string:f3,subtractScalar:Oi,tan:p3,typeOf:KS,acosh:m3,acsch:d3,apply:Sd,asec:h3,bin:g3,chain:ote,combinationsWithRep:v3,cosh:y3,csch:b3,isNaN:Al,isPrime:x3,randomInt:w3,sech:_3,sinh:S3,sparse:A3,sqrt:ea,tanh:D3,unaryMinus:_a,acoth:E3,coth:N3,fraction:uu,isNumeric:ls,matrix:Ze,matrixFromFunction:C3,mode:T3,numeric:ta,prod:eA,reshape:tA,size:An,squeeze:M3,transpose:Dl,xgcd:rA,zeros:Dn,asin:F3,cbrt:nA,concat:or,count:I3,ctranspose:Ad,diag:iA,divideScalar:qr,dotDivide:El,equal:ki,flatten:Nl,hasNumericValue:B3,identity:yo,kron:P3,largerEq:ef,leftShift:O3,lsolve:aA,matrixFromColumns:Dd,nthRoot:k3,ones:R3,qr:Ed,resize:L3,rightArithShift:V3,round:lu,smaller:Gn,subtract:Kr,to:U3,unequal:$3,usolve:Nd,xor:q3,add:tr,atan2:z3,bitAnd:H3,bitOr:G3,bitXor:W3,catalan:Y3,compare:cs,compareText:oA,cumsum:j3,deepEqual:Cd,diff:Z3,distance:J3,dot:tf,equalText:X3,floor:sA,gcd:Q3,hypot:K3,larger:Wn,log:Td,lsolveAll:e4,matrixFromRows:t4,min:r4,mod:lA,multiply:gr,nthRoots:n4,or:i4,partitionSelect:rf,rightLogShift:a4,slu:cA,subset:vi,sum:Md,trace:o4,usolveAll:fA,zpk2tf:s4,ceil:Fd,compareNatural:Sa,composition:u4,cross:l4,det:pA,dotMultiply:c4,fix:dA,index:hA,intersect:f4,invmod:p4,lcm:m4,log1p:d4,max:Id,setCartesian:h4,setDistinct:g4,setIsSubset:v4,setPowerset:y4,smallerEq:cu,sort:b4,and:x4,range:fu,row:w4,setDifference:gA,setMultiplicity:_4,setSymDifference:vA,column:bA,inv:fs,lup:xA,pinv:S4,pow:Ri,setIntersect:wA,setUnion:A4,sqrtm:D4,vacuumImpedance:E4,wienDisplacement:N4,atomicMass:C4,bohrMagneton:T4,boltzmann:M4,conductanceQuantum:F4,coulomb:I4,deuteronMass:B4,dotPow:P4,electricConstant:O4,elementaryCharge:k4,expm:R4,faraday:L4,fft:_A,gamma:Bd,gravitationConstant:V4,hartreeEnergy:U4,ifft:$4,klitzing:q4,loschmidt:z4,magneticConstant:H4,molarMass:G4,molarPlanckConstant:W4,neutronMass:Y4,nuclearMagneton:j4,planckCharge:Z4,planckLength:J4,planckTemperature:X4,protonMass:Q4,quantumOfCirculation:K4,reducedPlanckConstant:e6,rydberg:t6,secondRadiation:r6,speedOfLight:n6,stefanBoltzmann:i6,thomsonCrossSection:a6,avogadro:o6,bohrRadius:s6,createUnit:u6,divide:yn,electronMass:l6,factorial:Cl,firstRadiation:c6,gravity:f6,inverseConductanceQuantum:p6,lusolve:SA,magneticFluxQuantum:m6,molarMassC12:d6,multinomial:h6,parse:Va,permutations:g6,planckMass:v6,polynomialRoot:y6,resolve:G6,setSize:b6,simplifyConstant:IA,solveODE:x6,stirlingS2:AA,unit:w6,bellNumbers:_6,compile:BA,eigs:DA,fermiCoupling:S6,gasConstant:A6,kldivergence:D6,mean:EA,molarVolume:E6,planckConstant:N6,quantileSeq:C6,simplifyCore:PA,variance:Pd,classicalElectronRadius:T6,evaluate:OA,median:NA,simplify:kd,symbolicEqual:ste,corr:M6,freqz:F6,leafCount:ute,mad:I6,parser:lte,rationalize:cte,std:B6,zeta:P6,derivative:fte,norm:Od,rotationMatrix:CA,help:pte,planckTime:O6,schur:TA,rotate:k6,sylvester:MA,lyap:R6,config:Be});Or(Ml,Tl,{filter:SS({typed:ae}),forEach:AS({typed:ae}),map:ES({typed:ae}),apply:wS({isInteger:ii,typed:ae}),or:qS({DenseMatrix:Yt,concat:or,equalScalar:er,matrix:Ze,typed:ae}),and:$S({add:tr,concat:or,equalScalar:er,matrix:Ze,not:Qc,typed:ae,zeros:Dn}),concat:BS({isInteger:ii,matrix:Ze,typed:ae}),max:NS({config:Be,larger:Wn,numeric:ta,typed:ae}),print:US({add:tr,matrix:Ze,typed:ae,zeros:Dn}),bitAnd:zS({add:tr,concat:or,equalScalar:er,matrix:Ze,not:Qc,typed:ae,zeros:Dn}),diff:PS({bignumber:gi,matrix:Ze,number:Ra,subtract:Kr,typed:ae}),min:TS({config:Be,numeric:ta,smaller:Gn,typed:ae}),subset:IS({add:tr,matrix:Ze,typed:ae,zeros:Dn}),bitOr:HS({DenseMatrix:Yt,concat:or,equalScalar:er,matrix:Ze,typed:ae}),cumsum:LS({add:tr,typed:ae,unaryPlus:yd}),index:DS({Index:Bn,getMatrixDataType:xd}),sum:kS({add:tr,config:Be,numeric:ta,typed:ae}),range:MS({bignumber:gi,matrix:Ze,add:tr,config:Be,isPositive:ss,larger:Wn,largerEq:ef,smaller:Gn,smallerEq:cu,typed:ae}),row:FS({Index:Bn,matrix:Ze,range:fu,typed:ae}),column:_S({Index:Bn,matrix:Ze,range:fu,typed:ae}),mean:CS({add:tr,divide:yn,typed:ae}),quantileSeq:RS({add:tr,bignumber:gi,compare:cs,divide:yn,isInteger:ii,larger:Wn,multiply:gr,partitionSelect:rf,smaller:Gn,smallerEq:cu,subtract:Kr,typed:ae}),variance:VS({add:tr,apply:Sd,divide:yn,isNaN:Al,multiply:gr,subtract:Kr,typed:ae}),std:OS({map:us,sqrt:ea,typed:ae,variance:Pd})});Or(L6,{BigNumber:Xe,Complex:Cr,Fraction:as,Matrix:Zc,Node:Yn,ObjectNode:Fl,OperatorNode:bo,ParenthesisNode:pu,Range:NL,RelationalNode:V6,ResultSet:YS,ArrayNode:Il,BlockNode:U6,ConditionalNode:$6,ConstantNode:ps,DenseMatrix:Yt,RangeNode:q6,Chain:FA,FunctionAssignmentNode:z6,SparseMatrix:La,IndexNode:Bl,ImmutableDenseMatrix:uA,Index:Bn,AccessorNode:Pl,AssignmentNode:H6,FibonacciHeap:mA,Spa:yA,Unit:Pt,SymbolNode:ms,FunctionNode:ds,Help:W6,Parser:Y6});FA.createProxy(Tl);var Rd=class extends Fa{constructor(e){super(e),this.hidden=!1,this.hasError=!1}buildVariables(){var t;let e=0;this.expressionStr="",this.variables=[];for(let n of(t=this.base.getDeclaration().templateDeclaration)!=null?t:[])if(typeof n!="string"){let i={bindTargetDeclaration:n,inputSignal:new Fr(void 0),uuid:pr(),contextName:`MB_VAR_${e}`};this.variables.push(i),this.expressionStr+=i.contextName,e+=1}else this.expressionStr+=n;this.expression=BA(this.expressionStr)}buildMathJSContext(){var t,n;let e={};for(let i of(t=this.variables)!=null?t:[])!i.contextName||!i.inputSignal||(e[i.contextName]=(n=i.inputSignal.get())!=null?n:"");return e}computeValue(){var t;if(this.hasError=!1,!this.expression)return this.handleComputeError(new sa({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:"expression is undefined"}));let e=this.buildMathJSContext();try{return Ti((t=this.expression.evaluate(e))==null?void 0:t.toString())}catch(n){return n instanceof Error?this.handleComputeError(new sa({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:n,context:{expression:this.expressionStr,context:e}})):this.handleComputeError(new Error("failed to evaluate js expression because of: unexpected thrown value"))}}onInitialRender(e){}onRerender(e,t){this.hasError?ft.addClass(e,"mb-error"):ft.removeClass(e,"mb-error"),e.innerText=t}handleComputeError(e){return this.hasError=!0,console.warn(e),e.message}};var Ld=class extends Fa{constructor(e){super(e),this.renderMarkdown=!1}buildVariables(){var t;this.textParts=[];let e=0;this.variables=[];for(let n of(t=this.base.getDeclaration().templateDeclaration)!=null?t:[])if(typeof n!="string"){let i={bindTargetDeclaration:n,inputSignal:new Fr(void 0),uuid:pr(),contextName:`MB_VAR_${e}`};this.variables.push(i),this.textParts.push(e),e+=1}else this.textParts.push(n)}computeValue(){if(!this.textParts)throw new sa({errorLevel:"CRITICAL",effect:"failed to evaluate text view field",cause:"content parts is undefined"});return this.textParts.map(e=>typeof e=="number"?bp(this.variables[e].inputSignal.get(),this.base.plugin.settings.viewFieldDisplayNullAsEmpty):e).join("")}onInitialRender(e){var t,n;this.renderMarkdown=(n=(t=this.base.getArgument("renderMarkdown"))==null?void 0:t.value)!=null?n:!1,this.renderMarkdown&&ft.addClass(e,"mb-view-markdown")}async onRerender(e,t){var n;this.renderMarkdown?((n=this.markdownUnloadCallback)==null||n.call(this),this.markdownUnloadCallback=await this.base.plugin.internal.renderMarkdown(t,e,this.base.getFilePath())):e.innerText=t}onUnmount(){var e;super.onUnmount(),(e=this.markdownUnloadCallback)==null||e.call(this)}};function mte(r){let e,t,n;return{c(){e=K("div"),t=K("img"),$(t,"class","mb-image-card-image"),zi(t.src,n=r[0].internal.imagePathToUri(r[1]))||$(t,"src",n),$(t,"alt",r[1]),$(e,"class","mb-image-card")},m(i,a){W(i,e,a),X(e,t)},p(i,[a]){a&3&&!zi(t.src,n=i[0].internal.imagePathToUri(i[1]))&&$(t,"src",n),a&2&&$(t,"alt",i[1])},i:We,o:We,d(i){i&&G(e)}}}function dte(r,e,t){let{plugin:n}=e,{image:i}=e;return r.$$set=a=>{"plugin"in a&&t(0,n=a.plugin),"image"in a&&t(1,i=a.image)},[n,i]}var kA=class extends qe{constructor(e){super(),He(this,e,dte,mte,ze,{plugin:0,image:1})}},j6=kA;function Z6(r,e,t){let n=r.slice();return n[2]=e[t],n}function J6(r){let e,t;return e=new j6({props:{plugin:r[1],image:r[2]}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),i&1&&(a.image=n[2]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function hte(r){let e,t,n=ut(r[0]),i=[];for(let o=0;o<n.length;o+=1)i[o]=J6(Z6(r,n,o));let a=o=>ie(i[o],1,1,()=>{i[o]=null});return{c(){e=K("div");for(let o=0;o<i.length;o+=1)i[o].c();$(e,"class","mb-image-card-grid")},m(o,u){W(o,e,u);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null);t=!0},p(o,[u]){if(u&3){n=ut(o[0]);let s;for(s=0;s<n.length;s+=1){let l=Z6(o,n,s);i[s]?(i[s].p(l,u),Q(i[s],1)):(i[s]=J6(l),i[s].c(),Q(i[s],1),i[s].m(e,null))}for(yt(),s=n.length;s<i.length;s+=1)a(s);bt()}},i(o){if(!t){for(let u=0;u<n.length;u+=1)Q(i[u]);t=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)ie(i[u]);t=!1},d(o){o&&G(e),Gt(i,o)}}}function gte(r,e,t){let{images:n=[]}=e,{plugin:i}=e;return r.$$set=a=>{"images"in a&&t(0,n=a.images),"plugin"in a&&t(1,i=a.plugin)},[n,i]}var RA=class extends qe{constructor(e){super(),He(this,e,gte,hte,ze,{images:0,plugin:1})}},LA=RA;var Vd=class extends Fa{constructor(e){super(e)}buildVariables(){let e=this.base.getDeclaration().templateDeclaration.filter(n=>typeof n=="string"?n:!0);if(e.length!==1)throw new Mo({errorLevel:"ERROR",effect:"can not create view field",cause:"image view filed only supports exactly a single bind target and not text content"});let t=e[0];if(typeof t=="string")throw new Mo({errorLevel:"ERROR",effect:"can not create view field",cause:"image view filed only supports exactly a single bind target and not text content"});t.listenToChildren=!0,this.variables=[{bindTargetDeclaration:t,inputSignal:new Fr(void 0),uuid:pr(),contextName:"MB_VAR_0"}]}computeValue(){if(this.variables.length!==1)throw new sa({errorLevel:"CRITICAL",effect:"failed to evaluate image view field",cause:"there should be exactly one variable"});let t=this.variables[0].inputSignal.get();return typeof t=="string"?on.convertToLinkString(t):Array.isArray(t)?t.filter(i=>typeof i=="string").map(i=>on.convertToLinkString(i)).filter(i=>i!=="").join(", "):""}onInitialRender(e){this.component=new LA({target:e,props:{images:[],plugin:this.base.plugin}})}async onRerender(e,t){var i;let n=on.parseLinkList(t);(i=this.component)==null||i.$destroy(),this.component=new LA({target:e,props:{images:n.map(a=>a.target),plugin:this.base.plugin}})}onUnmount(){var e;super.onUnmount(),(e=this.component)==null||e.$destroy()}};var Ud=class{constructor(e){this.plugin=e}createViewField(e){let t=e.declaration.viewFieldType;if(t==="math")return new Rd(e);if(t==="text")return new Ld(e);if(t==="link")return new sm(e);if(t==="image")return new Vd(e);}};var $d=class{constructor(e){this.plugin=e}fromString(e){return dn(Na,e)}fromStringAndValidate(e,t,n){return this.validate(e,this.fromString(e),t,n)}fromExistingDeclaration(e){if(e!==void 0)return{storageType:Ni(e.storageType),storagePath:Ni(e.storagePath),storageProp:e.storageProp.path.map(t=>({type:t.type,prop:Ni(t.prop)})),listenToChildren:e.listenToChildren}}validate(e,t,n,i){var l;let a={};a.listenToChildren=t.listenToChildren,a.storageProp=new Oo(t.storageProp.map(c=>new Hs(c.type,c.prop.value))),t.storageType===void 0?a.storageType=this.plugin.metadataManager.defaultSource:a.storageType=this.validateStorageType(t.storageType,e);let o=t.storagePath!==void 0,u=(l=t.storagePath)!=null?l:{value:n},s=this.plugin.metadataManager.getSource(a.storageType);if(s===void 0)throw new Ot({errorLevel:"CRITICAL",effect:"can not validate bind target",cause:`Source '${a.storageType}' not found. But validation was successful. This should not happen.`,context:{fullDeclaration:e,sources:[...this.plugin.metadataManager.sources.keys()]}});return a.storagePath=s.validateStoragePath(u,o,e,this),s.resolveBindTargetScope(a,i,this)}resolveScope(e,t){if(t===void 0)throw new fn("ERROR","Bind Target Scope Validator","Failed to resolve bind target scope, no scope provided");return e.storageType=t.scope.storageType,e.storagePath=t.scope.storagePath,e.storageProp=t.scope.storageProp.concat(e.storageProp),e}validateStorageType(e,t){for(let n of this.plugin.metadataManager.iterateSources())if(n===e.value)return n;throw new fn("ERROR","Bind Target Validator",`Encountered invalid identifier. Expected token to be a storage type but received '${e==null?void 0:e.value}'.`,t,e==null?void 0:e.position)}validateStoragePathAsFilePath(e,t){let n=e==null?void 0:e.value;if(n===void 0)throw new fn("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage path is undefined.",t,e==null?void 0:e.position);let i=this.plugin.internal.getFilePathByName(n);if(i===void 0)throw new fn("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${n}' not found.`,t,e==null?void 0:e.position);return i}};var Ol=class{constructor(){this.arguments=[]}add(e){this.arguments.push(e)}validate(){let e={};for(let t of Object.values(Ur))e[t]=0;for(let t of this.arguments){let n=t.getConfig();if(e[n.type]+=1,e[n.type]>1&&!n.allowMultiple)throw new _r({errorLevel:"ERROR",effect:"failed to validate argument container",cause:`argument '${n.type}' does not allow duplicates`,docs:[Rt.linkToSearch(n.type)]})}}mergeByOverride(e){for(let t of e.arguments){let n=t.getConfig();n.allowMultiple||(this.arguments=this.arguments.filter(i=>i.getConfig().type!==n.type)),this.arguments.push(t)}return this.validate(),this}mergeByThrow(e){for(let t of e.arguments){let n=t.getConfig();if(!n.allowMultiple&&this.arguments.filter(i=>i.getConfig().type===n.type).length>0)throw new _r({errorLevel:"ERROR",effect:"failed to merge argument container",cause:"can not merge FieldArgumentContainers, since arguments overlap"});this.arguments.push(t)}return this.validate(),this}getAll(e){return this.arguments.filter(t=>t.getConfig().type===e)}get(e){return this.getAll(e).at(0)}};var qd=class extends Ol{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var kl=class{parseValue(e){this.validateValues(e,this.getConfig().values),this._parseValue(e)}validateValues(e,t){if(t.find(n=>n.length===e.length)===void 0)throw new _r({errorLevel:"WARNING",effect:`Failed to parse argument value for argument '${this.getConfig().type}'.`,cause:`Expected argument values to follow the form ${t.map(n=>n.length===0?"none":n.map(i=>`'${i.name}'`).join(", ")).join(" or ")}. Received arguments of length ${e.length}.`,docs:[Rt.linkToSearch(this.getConfig().type)]})}isAllowed(e){return this.getConfig().allowedFieldTypes.length===0?!0:this.getConfig().allowedFieldTypes.includes(e)}getAllowedFieldsAsString(){return this.getConfig().allowedFieldTypes.length===0?"all":this.getConfig().allowedFieldTypes.join(", ")}};var sr=class extends kl{};var zd=class extends sr{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return fr.addLabels}};var Hd=class extends sr{constructor(){super(...arguments);this.value=[]}_parseValue(t){this.value=t[0].value.split(" ")}getConfig(){return fr.class}};var Gd=class extends sr{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=Ti(t[0].value)}getConfig(){return fr.defaultValue}};var Wd=class extends sr{constructor(){super(...arguments);this.value=void 0}_parseValue(t){if(this.value=Number.parseInt(t[0].value),Number.isNaN(this.value))throw new _r({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be of type number",docs:[Rt.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new _r({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be a positive number",docs:[Rt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return fr.limit}};var Yd=class extends sr{constructor(){super(...arguments);this.value=100}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new _r({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'maxValue' must be of type number",docs:[Rt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return fr.maxValue}};var jd=class extends sr{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new _r({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'minValue' must be of type number",docs:[Rt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return fr.minValue}};var Zd=class extends sr{constructor(){super(...arguments);this.value=!1}_parseValue(t){this.value=Ti(t[0].value)}getConfig(){return fr.offValue}};var Jd=class extends sr{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=Ti(t[0].value)}getConfig(){return fr.onValue}};var Xd=class extends sr{constructor(){super(...arguments);this.value="";this.name=""}_parseValue(t){t.length===1?(this.value=Ti(t[0].value),this.name=t[0].value):t.length===2&&(this.value=Ti(t[0].value),this.name=t[1].value)}getConfig(){return fr.option}};var Qd=class extends sr{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return fr.optionQuery}};var Kd=class extends sr{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return fr.placeholder}};var eh=class extends sr{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return fr.showcase}};var th=class extends sr{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new _r({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be of type number",docs:[Rt.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new _r({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be a positive number",docs:[Rt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return fr.stepSize}};var rh=class extends sr{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return fr.title}};function X6(r,e,t){return t==="true"?`[[${r}|${e}]]`:t==="partial"?`[[${e}]]`:`${e}`}var nh=class extends sr{constructor(){super(...arguments);this.value="true"}_parseValue(t){var i;let n=(i=t[0])==null?void 0:i.value.toLowerCase();if(n===void 0){this.value="true";return}if(n==="true"||n==="partial"||n==="false"){this.value=n;return}throw new _r({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:`value of argument 'useLinks' must be one of ${uE(["true","partial","false"],a=>`'${a}'`,", ","or")}`,docs:[Rt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return fr.useLinks}};var ih=class extends sr{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return fr.multiLine}};var ah=class extends sr{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return fr.allowOther}};var Q6={class:Hd,addLabels:zd,minValue:jd,maxValue:Yd,stepSize:th,option:Xd,title:rh,optionQuery:Qd,showcase:eh,offValue:Zd,onValue:Jd,defaultValue:Gd,placeholder:Kd,useLinks:nh,limit:Wd,allowOther:ah,multiLine:ih},oh=class{static createInputFieldArgument(e){if(e in Q6){let t=Q6[e];if(t)return new t}throw new Xa({errorLevel:"WARNING",effect:"can not crate input field argument",cause:`unknown argument '${e}'`})}};var sh=class{constructor(e,t,n){this.plugin=e,this.unvalidatedDeclaration=t,this.filePath=n,this.errorCollection=new Vt("input field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a={declarationString:this.unvalidatedDeclaration.declarationString,inputFieldType:t,bindTarget:n,argumentContainer:i,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(a),a}validateInputFieldType(){let e=this.unvalidatedDeclaration.inputFieldType;for(let t of Object.entries(To))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new fn("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be an input field type but received '${e==null?void 0:e.value}'.`,this.unvalidatedDeclaration.declarationString,e==null?void 0:e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.bindTarget!==void 0)try{return this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,this.unvalidatedDeclaration.bindTarget,this.filePath,e)}catch(t){this.errorCollection.add(t)}}validateArguments(e){let t=new qd;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=oh.createInputFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new fn("WARNING","Declaration Validator",`Failed to parse input field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" input fields.`,this.unvalidatedDeclaration.declarationString,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(Ur))if(t[1]===e.value)return t[1];return this.errorCollection.add(new fn("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be an input field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}};var jn=hr(Di()),Lr=hr(li());var yte=Lr.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},Vn.node(Kn).trim(jn.P_UTILS.optionalWhitespace()).describe("input field type"),sc.trim(jn.P_UTILS.optionalWhitespace()).wrap(Lr.P.string("(").describe('arguments paren "("'),Lr.P.string(")").describe('arguments paren ")"')).trim(jn.P_UTILS.optionalWhitespace()).optional([]),Lr.P.sequence(Lr.P.string(":").trim(jn.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),Na).trim(jn.P_UTILS.optionalWhitespace()).optional()),K6=Lr.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},Vn.node(Kn).trim(jn.P_UTILS.optionalWhitespace()).optional().describe("input field type"),sc.trim(jn.P_UTILS.optionalWhitespace()).wrap(Lr.P.string("(").describe('arguments paren "("'),Lr.P.string(")").describe('arguments paren ")"')).trim(jn.P_UTILS.optionalWhitespace()).optional([]),Lr.P.sequence(Lr.P.string(":").trim(jn.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),Na).trim(jn.P_UTILS.optionalWhitespace()).optional()),eV=Lr.P.or(Lr.P.sequenceMap((r,e,t)=>(t.templateName=e,t),Lr.P.string("INPUT"),Lr.P.sequenceMap((r,e,t)=>e,Lr.P.string("["),rN.node(Kn).trim(jn.P_UTILS.optionalWhitespace()).describe("template name"),Lr.P.string("]").skip(jn.P_UTILS.optionalWhitespace())),K6.wrap(Lr.P.string("["),Lr.P.string("]")),jn.P_UTILS.eof()),Lr.P.sequenceMap((r,e)=>e,Lr.P.string("INPUT"),yte.wrap(Lr.P.string("["),Lr.P.string("]")),jn.P_UTILS.eof())),tV=Lr.P.sequenceMap((r,e)=>e,Lr.P.string("INPUT"),K6.wrap(Lr.P.string("["),Lr.P.string("]")),jn.P_UTILS.eof());var uh=class{constructor(e){this.plugin=e,this.templates=[]}fromString(e){let t=new Vt("InputField");try{let n=dn(eV,e),i=this.partialToFullDeclaration(n,e,t);return i=this.applyTemplate(i),i}catch(n){t.add(n)}return{declarationString:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}fromStringAndValidate(e,t,n){return this.validate(this.fromString(e),t,n)}fromSimpleDeclaration(e){var n;let t=new Vt("InputField");return{declarationString:void 0,inputFieldType:Ni(e.inputFieldType),bindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(e.bindTarget),arguments:((n=e.arguments)!=null?n:[]).map(i=>({name:Ni(i.name),value:i.value.map(a=>Ni(a))})),errorCollection:t}}fromSimpleDeclarationAndValidate(e,t,n){return this.validate(this.fromSimpleDeclaration(e),t,n)}partialToFullDeclaration(e,t,n){return{...structuredClone(e),declarationString:t,errorCollection:n}}validate(e,t,n){return new sh(this.plugin,e,t).validate(n)}merge(e,t){var i,a,o;let n;return e.bindTarget===void 0?n=t.bindTarget:(n=e.bindTarget,((i=t.bindTarget)==null?void 0:i.storagePath)!==void 0&&(n.storagePath=t.bindTarget.storagePath),((a=t.bindTarget)==null?void 0:a.storageProp)!==void 0&&(n.storageProp=t.bindTarget.storageProp)),{declarationString:t.declarationString,inputFieldType:(o=t.inputFieldType)!=null?o:e.inputFieldType,bindTarget:n,arguments:t.arguments.concat(e.arguments).reduce((u,s)=>(u.find(l=>l.name===s.name)===void 0&&u.push(s),u),[]),errorCollection:new Vt("input field declaration").merge(e.errorCollection).merge(t.errorCollection)}}parseTemplateString(e){let t=new Vt("InputFieldParser");try{let n=dn(tV,e);return this.partialToFullDeclaration(n,e,t)}catch(n){t.add(n)}return{declarationString:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}parseTemplates(e){this.templates=[];let t=new Vt("input field template parser");for(let n of e){let i=this.parseTemplateString(n.declaration);t.merge(i.errorCollection);let a={name:n.name,template:i};this.templates.push(Eg(a))}return t}getTemplate(e){var t;return(t=this.templates.find(n=>n.name===e))==null?void 0:t.template}applyTemplate(e){if(e.templateName===void 0)return e;let t=this.getTemplate(e.templateName.value);return t===void 0?(e.errorCollection.add(new fn("WARNING","Input Field Parser",`Invalid template name. Could not find template with name '${e.templateName.value}'`,e.declarationString,e.templateName.position,["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/templates/"])),e):this.merge(t,e)}};var lh=class extends Ol{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var hs=class extends kl{};var ch=class extends hs{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Au.hidden}};var fh=class extends hs{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Au.renderMarkdown}};var ph=class extends hs{constructor(){super(...arguments);this.value=[]}_parseValue(t){this.value=t[0].value.split(" ")}getConfig(){return Au.class}};var rV={renderMarkdown:fh,hidden:ch,class:ph},mh=class{static createViewFieldArgument(e){if(e in rV){let t=rV[e];if(t)return new t}throw new Xa({errorLevel:"WARNING",effect:"can not crate view field argument",cause:`unknown argument '${e}'`})}};var dh=class{constructor(e,t,n){this.unvalidatedDeclaration=e,this.plugin=n,this.filePath=t,this.errorCollection=new Vt("view field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a=this.validateTemplateDeclaration(e),o={declarationString:this.unvalidatedDeclaration.declarationString,viewFieldType:t,writeToBindTarget:n,argumentContainer:i,templateDeclaration:a,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(o),o}validateInputFieldType(){let e=this.unvalidatedDeclaration.viewFieldType;if(e===void 0)return"math";for(let t of Object.entries(Jl))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new fn("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be a view field type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.writeToBindTarget!==void 0)return this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,this.unvalidatedDeclaration.writeToBindTarget,this.filePath,e)}validateArguments(e){let t=new lh;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=mh.createViewFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new fn("WARNING","Declaration Validator",`Failed to parse view field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" view fields.`,this.unvalidatedDeclaration.declarationString,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(Ns))if(t[1]===e.value)return t[1];return this.errorCollection.add(new fn("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be a view field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}validateTemplateDeclaration(e){var t,n;try{return(n=(t=this.unvalidatedDeclaration.templateDeclaration)==null?void 0:t.map(i=>typeof i=="string"?i:this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,i,this.filePath,e)))!=null?n:[]}catch(i){return this.errorCollection.add(i),[]}}};var hh=class{constructor(e){this.plugin=e}fromString(e){let t=new Vt("ViewFieldDeclaration");try{let n=dn(sN,e);return this.partialToFullDeclaration(n,e,t)}catch(n){t.add(n)}return{declarationString:e,errorCollection:t,viewFieldType:{value:"invalid"},writeToBindTarget:void 0,arguments:[],templateDeclaration:[]}}fromStringAndValidate(e,t,n){return this.validate(this.fromString(e),t,n)}fromSimpleDeclaration(e){var n,i;let t=new Vt("ViewFieldDeclaration");return{declarationString:void 0,templateDeclaration:((n=e.templateDeclaration)!=null?n:[]).map(a=>typeof a=="string"?a:this.plugin.api.bindTargetParser.fromExistingDeclaration(a)),viewFieldType:Ni(e.viewFieldType),arguments:((i=e.arguments)!=null?i:[]).map(a=>({name:Ni(a.name),value:a.value.map(o=>Ni(o))})),writeToBindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(e.writeToBindTarget),errorCollection:t}}fromSimpleDeclarationAndValidate(e,t,n){return this.validate(this.fromSimpleDeclaration(e),t,n)}partialToFullDeclaration(e,t,n){return{...structuredClone(e),declarationString:t,errorCollection:n}}validate(e,t,n){return new dh(e,t,this.plugin).validate(n)}};var gh=class extends _n{constructor(e,t,n,i,a){super(e,t,n),this.depth=i,this.content=a}async parseContent(){let e=this.content.split(`
`).map(a=>a.trim()).filter(a=>a.length>0);if(e.length===0)return"";if(e.length>1)throw new Cs({errorLevel:"ERROR",effect:"can not create embed",cause:"embed may only contain one link"});let t=e[0],n=on.parseLink(t);if(!n.internal)throw new Cs({errorLevel:"ERROR",effect:"can not create embed",cause:"embed link is not an internal link"});let i=this.plugin.internal.getFilePathByName(n.target,this.getFilePath());if(i===void 0)throw new Cs({errorLevel:"ERROR",effect:"can not create embed",cause:"link target not found"});return await this.plugin.internal.readFilePath(i)}checkMaxDepth(){if(this.depth>If)throw new Cs({errorLevel:"ERROR",effect:"can not create embed",cause:"embed depth exceeds maximum"})}async renderContent(e){try{this.checkMaxDepth();let n=(await this.parseContent()).replace(/(```+|~~~+)meta-bind-embed.*/g,`$1meta-bind-embed-internal-${this.depth+1}`);this.markdownUnloadCallback=await this.plugin.internal.renderMarkdown(n,e,this.getFilePath())}catch(t){let n=new Vt("Embed");n.add(t),this.plugin.internal.createErrorIndicator(e,{errorCollection:n})}}onMount(e){console.log("meta-bind | EmbedBase >> mount",this.content),this.renderContent(e)}onUnmount(e){var t;console.log("meta-bind | EmbedBase >> unmount",this.content),(t=this.markdownUnloadCallback)==null||t.call(this),kn(e,"Embed")}};var vh=class extends _n{constructor(e,t,n){super(e,t,n)}onMount(e){console.log("meta-bind | ExcludedBase >> mount"),ft.empty(e),ft.createElement(e,"span",{text:"[META_BIND] This folder has been excluded in the settings",class:"mb-error"})}onUnmount(e){console.log("meta-bind | ExcludedBase >> unmount"),ft.empty(e),kn(e,"Excluded")}};var nV=hr(Di()),nf=hr(li());var bte=nf.P.sequenceMap((r,e)=>e,nf.P.string("BUTTON"),nf.P.manyNotOf("[],^").separateBy(nf.P.string(",").trim(nV.P_UTILS.optionalWhitespace())).wrapString("[","]")),yh=class{constructor(e){this.plugin=e}fromGroupString(e){let t=new Vt("ButtonGroup"),n=[];try{n=dn(bte,e)}catch(i){t.add(i)}return{declarationString:e,referencedButtonIds:n,errorCollection:t}}validateGroup(e){return{declarationString:void 0,referencedButtonIds:e.referencedButtonIds,errorCollection:new Vt("ButtonGroup")}}fromString(e){let t=new Vt("Button"),n;try{let i=this.plugin.internal.parseYaml(e);n=this.validateConfig(i)}catch(i){t.add(i)}return{declarationString:e,config:n,errorCollection:t}}validateConfig(e){let t=Uu.safeParse(e);if(!t.success){let n=zs(t.error,{unionSeparator:`
OR `,issueSeparator:" AND ",prefix:null});throw new Qa({errorLevel:"ERROR",effect:"can not parse button config",cause:"zod validation failed. Check your button syntax",positionContext:n.message,docs:[Rt.linkToButtonConfig()]})}return t.data}validate(e){let t=new Vt("Button"),n;try{n=this.validateConfig(e)}catch(i){t.add(i)}return{declarationString:void 0,config:n,errorCollection:t}}};var bh=class{constructor(e){this.plugin=e}fromString(e){let t=new Vt("JsViewFieldDeclaration");try{let n=dn(uN,e);return this.partialToFullDeclaration(n,e,t)}catch(n){t.add(n)}return{declarationString:e,errorCollection:t,bindTargetMappings:[],writeToBindTarget:void 0,code:""}}fromStringAndValidate(e,t){return this.validate(this.fromString(e),t)}fromSimpleDeclaration(e){let t=new Vt("JsViewFieldDeclaration");return{declarationString:void 0,code:e.code,bindTargetMappings:e.bindTargetMappings.map(n=>({bindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(n.bindTarget),name:n.name})),writeToBindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(e.writeToBindTarget),errorCollection:t}}fromSimpleDeclarationAndValidate(e,t){return this.validate(this.fromSimpleDeclaration(e),t)}partialToFullDeclaration(e,t,n){let i=e;return i.declarationString=t,i.errorCollection=n,i.bindTargetMappings=[...i.bindTargetMappings],i}validate(e,t){let n={};n.declarationString=e.declarationString,n.errorCollection=e.errorCollection;try{return n.bindTargetMappings=e.bindTargetMappings.map(i=>({bindTarget:this.plugin.api.bindTargetParser.validate(e.declarationString,i.bindTarget,t),name:i.name})),e.writeToBindTarget!==void 0&&(n.writeToBindTarget=this.plugin.api.bindTargetParser.validate(e.declarationString,e.writeToBindTarget,t)),n.code=e.code,n}catch(i){n.errorCollection.add(i)}return{declarationString:e.declarationString,errorCollection:n.errorCollection,bindTargetMappings:[],writeToBindTarget:void 0,code:""}}};function xh(r){return new Oo(r.map(e=>vN.tryParse(e).success?new Hs("array",e):new Hs("object",e)))}var wh=class{constructor(e,t){var n,i,a,o,u,s,l,c,f,p;this.plugin=e,this.inputFieldParser=(n=t==null?void 0:t.inputFieldParser)!=null?n:new uh(e),this.viewFieldParser=(i=t==null?void 0:t.viewFieldParser)!=null?i:new hh(e),this.jsViewFieldParser=(a=t==null?void 0:t.jsViewFieldParser)!=null?a:new bh(e),this.buttonParser=(o=t==null?void 0:t.buttonParser)!=null?o:new yh(e),this.bindTargetParser=(u=t==null?void 0:t.bindTargetParser)!=null?u:new $d(e),this.inputFieldFactory=(s=t==null?void 0:t.inputFieldFactory)!=null?s:new am(e),this.viewFieldFactory=(l=t==null?void 0:t.viewFieldFactory)!=null?l:new Ud(e),this.buttonActionRunner=(c=t==null?void 0:t.buttonActionRunner)!=null?c:new xp(e),this.buttonManager=(f=t==null?void 0:t.buttonManager)!=null?f:new Bp(e),this.syntaxHighlighting=(p=t==null?void 0:t.syntaxHighlighting)!=null?p:new yp(e)}createField(e,t,n,i=!0){if(en(ce.object({type:ac,filePath:si,options:ce.any(),honorExcludedSetting:ce.boolean()}),{type:e,filePath:t,options:n,honorExcludedSetting:i}),this.plugin.internal.isFilePathExcluded(t)&&i)return this.createExcludedBase(t);if(e==="INPUT_FIELD")return this.createInputFieldBase(t,n);if(e==="VIEW_FIELD")return this.createViewFieldBase(t,n);if(e==="JS_VIEW_FIELD")return this.createJsViewFieldBase(t,n);if(e==="BUTTON_GROUP")return this.createButtonGroupBase(t,n);if(e==="BUTTON")return this.createButtonBase(t,n);if(e==="EMBED")return this.createEmbedBase(t,n);if(e==="EXCLUDED")return this.createExcludedBase(t);throw new Error(`Unknown field type: ${e}`)}createInlineFieldFromString(e,t,n,i="inline",a,o=!0){en(ce.object({fieldString:ce.string(),filePath:si,scope:qu.optional(),renderChildType:$u,honorExcludedSetting:ce.boolean()}),{fieldString:e,filePath:t,scope:n,renderChildType:i,honorExcludedSetting:o});let u=this.isInlineFieldDeclarationAndGetType(e);if(u===void 0)throw new Ot({errorLevel:"CRITICAL",effect:"failed to create inline field",cause:`Invalid inline mdrc type "${u}"`});return this.createInlineFieldOfTypeFromString(u,e,t,n,i,a,o)}createInlineFieldOfTypeFromString(e,t,n,i,a="inline",o,u=!0){if(en(ce.object({type:ac,declaration:ce.string(),filePath:si,scope:qu.optional(),renderChildType:$u,honorExcludedSetting:ce.boolean()}),{type:e,declaration:t,filePath:n,scope:i,renderChildType:a,honorExcludedSetting:u}),this.plugin.internal.isFilePathExcluded(n)&&u)return this.createExcludedBase(n);if(e==="INPUT_FIELD")return this.createInputFieldBase(n,{renderChildType:a,declaration:t,scope:i});if(e==="VIEW_FIELD")return this.createViewFieldBase(n,{renderChildType:a,declaration:t,scope:i});if(e==="BUTTON_GROUP")return this.createButtonGroupBase(n,{renderChildType:a,declaration:t,position:o});throw new Ot({errorLevel:"CRITICAL",effect:"failed to create inline field",cause:`Invalid inline mdrc type "${e}"`})}createInputFieldBase(e,t){en(ce.object({filePath:si,options:GE}),{filePath:e,options:t});let n=pr(),i;return typeof t.declaration=="string"?i=this.inputFieldParser.fromStringAndValidate(t.declaration,e,t.scope):i=this.inputFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e,t.scope),new zo(this.plugin,n,e,t.renderChildType,i)}createViewFieldBase(e,t){en(ce.object({filePath:si,options:WE}),{filePath:e,options:t});let n=pr(),i;return typeof t.declaration=="string"?i=this.viewFieldParser.fromStringAndValidate(t.declaration,e,t.scope):i=this.viewFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e,t.scope),new el(this.plugin,n,e,t.renderChildType,i)}createJsViewFieldBase(e,t){en(ce.object({filePath:si,options:YE}),{filePath:e,options:t});let n=pr(),i;return typeof t.declaration=="string"?i=this.jsViewFieldParser.fromStringAndValidate(t.declaration,e):i=this.jsViewFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e),new om(this.plugin,n,e,i)}createButtonGroupBase(e,t){en(ce.object({filePath:si,options:ZE}),{filePath:e,options:t});let n=pr(),i;return typeof t.declaration=="string"?i=this.buttonParser.fromGroupString(t.declaration):i=this.buttonParser.validateGroup(t.declaration),new Op(this.plugin,n,e,i,t.renderChildType,t.position)}createButtonBase(e,t){en(ce.object({filePath:si,options:JE}),{filePath:e,options:t});let n=pr(),i;return typeof t.declaration=="string"?i=this.buttonParser.fromString(t.declaration):i=this.buttonParser.validate(t.declaration),new Fp(this.plugin,n,e,i,t.position,t.isPreview)}createEmbedBase(e,t){en(ce.object({filePath:si,options:XE}),{filePath:e,options:t});let n=pr();return new gh(this.plugin,n,e,t.depth,t.content)}createExcludedBase(e){en(ce.object({filePath:si}),{filePath:e});let t=pr();return new vh(this.plugin,t,e)}getInlineFieldDeclarationPrefix(e){if(en(ce.object({fieldType:ac}),{fieldType:e}),e==="INPUT_FIELD")return"INPUT";if(e==="VIEW_FIELD")return"VIEW";if(e==="BUTTON_GROUP")return"BUTTON";throw new Ot({errorLevel:"CRITICAL",effect:"failed to get declaration prefix",cause:`Invalid inline mdrc type "${e}"`})}isInlineFieldDeclaration(e,t){en(ce.object({fieldType:ac,str:ce.string()}),{fieldType:e,str:t});let n=this.getInlineFieldDeclarationPrefix(e)+"[";return t.startsWith(n)&&t.endsWith("]")}isInlineFieldDeclarationAndGetType(e){if(en(ce.object({str:ce.string()}),{str:e}),!!e.endsWith("]"))for(let t of Object.values(Du)){if(!Bf(t))continue;let n=this.getInlineFieldDeclarationPrefix(t)+"[";if(e.startsWith(n))return t}}createSignal(e){return new Fr(e)}createBindTarget(e,t,n,i=!1){return en(ce.object({storageType:ce.string(),storagePath:ce.string(),property:ce.string().array(),listenToChildren:ce.boolean()}),{storageType:e,storagePath:t,property:n,listenToChildren:i}),{storageType:e,storagePath:t,storageProp:xh(n),listenToChildren:i}}parseBindTarget(e,t,n){return en(ce.object({declarationString:ce.string(),filePath:si,scope:qu.optional()}),{declarationString:e,filePath:t,scope:n}),this.bindTargetParser.fromStringAndValidate(e,t,n)}setMetadata(e,t){en(ce.object({bindTarget:oi}),{bindTarget:e}),this.plugin.metadataManager.write(t,e)}getMetadata(e){return en(ce.object({bindTarget:oi}),{bindTarget:e}),this.plugin.metadataManager.read(e)}updateMetadata(e,t){en(ce.object({bindTarget:oi,updateFn:ce.function().args(ce.any()).returns(ce.any())}),{bindTarget:e,updateFn:t});let n=this.plugin.metadataManager.read(e),i=t(n);this.plugin.metadataManager.write(i,e)}subscribeToMetadata(e,t,n){en(ce.object({bindTarget:oi,lifecycleHook:this.plugin.internal.getLifecycleHookValidator(),callback:ce.function().args(ce.any()).returns(ce.void())}),{bindTarget:e,lifecycleHook:t,callback:n});let i=pr(),a=new Fr(void 0);a.registerListener({callback:n});let o=this.plugin.metadataManager.subscribe(i,a,e,()=>{a.unregisterAllListeners()});t.register(()=>{o.unsubscribe()})}};function xte(r){let e,t;return{c(){e=K("td"),t=K("div")},m(n,i){W(n,e,i),X(e,t),r[3](t)},p:We,i:We,o:We,d(n){n&&G(e),r[3](null)}}}function wte(r,e,t){let{table:n}=e,{cell:i}=e,a,o;Fi(()=>{o=n.createCell(i,a)}),Ys(()=>{o==null||o()});function u(s){Jr[s?"unshift":"push"](()=>{a=s,t(0,a)})}return r.$$set=s=>{"table"in s&&t(1,n=s.table),"cell"in s&&t(2,i=s.cell)},[a,n,i,u]}var VA=class extends qe{constructor(e){super(),He(this,e,wte,xte,ze,{table:1,cell:2})}},iV=VA;function aV(r,e,t){let n=r.slice();return n[7]=e[t],n}function oV(r,e,t){let n=r.slice();return n[10]=e[t],n[11]=e,n[12]=t,n}function sV(r,e,t){let n=r.slice();return n[13]=e[t],n}function uV(r){let e,t=r[13]+"",n;return{c(){e=K("th"),n=Le(t)},m(i,a){W(i,e,a),X(e,n)},p(i,a){a&2&&t!==(t=i[13]+"")&&gt(n,t)},d(i){i&&G(e)}}}function _te(r){let e,t,n;return{c(){e=K("td"),t=Le("invalid data"),$(e,"class","meta-bind-error"),$(e,"colspan",n=r[1].length)},m(i,a){W(i,e,a),X(e,t)},p(i,a){a&2&&n!==(n=i[1].length)&&$(e,"colspan",n)},i:We,o:We,d(i){i&&G(e)}}}function Ste(r){let e,t,n=ut(r[7].cells),i=[];for(let o=0;o<n.length;o+=1)i[o]=lV(oV(r,n,o));let a=o=>ie(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Sr()},m(o,u){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,u);W(o,e,u),t=!0},p(o,u){if(u&5){n=ut(o[7].cells);let s;for(s=0;s<n.length;s+=1){let l=oV(o,n,s);i[s]?(i[s].p(l,u),Q(i[s],1)):(i[s]=lV(l),i[s].c(),Q(i[s],1),i[s].m(e.parentNode,e))}for(yt(),s=n.length;s<i.length;s+=1)a(s);bt()}},i(o){if(!t){for(let u=0;u<n.length;u+=1)Q(i[u]);t=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)ie(i[u]);t=!1},d(o){o&&G(e),Gt(i,o)}}}function lV(r){let e,t,n;function i(o){r[4](o,r[10],r[11],r[12])}let a={table:r[0]};return r[10]!==void 0&&(a.cell=r[10]),e=new iV({props:a}),Jr.push(()=>so(e,"cell",i)),{c(){we(e.$$.fragment)},m(o,u){be(e,o,u),n=!0},p(o,u){r=o;let s={};u&1&&(s.table=r[0]),!t&&u&4&&(t=!0,s.cell=r[10],oo(()=>t=!1)),e.$set(s)},i(o){n||(Q(e.$$.fragment,o),n=!0)},o(o){ie(e.$$.fragment,o),n=!1},d(o){xe(e,o)}}}function Ate(r){let e,t;return e=new Mr({props:{plugin:r[0].plugin,iconName:"x"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.plugin=n[0].plugin),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function cV(r,e){let t,n,i,a,o,u,s,l,c=[Ste,_te],f=[];function p(h,d){return h[7].isValid?0:1}n=p(e,-1),i=f[n]=c[n](e);function m(){return e[5](e[7])}return u=new wt({props:{$$slots:{default:[Ate]},$$scope:{ctx:e}}}),u.$on("click",m),{key:r,first:null,c(){t=K("tr"),i.c(),a=le(),o=K("td"),we(u.$$.fragment),s=le(),$(o,"class","mb-html-table-button-cell"),this.first=t},m(h,d){W(h,t,d),f[n].m(t,null),X(t,a),X(t,o),be(u,o,null),X(t,s),l=!0},p(h,d){e=h;let g=n;n=p(e,d),n===g?f[n].p(e,d):(yt(),ie(f[g],1,1,()=>{f[g]=null}),bt(),i=f[n],i?i.p(e,d):(i=f[n]=c[n](e),i.c()),Q(i,1),i.m(t,a));let y={};d&65537&&(y.$$scope={dirty:d,ctx:e}),u.$set(y)},i(h){l||(Q(i),Q(u.$$.fragment,h),l=!0)},o(h){ie(i),ie(u.$$.fragment,h),l=!1},d(h){h&&G(t),f[n].d(),xe(u)}}}function Dte(r){let e;return{c(){e=Le("Add Column")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function Ete(r){let e,t,n,i,a,o,u,s,l=[],c=new Map,f,p,m,h=ut(r[1]),d=[];for(let _=0;_<h.length;_+=1)d[_]=uV(sV(r,h,_));let g=ut(r[2]),y=_=>_[7].index;for(let _=0;_<g.length;_+=1){let b=aV(r,g,_),w=y(b);c.set(w,l[_]=cV(w,b))}return p=new wt({props:{$$slots:{default:[Dte]},$$scope:{ctx:r}}}),p.$on("click",r[6]),{c(){e=K("div"),t=K("table"),n=K("thead"),i=K("tr");for(let _=0;_<d.length;_+=1)d[_].c();a=le(),o=K("th"),u=le(),s=K("tbody");for(let _=0;_<l.length;_+=1)l[_].c();f=le(),we(p.$$.fragment),$(o,"class","mb-html-table-button-cell"),$(t,"class","mb-html-table"),$(e,"class","mb-table-wrapper")},m(_,b){W(_,e,b),X(e,t),X(t,n),X(n,i);for(let w=0;w<d.length;w+=1)d[w]&&d[w].m(i,null);X(i,a),X(i,o),X(t,u),X(t,s);for(let w=0;w<l.length;w+=1)l[w]&&l[w].m(s,null);W(_,f,b),be(p,_,b),m=!0},p(_,[b]){if(b&2){h=ut(_[1]);let S;for(S=0;S<h.length;S+=1){let x=sV(_,h,S);d[S]?d[S].p(x,b):(d[S]=uV(x),d[S].c(),d[S].m(i,a))}for(;S<d.length;S+=1)d[S].d(1);d.length=h.length}b&7&&(g=ut(_[2]),yt(),l=Ku(l,b,y,1,_,g,c,s,Tp,cV,null,aV),bt());let w={};b&65536&&(w.$$scope={dirty:b,ctx:_}),p.$set(w)},i(_){if(!m){for(let b=0;b<g.length;b+=1)Q(l[b]);Q(p.$$.fragment,_),m=!0}},o(_){for(let b=0;b<l.length;b+=1)ie(l[b]);ie(p.$$.fragment,_),m=!1},d(_){_&&(G(e),G(f)),Gt(d,_);for(let b=0;b<l.length;b+=1)l[b].d();xe(p,_)}}}function Nte(r,e,t){let{table:n}=e,{tableHead:i=[]}=e,a=[];function o(c){t(2,a=c)}function u(c,f,p,m){p[m]=c,t(2,a)}let s=c=>n.removeColumn(c.index),l=()=>n.addColumn();return r.$$set=c=>{"table"in c&&t(0,n=c.table),"tableHead"in c&&t(1,i=c.tableHead)},[n,i,a,o,u,s,l]}var UA=class extends qe{constructor(e){super(),He(this,e,Nte,Ete,ze,{table:0,tableHead:1,updateTable:3})}get updateTable(){return this.$$.ctx[3]}},fV=UA;var _h=class extends _n{constructor(e,t,n,i,a,o){super(e,t,n),this.bindTarget=i,this.tableHead=a,this.columns=o,this.inputSignal=new Fr(void 0),this.outputSignal=new Fr(void 0),this.value=void 0}registerSelfToMetadataManager(){this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:this.updateMetadataManager.bind(this)}),this.metadataSubscription=this.plugin.metadataManager.subscribe(this.getUuid(),this.inputSignal,this.bindTarget,()=>this.unmount())}unregisterSelfFromMetadataManager(){var e;this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),(e=this.metadataSubscription)==null||e.unsubscribe()}updateMetadataManager(e){var t;(t=this.metadataSubscription)==null||t.update(e)}updateDisplayValue(e){var n;e=e!=null?e:[];let t=[];for(let i=0;i<e.length;i++)if(typeof e[i]=="object"){let a=new Ru({storageType:this.bindTarget.storageType,storageProp:this.bindTarget.storageProp.concat(xh([i.toString()])),storagePath:this.bindTarget.storagePath,listenToChildren:!1}),o=this.columns.map(u=>"inputFieldType"in u?this.plugin.api.inputFieldParser.validate(u,this.getFilePath(),a):this.plugin.api.viewFieldParser.validate(u,this.getFilePath(),a));t.push({cells:o,index:i,value:e[i],isValid:!0})}else t.push({cells:[],index:i,value:e[i],isValid:!1});(n=this.tableComponent)==null||n.updateTable(t)}createCell(e,t){let n=pr(),i;return"inputFieldType"in e?i=new zo(this.plugin,n,this.getFilePath(),"inline",e):i=new el(this.plugin,n,this.getFilePath(),"inline",e),i.mount(t),()=>i.unmount()}removeColumn(e){var t;this.value=(t=this.value)!=null?t:[],this.value.splice(e,1),this.updateDisplayValue(this.value),this.outputSignal.set(this.value)}addColumn(){var e;this.value=(e=this.value)!=null?e:[],this.value.push({}),this.updateDisplayValue(this.value),this.outputSignal.set(this.value)}onMount(e){this.tableComponent=new fV({target:e,props:{table:this,tableHead:this.tableHead}}),this.inputSignal.registerListener({callback:t=>{this.value=t,this.updateDisplayValue(t)}}),this.registerSelfToMetadataManager()}onUnmount(e){var t;this.unregisterSelfFromMetadataManager(),(t=this.tableComponent)==null||t.$destroy(),kn(e,"table")}};var pV=require("@codemirror/view"),Sh=class extends pV.WidgetType{constructor(e,t,n,i,a){super(),this.type=e,this.content=t,this.filePath=n,this.parentComponent=i,this.plugin=a}eq(e){return e.content===this.content}toDOM(e){let t=document.createElement("span");t.addClass("cm-inline-code");let n=this.plugin.api.createInlineFieldOfTypeFromString(this.type,this.content,this.filePath,void 0);return this.renderChild=this.plugin.api.wrapInMDRC(n,t,this.parentComponent),t}destroy(e){var t;(t=this.renderChild)==null||t.unload(),super.destroy(e)}};var mV=require("obsidian"),af=class extends mV.MarkdownRenderChild{constructor(e,t,n){super(n),this.plugin=e,this.base=t,this.uuid=pr(),this.filePath=t.getFilePath(),this.base.registerUnmountCb(()=>{this.unload()})}onload(){this.plugin.mdrcManager.registerMDRC(this),this.base.mount(this.containerEl),super.onload()}onunload(){this.plugin.mdrcManager.unregisterMDRC(this),this.base.unmount(),super.onunload()}};function dV(r){return r.dependencyManager.checkDependency("dataview").api}function gs(r){return r.dependencyManager.checkDependency("js-engine").api}function $A(r){return r.dependencyManager.checkDependency("templater-obsidian").templater}var Ah=class extends wh{constructor(e){super(e)}wrapInMDRC(e,t,n){let i=new af(this.plugin,e,t);return n.addChild(i),i}createTable(e,t,n,i,a,o){OE(QE,[e,t,n,i,a,o]);let u=new _h(this.plugin,pr(),t,i,a,o),s=new af(this.plugin,u,e);return n.addChild(s),s}constructMDRCWidget(e,t,n,i){if(Bf(e))return new Sh(e,t,n,i,this.plugin);throw new Ot({errorLevel:"CRITICAL",effect:"failed to construct mdrc",cause:`Invalid inline mdrc type "${e}"`})}reactiveMetadata(e,t,n){en(ce.object({bindTargets:oi.array(),lifecycleHook:this.plugin.internal.getLifecycleHookValidator(),callback:ce.function()}),{bindTargets:e,lifecycleHook:t,callback:n});let i=gs(this.plugin),a=pr(),o=new Fr(void 0),u=e.map(c=>({bindTarget:c,callbackSignal:new Fr(void 0)})),s,l=this.plugin.metadataManager.subscribeComputed(a,o,void 0,u,c=>s==null?void 0:s.refresh(...c),()=>{});return t.register(()=>l.unsubscribe()),s=i.reactive(n,...u.map(c=>c.callbackSignal.get())),s}};var Pr=require("obsidian");var Ua=class{constructor(e,t){this.plugin=e,this.selectCallback=t}onSelected(e){this.selectCallback(e)}};var Dh=class extends Ua{getItemText(e){return e.name}getItems(){return this.plugin.internal.getAllCommands()}};var Eh=class extends Ua{getItemText(e){return e}getItems(){return this.plugin.internal.getAllFiles()}};var Nh=class extends Ua{getItemText(e){return e}getItems(){return this.plugin.internal.getAllFolders()}};function Cte(r){Hi(r,"svelte-17mpvkc",".vertical.svelte-17mpvkc{flex-direction:column;align-items:flex-start;gap:var(--size-4-1)}.vertical-control.svelte-17mpvkc{flex-direction:column;align-items:flex-start;gap:var(--size-4-1);width:100%}")}function Tte(r){var d,g;let e,t,n,i=((d=r[0])!=null?d:"")+"",a,o,u,s=((g=r[1])!=null?g:"")+"",l,c,f,p,m=r[5].default,h=fa(m,r,r[4],null);return{c(){e=K("div"),t=K("div"),n=K("div"),a=Le(i),o=le(),u=K("div"),l=Le(s),c=le(),f=K("div"),h&&h.c(),$(n,"class","setting-item-name"),$(u,"class","setting-item-description"),$(t,"class","setting-item-info"),$(f,"class","setting-item-control svelte-17mpvkc"),$t(f,"vertical-control",r[3]),$(e,"class","setting-item svelte-17mpvkc"),$t(e,"setting-item-heading",r[2]),$t(e,"vertical",r[3])},m(y,_){W(y,e,_),X(e,t),X(t,n),X(n,a),X(t,o),X(t,u),X(u,l),X(e,c),X(e,f),h&&h.m(f,null),p=!0},p(y,[_]){var b,w;(!p||_&1)&&i!==(i=((b=y[0])!=null?b:"")+"")&&gt(a,i),(!p||_&2)&&s!==(s=((w=y[1])!=null?w:"")+"")&&gt(l,s),h&&h.p&&(!p||_&16)&&ma(h,m,y,y[4],p?pa(m,y[4],_,null):da(y[4]),null),(!p||_&8)&&$t(f,"vertical-control",y[3]),(!p||_&4)&&$t(e,"setting-item-heading",y[2]),(!p||_&8)&&$t(e,"vertical",y[3])},i(y){p||(Q(h,y),p=!0)},o(y){ie(h,y),p=!1},d(y){y&&G(e),h&&h.d(y)}}}function Mte(r,e,t){let{$$slots:n={},$$scope:i}=e,{name:a=void 0}=e,{description:o=void 0}=e,{heading:u=!1}=e,{vertical:s=!1}=e;return r.$$set=l=>{"name"in l&&t(0,a=l.name),"description"in l&&t(1,o=l.description),"heading"in l&&t(2,u=l.heading),"vertical"in l&&t(3,s=l.vertical),"$$scope"in l&&t(4,i=l.$$scope)},[a,o,u,s,i,n]}var qA=class extends qe{constructor(e){super(),He(this,e,Mte,Tte,ze,{name:0,description:1,heading:2,vertical:3},Cte)}},Tr=qA;function Fte(r){let e,t,n=r[1].default,i=fa(n,r,r[0],null);return{c(){e=K("div"),i&&i.c(),$(e,"class","modal-button-container")},m(a,o){W(a,e,o),i&&i.m(e,null),t=!0},p(a,[o]){i&&i.p&&(!t||o&1)&&ma(i,n,a,a[0],t?pa(n,a[0],o,null):da(a[0]),null)},i(a){t||(Q(i,a),t=!0)},o(a){ie(i,a),t=!1},d(a){a&&G(e),i&&i.d(a)}}}function Ite(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=a=>{"$$scope"in a&&t(0,i=a.$$scope)},[i,n]}var zA=class extends qe{constructor(e){super(),He(this,e,Ite,Fte,ze,{})}},$a=zA;function Bte(r){let e,t,n,i,a,o;return{c(){var u,s,l;e=K("div"),t=K("input"),$(t,"type","checkbox"),$(t,"tabindex","-1"),t.checked=n=(u=r[0])!=null?u:!1,$(e,"class","checkbox-container"),$(e,"role","switch"),$(e,"tabindex","0"),$(e,"aria-checked",i=(s=r[0])!=null?s:!1),$t(e,"is-enabled",(l=r[0])!=null?l:!1)},m(u,s){W(u,e,s),X(e,t),a||(o=[Ie(e,"click",r[1]),Ie(e,"keydown",r[2])],a=!0)},p(u,[s]){var l,c,f;s&1&&n!==(n=(l=u[0])!=null?l:!1)&&(t.checked=n),s&1&&i!==(i=(c=u[0])!=null?c:!1)&&$(e,"aria-checked",i),s&1&&$t(e,"is-enabled",(f=u[0])!=null?f:!1)},i:We,o:We,d(u){u&&G(e),a=!1,Ct(o)}}}function Pte(r,e,t){let{checked:n}=e,i=()=>t(0,n=!n),a=o=>{o.key===" "&&t(0,n=!n)};return r.$$set=o=>{"checked"in o&&t(0,n=o.checked)},[n,i,a]}var HA=class extends qe{constructor(e){super(),He(this,e,Pte,Bte,ze,{checked:0})}},of=HA;function hV(r,e,t){let n=r.slice();return n[60]=e[t],n[61]=e,n[62]=t,n}function gV(r,e,t){let n=r.slice();return n[63]=e[t],n}function vV(r,e,t){let n=r.slice();return n[63]=e[t],n}function Ote(r){let e,t,n;return{c(){e=K("input"),$(e,"type","text")},m(i,a){W(i,e,a),Ke(e,r[0].label),t||(n=Ie(e,"input",r[12]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].label&&Ke(e,i[0].label)},d(i){i&&G(e),t=!1,n()}}}function yV(r){let e,t=r[63]+"",n,i;return{c(){e=K("option"),n=Le(t),e.__value=i=r[63],Ke(e,e.__value)},m(a,o){W(a,e,o),X(e,n)},p:We,d(a){a&&G(e)}}}function kte(r){let e,t,n,i=ut(Object.values(wn)),a=[];for(let o=0;o<i.length;o+=1)a[o]=yV(vV(r,i,o));return{c(){e=K("select");for(let o=0;o<a.length;o+=1)a[o].c();$(e,"class","dropdown"),r[0].style===void 0&&Ma(()=>r[13].call(e))},m(o,u){W(o,e,u);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,null);Uo(e,r[0].style,!0),t||(n=Ie(e,"change",r[13]),t=!0)},p(o,u){if(u&0){i=ut(Object.values(wn));let s;for(s=0;s<i.length;s+=1){let l=vV(o,i,s);a[s]?a[s].p(l,u):(a[s]=yV(l),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=i.length}u[0]&1&&Uo(e,o[0].style)},d(o){o&&G(e),Gt(a,o),t=!1,n()}}}function Rte(r){let e,t,n;return{c(){e=K("input"),$(e,"type","text")},m(i,a){W(i,e,a),Ke(e,r[0].class),t||(n=Ie(e,"input",r[14]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].class&&Ke(e,i[0].class)},d(i){i&&G(e),t=!1,n()}}}function Lte(r){let e,t,n;return{c(){e=K("input"),$(e,"type","text")},m(i,a){W(i,e,a),Ke(e,r[0].tooltip),t||(n=Ie(e,"input",r[15]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].tooltip&&Ke(e,i[0].tooltip)},d(i){i&&G(e),t=!1,n()}}}function Vte(r){let e,t,n;return{c(){e=K("input"),$(e,"type","text")},m(i,a){W(i,e,a),Ke(e,r[0].id),t||(n=Ie(e,"input",r[16]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].id&&Ke(e,i[0].id)},d(i){i&&G(e),t=!1,n()}}}function Ute(r){let e,t,n;function i(o){r[17](o)}let a={};return r[0].hidden!==void 0&&(a.checked=r[0].hidden),e=new of({props:a}),Jr.push(()=>so(e,"checked",i)),{c(){we(e.$$.fragment)},m(o,u){be(e,o,u),n=!0},p(o,u){let s={};!t&&u[0]&1&&(t=!0,s.checked=o[0].hidden,oo(()=>t=!1)),e.$set(s)},i(o){n||(Q(e.$$.fragment,o),n=!0)},o(o){ie(e.$$.fragment,o),n=!1},d(o){xe(e,o)}}}function bV(r){let e,t=r[63]+"",n,i;return{c(){e=K("option"),n=Le(t),e.__value=i=r[63],Ke(e,e.__value)},m(a,o){W(a,e,o),X(e,n)},p:We,d(a){a&&G(e)}}}function $te(r){let e;return{c(){e=Le("Add Action")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function xV(r){let e,t;return e=new Tr({props:{name:"Command: "+(r[60].command||"none"),description:"The command to execute when this action runs.",$$slots:{default:[Hte]},$$scope:{ctx:r}}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i[0]&1&&(a.name="Command: "+(n[60].command||"none")),i[0]&3|i[2]&64&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function qte(r){let e;return{c(){e=Le("Change")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function zte(r){let e,t;return e=new Mr({props:{plugin:r[1].plugin,iconName:"x"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i[0]&2&&(a.plugin=n[1].plugin),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Hte(r){let e,t,n,i;function a(){return r[20](r[60])}e=new wt({props:{variant:"primary",$$slots:{default:[qte]},$$scope:{ctx:r}}}),e.$on("click",a);function o(){return r[21](r[62])}return n=new wt({props:{variant:"destructive",$$slots:{default:[zte]},$$scope:{ctx:r}}}),n.$on("click",o),{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment)},m(u,s){be(e,u,s),W(u,t,s),be(n,u,s),i=!0},p(u,s){r=u;let l={};s[2]&64&&(l.$$scope={dirty:s,ctx:r}),e.$set(l);let c={};s[0]&2|s[2]&64&&(c.$$scope={dirty:s,ctx:r}),n.$set(c)},i(u){i||(Q(e.$$.fragment,u),Q(n.$$.fragment,u),i=!0)},o(u){ie(e.$$.fragment,u),ie(n.$$.fragment,u),i=!1},d(u){u&&G(t),xe(e,u),xe(n,u)}}}function wV(r){let e,t;return e=new Tr({props:{name:"Link",description:"The link to open.",$$slots:{default:[Wte]},$$scope:{ctx:r}}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i[0]&3|i[2]&64&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Gte(r){let e,t;return e=new Mr({props:{plugin:r[1].plugin,iconName:"x"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i[0]&2&&(a.plugin=n[1].plugin),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Wte(r){let e,t,n,i,a,o;function u(){r[22].call(e,r[61],r[62])}function s(){return r[23](r[62])}return n=new wt({props:{variant:"destructive",$$slots:{default:[Gte]},$$scope:{ctx:r}}}),n.$on("click",s),{c(){e=K("input"),t=le(),we(n.$$.fragment),$(e,"type","text"),$(e,"placeholder","[[Some Note]] or https://www.example.com")},m(l,c){W(l,e,c),Ke(e,r[60].link),W(l,t,c),be(n,l,c),i=!0,a||(o=Ie(e,"input",u),a=!0)},p(l,c){r=l,c[0]&1&&e.value!==r[60].link&&Ke(e,r[60].link);let f={};c[0]&2|c[2]&64&&(f.$$scope={dirty:c,ctx:r}),n.$set(f)},i(l){i||(Q(n.$$.fragment,l),i=!0)},o(l){ie(n.$$.fragment,l),i=!1},d(l){l&&(G(e),G(t)),xe(n,l),a=!1,o()}}}function _V(r){let e,t;return e=new Tr({props:{name:"JS File",description:"The JavaScript file to run.",$$slots:{default:[jte]},$$scope:{ctx:r}}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i[0]&3|i[2]&64&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Yte(r){let e,t;return e=new Mr({props:{plugin:r[1].plugin,iconName:"x"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i[0]&2&&(a.plugin=n[1].plugin),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function jte(r){let e,t,n,i,a,o;function u(){r[24].call(e,r[61],r[62])}function s(){return r[25](r[62])}return n=new wt({props:{variant:"destructive",$$slots:{default:[Yte]},$$scope:{ctx:r}}}),n.$on("click",s),{c(){e=K("input"),t=le(),we(n.$$.fragment),$(e,"type","text"),$(e,"placeholder","someJsFile.js")},m(l,c){W(l,e,c),Ke(e,r[60].file),W(l,t,c),be(n,l,c),i=!0,a||(o=Ie(e,"input",u),a=!0)},p(l,c){r=l,c[0]&1&&e.value!==r[60].file&&Ke(e,r[60].file);let f={};c[0]&2|c[2]&64&&(f.$$scope={dirty:c,ctx:r}),n.$set(f)},i(l){i||(Q(n.$$.fragment,l),i=!0)},o(l){ie(n.$$.fragment,l),i=!1},d(l){l&&(G(e),G(t)),xe(n,l),a=!1,o()}}}function SV(r){let e,t;return e=new Tr({props:{name:"Text",description:"The text to input at the cursor.",$$slots:{default:[Jte]},$$scope:{ctx:r}}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i[0]&3|i[2]&64&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Zte(r){let e,t;return e=new Mr({props:{plugin:r[1].plugin,iconName:"x"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i[0]&2&&(a.plugin=n[1].plugin),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Jte(r){let e,t,n,i,a,o;function u(){r[26].call(e,r[61],r[62])}function s(){return r[27](r[62])}return n=new wt({props:{variant:"destructive",$$slots:{default:[Zte]},$$scope:{ctx:r}}}),n.$on("click",s),{c(){e=K("input"),t=le(),we(n.$$.fragment),$(e,"type","text"),$(e,"placeholder","some text")},m(l,c){W(l,e,c),Ke(e,r[60].str),W(l,t,c),be(n,l,c),i=!0,a||(o=Ie(e,"input",u),a=!0)},p(l,c){r=l,c[0]&1&&e.value!==r[60].str&&Ke(e,r[60].str);let f={};c[0]&2|c[2]&64&&(f.$$scope={dirty:c,ctx:r}),n.$set(f)},i(l){i||(Q(n.$$.fragment,l),i=!0)},o(l){ie(n.$$.fragment,l),i=!1},d(l){l&&(G(e),G(t)),xe(n,l),a=!1,o()}}}function AV(r){let e,t;return e=new Tr({props:{name:"Sleep Time",description:"The time to sleep in milliseconds.",$$slots:{default:[Qte]},$$scope:{ctx:r}}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i[0]&3|i[2]&64&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Xte(r){let e,t;return e=new Mr({props:{plugin:r[1].plugin,iconName:"x"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i[0]&2&&(a.plugin=n[1].plugin),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Qte(r){let e,t,n,i,a,o;function u(){r[28].call(e,r[61],r[62])}function s(){return r[29](r[62])}return n=new wt({props:{variant:"destructive",$$slots:{default:[Xte]},$$scope:{ctx:r}}}),n.$on("click",s),{c(){e=K("input"),t=le(),we(n.$$.fragment),$(e,"type","number"),$(e,"placeholder","100 ms")},m(l,c){W(l,e,c),Ke(e,r[60].ms),W(l,t,c),be(n,l,c),i=!0,a||(o=Ie(e,"input",u),a=!0)},p(l,c){r=l,c[0]&1&&fi(e.value)!==r[60].ms&&Ke(e,r[60].ms);let f={};c[0]&2|c[2]&64&&(f.$$scope={dirty:c,ctx:r}),n.$set(f)},i(l){i||(Q(n.$$.fragment,l),i=!0)},o(l){ie(n.$$.fragment,l),i=!1},d(l){l&&(G(e),G(t)),xe(n,l),a=!1,o()}}}function DV(r){let e,t,n,i,a,o,u,s,l,c;function f(){return r[30](r[62])}return e=new wt({props:{variant:"destructive",$$slots:{default:[Kte]},$$scope:{ctx:r}}}),e.$on("click",f),n=new Tr({props:{name:"Template File: "+(r[60].templateFile||"none"),description:"The template file to create a new note of.",$$slots:{default:[tre]},$$scope:{ctx:r}}}),a=new Tr({props:{name:"Folder: "+(r[60].folderPath||"none"),description:"The folder to create a new note in.",$$slots:{default:[nre]},$$scope:{ctx:r}}}),u=new Tr({props:{name:"File Name: "+(r[60].fileName||"default"),description:"The file name of the new note.",$$slots:{default:[ire]},$$scope:{ctx:r}}}),l=new Tr({props:{name:"Open Note",description:"Whether to open the new note after this action ran.",$$slots:{default:[are]},$$scope:{ctx:r}}}),{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment),i=le(),we(a.$$.fragment),o=le(),we(u.$$.fragment),s=le(),we(l.$$.fragment)},m(p,m){be(e,p,m),W(p,t,m),be(n,p,m),W(p,i,m),be(a,p,m),W(p,o,m),be(u,p,m),W(p,s,m),be(l,p,m),c=!0},p(p,m){r=p;let h={};m[2]&64&&(h.$$scope={dirty:m,ctx:r}),e.$set(h);let d={};m[0]&1&&(d.name="Template File: "+(r[60].templateFile||"none")),m[0]&1|m[2]&64&&(d.$$scope={dirty:m,ctx:r}),n.$set(d);let g={};m[0]&1&&(g.name="Folder: "+(r[60].folderPath||"none")),m[0]&1|m[2]&64&&(g.$$scope={dirty:m,ctx:r}),a.$set(g);let y={};m[0]&1&&(y.name="File Name: "+(r[60].fileName||"default")),m[0]&1|m[2]&64&&(y.$$scope={dirty:m,ctx:r}),u.$set(y);let _={};m[0]&1|m[2]&64&&(_.$$scope={dirty:m,ctx:r}),l.$set(_)},i(p){c||(Q(e.$$.fragment,p),Q(n.$$.fragment,p),Q(a.$$.fragment,p),Q(u.$$.fragment,p),Q(l.$$.fragment,p),c=!0)},o(p){ie(e.$$.fragment,p),ie(n.$$.fragment,p),ie(a.$$.fragment,p),ie(u.$$.fragment,p),ie(l.$$.fragment,p),c=!1},d(p){p&&(G(t),G(i),G(o),G(s)),xe(e,p),xe(n,p),xe(a,p),xe(u,p),xe(l,p)}}}function Kte(r){let e;return{c(){e=Le("Remove Action")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function ere(r){let e;return{c(){e=Le("Change")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function tre(r){let e,t;function n(){return r[31](r[60])}return e=new wt({props:{variant:"primary",$$slots:{default:[ere]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){we(e.$$.fragment)},m(i,a){be(e,i,a),t=!0},p(i,a){r=i;let o={};a[2]&64&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(i){t||(Q(e.$$.fragment,i),t=!0)},o(i){ie(e.$$.fragment,i),t=!1},d(i){xe(e,i)}}}function rre(r){let e;return{c(){e=Le("Change")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function nre(r){let e,t;function n(){return r[32](r[60])}return e=new wt({props:{variant:"primary",$$slots:{default:[rre]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){we(e.$$.fragment)},m(i,a){be(e,i,a),t=!0},p(i,a){r=i;let o={};a[2]&64&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(i){t||(Q(e.$$.fragment,i),t=!0)},o(i){ie(e.$$.fragment,i),t=!1},d(i){xe(e,i)}}}function ire(r){let e,t,n;function i(){r[33].call(e,r[61],r[62])}return{c(){e=K("input"),$(e,"type","text"),$(e,"placeholder","some name")},m(a,o){W(a,e,o),Ke(e,r[60].fileName),t||(n=Ie(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&e.value!==r[60].fileName&&Ke(e,r[60].fileName)},d(a){a&&G(e),t=!1,n()}}}function are(r){let e,t,n;function i(o){r[34](o,r[60])}let a={};return r[60].openNote!==void 0&&(a.checked=r[60].openNote),e=new of({props:a}),Jr.push(()=>so(e,"checked",i)),{c(){we(e.$$.fragment)},m(o,u){be(e,o,u),n=!0},p(o,u){r=o;let s={};!t&&u[0]&1&&(t=!0,s.checked=r[60].openNote,oo(()=>t=!1)),e.$set(s)},i(o){n||(Q(e.$$.fragment,o),n=!0)},o(o){ie(e.$$.fragment,o),n=!1},d(o){xe(e,o)}}}function EV(r){let e,t,n,i,a,o,u,s;function l(){return r[35](r[62])}return e=new wt({props:{variant:"destructive",$$slots:{default:[ore]},$$scope:{ctx:r}}}),e.$on("click",l),n=new Tr({props:{name:"Metadata Property",description:"The metadata property in form of a bind target.",$$slots:{default:[sre]},$$scope:{ctx:r}}}),a=new Tr({props:{name:"Value",description:"The new value.",$$slots:{default:[ure]},$$scope:{ctx:r}}}),u=new Tr({props:{name:"Evaluate",description:"Whether to evaluate the value as a JS expression.",$$slots:{default:[lre]},$$scope:{ctx:r}}}),{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment),i=le(),we(a.$$.fragment),o=le(),we(u.$$.fragment)},m(c,f){be(e,c,f),W(c,t,f),be(n,c,f),W(c,i,f),be(a,c,f),W(c,o,f),be(u,c,f),s=!0},p(c,f){r=c;let p={};f[2]&64&&(p.$$scope={dirty:f,ctx:r}),e.$set(p);let m={};f[0]&1|f[2]&64&&(m.$$scope={dirty:f,ctx:r}),n.$set(m);let h={};f[0]&1|f[2]&64&&(h.$$scope={dirty:f,ctx:r}),a.$set(h);let d={};f[0]&1|f[2]&64&&(d.$$scope={dirty:f,ctx:r}),u.$set(d)},i(c){s||(Q(e.$$.fragment,c),Q(n.$$.fragment,c),Q(a.$$.fragment,c),Q(u.$$.fragment,c),s=!0)},o(c){ie(e.$$.fragment,c),ie(n.$$.fragment,c),ie(a.$$.fragment,c),ie(u.$$.fragment,c),s=!1},d(c){c&&(G(t),G(i),G(o)),xe(e,c),xe(n,c),xe(a,c),xe(u,c)}}}function ore(r){let e;return{c(){e=Le("Remove Action")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function sre(r){let e,t,n;function i(){r[36].call(e,r[61],r[62])}return{c(){e=K("input"),$(e,"type","text"),$(e,"placeholder","some value")},m(a,o){W(a,e,o),Ke(e,r[60].bindTarget),t||(n=Ie(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&e.value!==r[60].bindTarget&&Ke(e,r[60].bindTarget)},d(a){a&&G(e),t=!1,n()}}}function ure(r){let e,t,n;function i(){r[37].call(e,r[61],r[62])}return{c(){e=K("input"),$(e,"type","text"),$(e,"placeholder","some value")},m(a,o){W(a,e,o),Ke(e,r[60].value),t||(n=Ie(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&e.value!==r[60].value&&Ke(e,r[60].value)},d(a){a&&G(e),t=!1,n()}}}function lre(r){let e,t,n;function i(o){r[38](o,r[60])}let a={};return r[60].evaluate!==void 0&&(a.checked=r[60].evaluate),e=new of({props:a}),Jr.push(()=>so(e,"checked",i)),{c(){we(e.$$.fragment)},m(o,u){be(e,o,u),n=!0},p(o,u){r=o;let s={};!t&&u[0]&1&&(t=!0,s.checked=r[60].evaluate,oo(()=>t=!1)),e.$set(s)},i(o){n||(Q(e.$$.fragment,o),n=!0)},o(o){ie(e.$$.fragment,o),n=!1},d(o){xe(e,o)}}}function NV(r){let e,t,n,i,a,o,u,s;function l(){return r[39](r[62])}return e=new wt({props:{variant:"destructive",$$slots:{default:[cre]},$$scope:{ctx:r}}}),e.$on("click",l),n=new Tr({props:{name:"Folder: "+(r[60].folderPath||"none"),description:"The folder to create a new note in.",$$slots:{default:[pre]},$$scope:{ctx:r}}}),a=new Tr({props:{name:"File Name: "+(r[60].fileName||"default"),description:"The file name of the new note.",$$slots:{default:[mre]},$$scope:{ctx:r}}}),u=new Tr({props:{name:"Open Note",description:"Whether to open the new note after this action ran.",$$slots:{default:[dre]},$$scope:{ctx:r}}}),{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment),i=le(),we(a.$$.fragment),o=le(),we(u.$$.fragment)},m(c,f){be(e,c,f),W(c,t,f),be(n,c,f),W(c,i,f),be(a,c,f),W(c,o,f),be(u,c,f),s=!0},p(c,f){r=c;let p={};f[2]&64&&(p.$$scope={dirty:f,ctx:r}),e.$set(p);let m={};f[0]&1&&(m.name="Folder: "+(r[60].folderPath||"none")),f[0]&1|f[2]&64&&(m.$$scope={dirty:f,ctx:r}),n.$set(m);let h={};f[0]&1&&(h.name="File Name: "+(r[60].fileName||"default")),f[0]&1|f[2]&64&&(h.$$scope={dirty:f,ctx:r}),a.$set(h);let d={};f[0]&1|f[2]&64&&(d.$$scope={dirty:f,ctx:r}),u.$set(d)},i(c){s||(Q(e.$$.fragment,c),Q(n.$$.fragment,c),Q(a.$$.fragment,c),Q(u.$$.fragment,c),s=!0)},o(c){ie(e.$$.fragment,c),ie(n.$$.fragment,c),ie(a.$$.fragment,c),ie(u.$$.fragment,c),s=!1},d(c){c&&(G(t),G(i),G(o)),xe(e,c),xe(n,c),xe(a,c),xe(u,c)}}}function cre(r){let e;return{c(){e=Le("Remove Action")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function fre(r){let e;return{c(){e=Le("Change")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function pre(r){let e,t;function n(){return r[40](r[60])}return e=new wt({props:{variant:"primary",$$slots:{default:[fre]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){we(e.$$.fragment)},m(i,a){be(e,i,a),t=!0},p(i,a){r=i;let o={};a[2]&64&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(i){t||(Q(e.$$.fragment,i),t=!0)},o(i){ie(e.$$.fragment,i),t=!1},d(i){xe(e,i)}}}function mre(r){let e,t,n;function i(){r[41].call(e,r[61],r[62])}return{c(){e=K("input"),$(e,"type","text"),$(e,"placeholder","some name")},m(a,o){W(a,e,o),Ke(e,r[60].fileName),t||(n=Ie(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&e.value!==r[60].fileName&&Ke(e,r[60].fileName)},d(a){a&&G(e),t=!1,n()}}}function dre(r){let e,t,n;function i(o){r[42](o,r[60])}let a={};return r[60].openNote!==void 0&&(a.checked=r[60].openNote),e=new of({props:a}),Jr.push(()=>so(e,"checked",i)),{c(){we(e.$$.fragment)},m(o,u){be(e,o,u),n=!0},p(o,u){r=o;let s={};!t&&u[0]&1&&(t=!0,s.checked=r[60].openNote,oo(()=>t=!1)),e.$set(s)},i(o){n||(Q(e.$$.fragment,o),n=!0)},o(o){ie(e.$$.fragment,o),n=!1},d(o){xe(e,o)}}}function CV(r){let e,t,n,i,a,o,u,s,l,c,f,p,m;function h(){return r[43](r[62])}e=new wt({props:{variant:"destructive",$$slots:{default:[hre]},$$scope:{ctx:r}}}),e.$on("click",h),n=new Tr({props:{name:"Line From",description:"The line that marks the start of the area to replace.",$$slots:{default:[gre]},$$scope:{ctx:r}}}),a=new Tr({props:{name:"Line To",description:"The line that marks the end of the area to replace.",$$slots:{default:[vre]},$$scope:{ctx:r}}}),u=new Tr({props:{name:"Replacement Text",description:"The text to replace the note section."}});function d(){r[46].call(c,r[61],r[62])}return{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment),i=le(),we(a.$$.fragment),o=le(),we(u.$$.fragment),s=le(),l=K("div"),c=K("textarea"),$(l,"class","meta-bind-full-width meta-bind-high")},m(g,y){be(e,g,y),W(g,t,y),be(n,g,y),W(g,i,y),be(a,g,y),W(g,o,y),be(u,g,y),W(g,s,y),W(g,l,y),X(l,c),Ke(c,r[60].replacement),f=!0,p||(m=Ie(c,"input",d),p=!0)},p(g,y){r=g;let _={};y[2]&64&&(_.$$scope={dirty:y,ctx:r}),e.$set(_);let b={};y[0]&1|y[2]&64&&(b.$$scope={dirty:y,ctx:r}),n.$set(b);let w={};y[0]&1|y[2]&64&&(w.$$scope={dirty:y,ctx:r}),a.$set(w),y[0]&1&&Ke(c,r[60].replacement)},i(g){f||(Q(e.$$.fragment,g),Q(n.$$.fragment,g),Q(a.$$.fragment,g),Q(u.$$.fragment,g),f=!0)},o(g){ie(e.$$.fragment,g),ie(n.$$.fragment,g),ie(a.$$.fragment,g),ie(u.$$.fragment,g),f=!1},d(g){g&&(G(t),G(i),G(o),G(s),G(l)),xe(e,g),xe(n,g),xe(a,g),xe(u,g),p=!1,m()}}}function hre(r){let e;return{c(){e=Le("Remove Action")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function gre(r){let e,t,n;function i(){r[44].call(e,r[61],r[62])}return{c(){e=K("input"),$(e,"type","number"),$(e,"placeholder","0")},m(a,o){W(a,e,o),Ke(e,r[60].fromLine),t||(n=Ie(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&fi(e.value)!==r[60].fromLine&&Ke(e,r[60].fromLine)},d(a){a&&G(e),t=!1,n()}}}function vre(r){let e,t,n;function i(){r[45].call(e,r[61],r[62])}return{c(){e=K("input"),$(e,"type","number"),$(e,"placeholder","0")},m(a,o){W(a,e,o),Ke(e,r[60].toLine),t||(n=Ie(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&fi(e.value)!==r[60].toLine&&Ke(e,r[60].toLine)},d(a){a&&G(e),t=!1,n()}}}function TV(r){let e,t,n,i,a,o,u,s,l,c,f;function p(){return r[47](r[62])}e=new wt({props:{variant:"destructive",$$slots:{default:[yre]},$$scope:{ctx:r}}}),e.$on("click",p),n=new Tr({props:{name:"Regexp",description:"The regexp to find replacements.",$$slots:{default:[bre]},$$scope:{ctx:r}}}),a=new Tr({props:{name:"Replacement Text",description:"The text to replace the button with."}});function m(){r[49].call(s,r[61],r[62])}return{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment),i=le(),we(a.$$.fragment),o=le(),u=K("div"),s=K("textarea"),$(u,"class","meta-bind-full-width meta-bind-high")},m(h,d){be(e,h,d),W(h,t,d),be(n,h,d),W(h,i,d),be(a,h,d),W(h,o,d),W(h,u,d),X(u,s),Ke(s,r[60].replacement),l=!0,c||(f=Ie(s,"input",m),c=!0)},p(h,d){r=h;let g={};d[2]&64&&(g.$$scope={dirty:d,ctx:r}),e.$set(g);let y={};d[0]&1|d[2]&64&&(y.$$scope={dirty:d,ctx:r}),n.$set(y),d[0]&1&&Ke(s,r[60].replacement)},i(h){l||(Q(e.$$.fragment,h),Q(n.$$.fragment,h),Q(a.$$.fragment,h),l=!0)},o(h){ie(e.$$.fragment,h),ie(n.$$.fragment,h),ie(a.$$.fragment,h),l=!1},d(h){h&&(G(t),G(i),G(o),G(u)),xe(e,h),xe(n,h),xe(a,h),c=!1,f()}}}function yre(r){let e;return{c(){e=Le("Remove Action")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function bre(r){let e,t,n;function i(){r[48].call(e,r[61],r[62])}return{c(){e=K("input"),$(e,"type","text")},m(a,o){W(a,e,o),Ke(e,r[60].regexp),t||(n=Ie(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&e.value!==r[60].regexp&&Ke(e,r[60].regexp)},d(a){a&&G(e),t=!1,n()}}}function MV(r){let e,t,n,i,a,o,u,s,l;function c(){return r[50](r[62])}e=new wt({props:{variant:"destructive",$$slots:{default:[xre]},$$scope:{ctx:r}}}),e.$on("click",c),n=new Tr({props:{name:"Replacement Text",description:"The text to replace the match with."}});function f(){r[51].call(o,r[61],r[62])}return{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment),i=le(),a=K("div"),o=K("textarea"),$(a,"class","meta-bind-full-width meta-bind-high")},m(p,m){be(e,p,m),W(p,t,m),be(n,p,m),W(p,i,m),W(p,a,m),X(a,o),Ke(o,r[60].replacement),u=!0,s||(l=Ie(o,"input",f),s=!0)},p(p,m){r=p;let h={};m[2]&64&&(h.$$scope={dirty:m,ctx:r}),e.$set(h),m[0]&1&&Ke(o,r[60].replacement)},i(p){u||(Q(e.$$.fragment,p),Q(n.$$.fragment,p),u=!0)},o(p){ie(e.$$.fragment,p),ie(n.$$.fragment,p),u=!1},d(p){p&&(G(t),G(i),G(a)),xe(e,p),xe(n,p),s=!1,l()}}}function xre(r){let e;return{c(){e=Le("Remove Action")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function FV(r){let e,t,n,i,a,o,u,s,l,c,f;function p(){return r[52](r[62])}e=new wt({props:{variant:"destructive",$$slots:{default:[wre]},$$scope:{ctx:r}}}),e.$on("click",p),n=new Tr({props:{name:"Line",description:"The line number to insert at.",$$slots:{default:[_re]},$$scope:{ctx:r}}}),a=new Tr({props:{name:"Text to Insert",description:"The text to insert into the note."}});function m(){r[54].call(s,r[61],r[62])}return{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment),i=le(),we(a.$$.fragment),o=le(),u=K("div"),s=K("textarea"),$(u,"class","meta-bind-full-width meta-bind-high")},m(h,d){be(e,h,d),W(h,t,d),be(n,h,d),W(h,i,d),be(a,h,d),W(h,o,d),W(h,u,d),X(u,s),Ke(s,r[60].value),l=!0,c||(f=Ie(s,"input",m),c=!0)},p(h,d){r=h;let g={};d[2]&64&&(g.$$scope={dirty:d,ctx:r}),e.$set(g);let y={};d[0]&1|d[2]&64&&(y.$$scope={dirty:d,ctx:r}),n.$set(y),d[0]&1&&Ke(s,r[60].value)},i(h){l||(Q(e.$$.fragment,h),Q(n.$$.fragment,h),Q(a.$$.fragment,h),l=!0)},o(h){ie(e.$$.fragment,h),ie(n.$$.fragment,h),ie(a.$$.fragment,h),l=!1},d(h){h&&(G(t),G(i),G(o),G(u)),xe(e,h),xe(n,h),xe(a,h),c=!1,f()}}}function wre(r){let e;return{c(){e=Le("Remove Action")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function _re(r){let e,t,n;function i(){r[53].call(e,r[61],r[62])}return{c(){e=K("input"),$(e,"type","number"),$(e,"placeholder","0")},m(a,o){W(a,e,o),Ke(e,r[60].line),t||(n=Ie(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&fi(e.value)!==r[60].line&&Ke(e,r[60].line)},d(a){a&&G(e),t=!1,n()}}}function IV(r,e){let t,n=e[10](e[60].type)+"",i,a,o,u,s,l,c,f,p,m,h,d,g,y,_,b=e[60].type==="command"&&xV(e),w=e[60].type==="open"&&wV(e),S=e[60].type==="js"&&_V(e),x=e[60].type==="input"&&SV(e),C=e[60].type==="sleep"&&AV(e),E=e[60].type==="templaterCreateNote"&&DV(e),D=e[60].type==="updateMetadata"&&EV(e),N=e[60].type==="createNote"&&NV(e),I=e[60].type==="replaceInNote"&&CV(e),O=e[60].type==="regexpReplaceInNote"&&TV(e),V=e[60].type==="replaceSelf"&&MV(e),q=e[60].type==="insertIntoNote"&&FV(e);return{key:r,first:null,c(){t=K("h5"),i=Le(n),a=le(),b&&b.c(),o=le(),w&&w.c(),u=le(),S&&S.c(),s=le(),x&&x.c(),l=le(),C&&C.c(),c=le(),E&&E.c(),f=le(),D&&D.c(),p=le(),N&&N.c(),m=le(),I&&I.c(),h=le(),O&&O.c(),d=le(),V&&V.c(),g=le(),q&&q.c(),y=Sr(),this.first=t},m(L,P){W(L,t,P),X(t,i),W(L,a,P),b&&b.m(L,P),W(L,o,P),w&&w.m(L,P),W(L,u,P),S&&S.m(L,P),W(L,s,P),x&&x.m(L,P),W(L,l,P),C&&C.m(L,P),W(L,c,P),E&&E.m(L,P),W(L,f,P),D&&D.m(L,P),W(L,p,P),N&&N.m(L,P),W(L,m,P),I&&I.m(L,P),W(L,h,P),O&&O.m(L,P),W(L,d,P),V&&V.m(L,P),W(L,g,P),q&&q.m(L,P),W(L,y,P),_=!0},p(L,P){e=L,(!_||P[0]&1)&&n!==(n=e[10](e[60].type)+"")&&gt(i,n),e[60].type==="command"?b?(b.p(e,P),P[0]&1&&Q(b,1)):(b=xV(e),b.c(),Q(b,1),b.m(o.parentNode,o)):b&&(yt(),ie(b,1,1,()=>{b=null}),bt()),e[60].type==="open"?w?(w.p(e,P),P[0]&1&&Q(w,1)):(w=wV(e),w.c(),Q(w,1),w.m(u.parentNode,u)):w&&(yt(),ie(w,1,1,()=>{w=null}),bt()),e[60].type==="js"?S?(S.p(e,P),P[0]&1&&Q(S,1)):(S=_V(e),S.c(),Q(S,1),S.m(s.parentNode,s)):S&&(yt(),ie(S,1,1,()=>{S=null}),bt()),e[60].type==="input"?x?(x.p(e,P),P[0]&1&&Q(x,1)):(x=SV(e),x.c(),Q(x,1),x.m(l.parentNode,l)):x&&(yt(),ie(x,1,1,()=>{x=null}),bt()),e[60].type==="sleep"?C?(C.p(e,P),P[0]&1&&Q(C,1)):(C=AV(e),C.c(),Q(C,1),C.m(c.parentNode,c)):C&&(yt(),ie(C,1,1,()=>{C=null}),bt()),e[60].type==="templaterCreateNote"?E?(E.p(e,P),P[0]&1&&Q(E,1)):(E=DV(e),E.c(),Q(E,1),E.m(f.parentNode,f)):E&&(yt(),ie(E,1,1,()=>{E=null}),bt()),e[60].type==="updateMetadata"?D?(D.p(e,P),P[0]&1&&Q(D,1)):(D=EV(e),D.c(),Q(D,1),D.m(p.parentNode,p)):D&&(yt(),ie(D,1,1,()=>{D=null}),bt()),e[60].type==="createNote"?N?(N.p(e,P),P[0]&1&&Q(N,1)):(N=NV(e),N.c(),Q(N,1),N.m(m.parentNode,m)):N&&(yt(),ie(N,1,1,()=>{N=null}),bt()),e[60].type==="replaceInNote"?I?(I.p(e,P),P[0]&1&&Q(I,1)):(I=CV(e),I.c(),Q(I,1),I.m(h.parentNode,h)):I&&(yt(),ie(I,1,1,()=>{I=null}),bt()),e[60].type==="regexpReplaceInNote"?O?(O.p(e,P),P[0]&1&&Q(O,1)):(O=TV(e),O.c(),Q(O,1),O.m(d.parentNode,d)):O&&(yt(),ie(O,1,1,()=>{O=null}),bt()),e[60].type==="replaceSelf"?V?(V.p(e,P),P[0]&1&&Q(V,1)):(V=MV(e),V.c(),Q(V,1),V.m(g.parentNode,g)):V&&(yt(),ie(V,1,1,()=>{V=null}),bt()),e[60].type==="insertIntoNote"?q?(q.p(e,P),P[0]&1&&Q(q,1)):(q=FV(e),q.c(),Q(q,1),q.m(y.parentNode,y)):q&&(yt(),ie(q,1,1,()=>{q=null}),bt())},i(L){_||(Q(b),Q(w),Q(S),Q(x),Q(C),Q(E),Q(D),Q(N),Q(I),Q(O),Q(V),Q(q),_=!0)},o(L){ie(b),ie(w),ie(S),ie(x),ie(C),ie(E),ie(D),ie(N),ie(I),ie(O),ie(V),ie(q),_=!1},d(L){L&&(G(t),G(a),G(o),G(u),G(s),G(l),G(c),G(f),G(p),G(m),G(h),G(d),G(g),G(y)),b&&b.d(L),w&&w.d(L),S&&S.d(L),x&&x.d(L),C&&C.d(L),E&&E.d(L),D&&D.d(L),N&&N.d(L),I&&I.d(L),O&&O.d(L),V&&V.d(L),q&&q.d(L)}}}function Sre(r){let e=r[1].options.submitText+"",t;return{c(){t=Le(e)},m(n,i){W(n,t,i)},p(n,i){i[0]&2&&e!==(e=n[1].options.submitText+"")&&gt(t,e)},d(n){n&&G(t)}}}function Are(r){let e;return{c(){e=Le("Cancel")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function Dre(r){let e,t,n,i;return e=new wt({props:{variant:"primary",$$slots:{default:[Sre]},$$scope:{ctx:r}}}),e.$on("click",r[56]),n=new wt({props:{variant:"default",$$slots:{default:[Are]},$$scope:{ctx:r}}}),n.$on("click",r[57]),{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment)},m(a,o){be(e,a,o),W(a,t,o),be(n,a,o),i=!0},p(a,o){let u={};o[0]&2|o[2]&64&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);let s={};o[2]&64&&(s.$$scope={dirty:o,ctx:a}),n.$set(s)},i(a){i||(Q(e.$$.fragment,a),Q(n.$$.fragment,a),i=!0)},o(a){ie(e.$$.fragment,a),ie(n.$$.fragment,a),i=!1},d(a){a&&G(t),xe(e,a),xe(n,a)}}}function Ere(r){var Y;let e,t,n,i,a,o,u,s,l,c,f,p,m,h,d,g,y,_,b=[],w=new Map,S,x,C,E,D,N,I,O,V;e=new Tr({props:{name:"Label",description:"The label shown on the button.",$$slots:{default:[Ote]},$$scope:{ctx:r}}}),n=new Tr({props:{name:"Style",description:"The style variant of the button",$$slots:{default:[kte]},$$scope:{ctx:r}}}),a=new Tr({props:{name:"CSS Classes",description:"A list of CSS classes to add to the button. Multiple classes should be separated by a space.",$$slots:{default:[Rte]},$$scope:{ctx:r}}}),u=new Tr({props:{name:"Tooltip",description:"A tooltip to show when hovering the button. If not set, the button label will be shown instead.",$$slots:{default:[Lte]},$$scope:{ctx:r}}}),l=new Tr({props:{name:"ID",description:"An ID that allows the button to be referenced in inline buttons.",$$slots:{default:[Vte]},$$scope:{ctx:r}}}),f=new Tr({props:{name:"Hidden",description:"Whether to not render this button. This can be useful when using inline buttons.",$$slots:{default:[Ute]},$$scope:{ctx:r}}});let q=ut(Object.values(Vu)),L=[];for(let B=0;B<q.length;B+=1)L[B]=bV(gV(r,q,B));y=new wt({props:{variant:"primary",$$slots:{default:[$te]},$$scope:{ctx:r}}}),y.$on("click",r[19]);let P=ut((Y=r[0].actions)!=null?Y:[]),k=B=>B[62];for(let B=0;B<P.length;B+=1){let Z=hV(r,P,B),oe=k(Z);w.set(oe,b[B]=IV(oe,Z))}return N=new $a({props:{$$slots:{default:[Dre]},$$scope:{ctx:r}}}),{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment),i=le(),we(a.$$.fragment),o=le(),we(u.$$.fragment),s=le(),we(l.$$.fragment),c=le(),we(f.$$.fragment),p=le(),m=K("h4"),m.textContent="Actions",h=Le(`

Add action of type
`),d=K("select");for(let B=0;B<L.length;B+=1)L[B].c();g=le(),we(y.$$.fragment),_=le();for(let B=0;B<b.length;B+=1)b[B].c();S=le(),x=K("h4"),x.textContent="Preview",C=le(),E=K("div"),D=le(),we(N.$$.fragment),$(d,"class","dropdown"),r[3]===void 0&&Ma(()=>r[18].call(d))},m(B,Z){be(e,B,Z),W(B,t,Z),be(n,B,Z),W(B,i,Z),be(a,B,Z),W(B,o,Z),be(u,B,Z),W(B,s,Z),be(l,B,Z),W(B,c,Z),be(f,B,Z),W(B,p,Z),W(B,m,Z),W(B,h,Z),W(B,d,Z);for(let oe=0;oe<L.length;oe+=1)L[oe]&&L[oe].m(d,null);Uo(d,r[3],!0),W(B,g,Z),be(y,B,Z),W(B,_,Z);for(let oe=0;oe<b.length;oe+=1)b[oe]&&b[oe].m(B,Z);W(B,S,Z),W(B,x,Z),W(B,C,Z),W(B,E,Z),r[55](E),W(B,D,Z),be(N,B,Z),I=!0,O||(V=Ie(d,"change",r[18]),O=!0)},p(B,Z){var ve;let oe={};Z[0]&1|Z[2]&64&&(oe.$$scope={dirty:Z,ctx:B}),e.$set(oe);let ne={};Z[0]&1|Z[2]&64&&(ne.$$scope={dirty:Z,ctx:B}),n.$set(ne);let U={};Z[0]&1|Z[2]&64&&(U.$$scope={dirty:Z,ctx:B}),a.$set(U);let fe={};Z[0]&1|Z[2]&64&&(fe.$$scope={dirty:Z,ctx:B}),u.$set(fe);let Ee={};Z[0]&1|Z[2]&64&&(Ee.$$scope={dirty:Z,ctx:B}),l.$set(Ee);let pe={};if(Z[0]&1|Z[2]&64&&(pe.$$scope={dirty:Z,ctx:B}),f.$set(pe),Z&0){q=ut(Object.values(Vu));let de;for(de=0;de<q.length;de+=1){let Ae=gV(B,q,de);L[de]?L[de].p(Ae,Z):(L[de]=bV(Ae),L[de].c(),L[de].m(d,null))}for(;de<L.length;de+=1)L[de].d(1);L.length=q.length}Z[0]&8&&Uo(d,B[3]);let he={};Z[2]&64&&(he.$$scope={dirty:Z,ctx:B}),y.$set(he),Z[0]&2019&&(P=ut((ve=B[0].actions)!=null?ve:[]),yt(),b=Ku(b,Z,k,1,B,P,w,S.parentNode,Tp,IV,S,hV),bt());let De={};Z[0]&3|Z[2]&64&&(De.$$scope={dirty:Z,ctx:B}),N.$set(De)},i(B){if(!I){Q(e.$$.fragment,B),Q(n.$$.fragment,B),Q(a.$$.fragment,B),Q(u.$$.fragment,B),Q(l.$$.fragment,B),Q(f.$$.fragment,B),Q(y.$$.fragment,B);for(let Z=0;Z<P.length;Z+=1)Q(b[Z]);Q(N.$$.fragment,B),I=!0}},o(B){ie(e.$$.fragment,B),ie(n.$$.fragment,B),ie(a.$$.fragment,B),ie(u.$$.fragment,B),ie(l.$$.fragment,B),ie(f.$$.fragment,B),ie(y.$$.fragment,B);for(let Z=0;Z<b.length;Z+=1)ie(b[Z]);ie(N.$$.fragment,B),I=!1},d(B){B&&(G(t),G(i),G(o),G(s),G(c),G(p),G(m),G(h),G(d),G(g),G(_),G(S),G(x),G(C),G(E),G(D)),xe(e,B),xe(n,B),xe(a,B),xe(u,B),xe(l,B),xe(f,B),Gt(L,B),xe(y,B);for(let Z=0;Z<b.length;Z+=1)b[Z].d(B);r[55](null),xe(N,B),O=!1,V()}}}function Nre(r,e,t){let{plugin:n}=e,{modal:i}=e,{buttonConfig:a}=e,o,u,s;Ys(()=>{u==null||u.unmount()});function l(_e,Ue){u==null||u.unmount(),Ue&&(ft.empty(Ue),u=new qo(n,_e,"","block",void 0,!0),u.mount(Ue))}function c(){var _e;(_e=a.actions)===null||_e===void 0||_e.push(n.api.buttonActionRunner.createDefaultAction(s)),t(0,a)}function f(_e){var Ue;(Ue=a.actions)===null||Ue===void 0||Ue.splice(_e,1),t(0,a)}function p(_e){_e.type==="command"&&n.internal.openCommandSelectModal(Ue=>{_e.command=Ue.id,t(0,a)})}function m(_e){_e.type==="templaterCreateNote"&&n.internal.openFileSelectModal(Ue=>{_e.templateFile=Ue,t(0,a)})}function h(_e){_e.type==="templaterCreateNote"&&n.internal.openFolderSelectModal(Ue=>{_e.folderPath=Ue,t(0,a)})}function d(_e){_e.type==="createNote"&&n.internal.openFolderSelectModal(Ue=>{_e.folderPath=Ue,t(0,a)})}function g(_e){return _e==="command"?"Run a Command":_e==="open"?"Open a Link":_e==="js"?"Run a JavaScript File":_e==="input"?"Insert Text at Cursor":_e==="sleep"?"Sleep for Some Time":_e==="templaterCreateNote"?"Create a New Note Using Templater":_e==="updateMetadata"?"Update Metadata":_e==="createNote"?"Create a New Note":_e==="replaceInNote"?"Replace Text in Note":_e==="regexpReplaceInNote"?"Replace Text in Note using Regexp":_e==="replaceSelf"?"Replace Button with Text":_e==="insertIntoNote"?"Insert Text into the Note":"CHANGE ME"}function y(){a.label=this.value,t(0,a)}function _(){a.style=cc(this),t(0,a)}function b(){a.class=this.value,t(0,a)}function w(){a.tooltip=this.value,t(0,a)}function S(){a.id=this.value,t(0,a)}function x(_e){r.$$.not_equal(a.hidden,_e)&&(a.hidden=_e,t(0,a))}function C(){s=cc(this),t(3,s)}let E=()=>c(),D=_e=>p(_e),N=_e=>f(_e);function I(_e,Ue){_e[Ue].link=this.value,t(0,a)}let O=_e=>f(_e);function V(_e,Ue){_e[Ue].file=this.value,t(0,a)}let q=_e=>f(_e);function L(_e,Ue){_e[Ue].str=this.value,t(0,a)}let P=_e=>f(_e);function k(_e,Ue){_e[Ue].ms=fi(this.value),t(0,a)}let Y=_e=>f(_e),B=_e=>f(_e),Z=_e=>m(_e),oe=_e=>h(_e);function ne(_e,Ue){_e[Ue].fileName=this.value,t(0,a)}function U(_e,Ue){r.$$.not_equal(Ue.openNote,_e)&&(Ue.openNote=_e,t(0,a))}let fe=_e=>f(_e);function Ee(_e,Ue){_e[Ue].bindTarget=this.value,t(0,a)}function pe(_e,Ue){_e[Ue].value=this.value,t(0,a)}function he(_e,Ue){r.$$.not_equal(Ue.evaluate,_e)&&(Ue.evaluate=_e,t(0,a))}let De=_e=>f(_e),ve=_e=>d(_e);function de(_e,Ue){_e[Ue].fileName=this.value,t(0,a)}function Ae(_e,Ue){r.$$.not_equal(Ue.openNote,_e)&&(Ue.openNote=_e,t(0,a))}let Ne=_e=>f(_e);function ke(_e,Ue){_e[Ue].fromLine=fi(this.value),t(0,a)}function nt(_e,Ue){_e[Ue].toLine=fi(this.value),t(0,a)}function J(_e,Ue){_e[Ue].replacement=this.value,t(0,a)}let ee=_e=>f(_e);function ye(_e,Ue){_e[Ue].regexp=this.value,t(0,a)}function H(_e,Ue){_e[Ue].replacement=this.value,t(0,a)}let te=_e=>f(_e);function se(_e,Ue){_e[Ue].replacement=this.value,t(0,a)}let Ce=_e=>f(_e);function Te(_e,Ue){_e[Ue].line=fi(this.value),t(0,a)}function Ye(_e,Ue){_e[Ue].value=this.value,t(0,a)}function Me(_e){Jr[_e?"unshift":"push"](()=>{o=_e,t(2,o)})}let et=()=>i.okay(a),At=()=>i.cancel();return r.$$set=_e=>{"plugin"in _e&&t(11,n=_e.plugin),"modal"in _e&&t(1,i=_e.modal),"buttonConfig"in _e&&t(0,a=_e.buttonConfig)},r.$$.update=()=>{r.$$.dirty[0]&5&&l(a,o)},[a,i,o,s,c,f,p,m,h,d,g,n,y,_,b,w,S,x,C,E,D,N,I,O,V,q,L,P,k,Y,B,Z,oe,ne,U,fe,Ee,pe,he,De,ve,de,Ae,Ne,ke,nt,J,ee,ye,H,te,se,Ce,Te,Ye,Me,et,At]}var GA=class extends qe{constructor(e){super(),He(this,e,Nre,Ere,ze,{plugin:11,modal:1,buttonConfig:0},null,[-1,-1,-1])}},BV=GA;var Rl=class extends ci{setModal(e){this.modal=e}closeModal(){if(this.modal!==void 0)this.modal.close();else throw new Ot({errorLevel:"CRITICAL",effect:"Failed to close modal.",cause:"Modal reference in ModalContent is undefined."})}};var Ll=class extends Rl{constructor(e,t){super(),this.plugin=e,this.options=t}onMount(e){var t;ft.empty(e),this.component&&this.component.$destroy(),this.component=new BV({target:e,props:{plugin:this.plugin,modal:this,buttonConfig:(t=this.config)!=null?t:this.plugin.api.buttonActionRunner.createDefaultButtonConfig()}})}onUnmount(e){ft.empty(e),this.component&&this.component.$destroy()}okay(e){this.closeModal(),this.options.onOkay(e)}cancel(){this.closeModal()}};var mu=class extends Rl{constructor(e){super(),this.createComponent=e}onMount(e){ft.empty(e),this.component=this.createComponent(this,e)}onUnmount(e){var t;(t=this.component)==null||t.$destroy(),ft.empty(e)}};var kV=hr(tc());function Cre(r){Hi(r,"svelte-12l82wb",".calendar.svelte-12l82wb{margin-top:10px}.calendar-header.svelte-12l82wb{display:flex;justify-content:space-around;flex-wrap:wrap;gap:var(--size-4-1);background:var(--background-secondary);border-radius:var(--mb-border-radius);margin-bottom:var(--size-4-1)}.calendar-content.svelte-12l82wb{display:grid;flex-wrap:wrap;grid-template-columns:repeat(7, 1fr);gap:var(--size-4-1)}.cell.svelte-12l82wb{min-width:40px;padding:var(--size-4-2);display:flex;justify-content:center;align-items:center;border-radius:var(--mb-border-radius)}.content-cell.svelte-12l82wb{cursor:pointer}.cell-text.svelte-12l82wb{margin:auto;text-align:center}.selected.svelte-12l82wb{background:var(--interactive-accent);color:var(--text-on-accent)}.highlight.svelte-12l82wb:hover{background:var(--interactive-hover)}.selected.highlight.svelte-12l82wb:hover{background:var(--interactive-accent-hover)}")}function PV(r,e,t){let n=r.slice();return n[10]=e[t],n}function Tre(r,e,t){let n=r.slice();return n[13]=e[t],n}function Mre(r){let e,t,n;return{c(){e=K("div"),t=K("span"),t.textContent=`${r[13]}`,n=le(),$(t,"class","cell-text svelte-12l82wb"),$(e,"class","cell header-cell svelte-12l82wb")},m(i,a){W(i,e,a),X(e,t),X(e,n)},p:We,d(i){i&&G(e)}}}function OV(r,e){let t,n,i=(e[10]||"")+"",a,o,u,s;function l(){return e[6](e[10])}function c(...f){return e[7](e[10],...f)}return{key:r,first:null,c(){var f,p,m;t=K("div"),n=K("span"),a=Le(i),o=le(),$(n,"class","cell-text svelte-12l82wb"),$(t,"class","cell svelte-12l82wb"),$(t,"role","button"),$(t,"tabindex","0"),$t(t,"highlight",e[10]),$t(t,"content-cell",e[10]),$t(t,"selected",((f=e[0])==null?void 0:f.year())===e[2]&&((p=e[0])==null?void 0:p.month())===e[1]&&((m=e[0])==null?void 0:m.date())===e[10]),this.first=t},m(f,p){W(f,t,p),X(t,n),X(n,a),X(t,o),u||(s=[Ie(t,"click",l),Ie(t,"keydown",c)],u=!0)},p(f,p){var m,h,d;e=f,p&8&&i!==(i=(e[10]||"")+"")&&gt(a,i),p&8&&$t(t,"highlight",e[10]),p&8&&$t(t,"content-cell",e[10]),p&15&&$t(t,"selected",((m=e[0])==null?void 0:m.year())===e[2]&&((h=e[0])==null?void 0:h.month())===e[1]&&((d=e[0])==null?void 0:d.date())===e[10])},d(f){f&&G(t),u=!1,Ct(s)}}}function Fre(r){let e,t,n,i,a=[],o=new Map,u=ut(dE()),s=[];for(let f=0;f<u.length;f+=1)s[f]=Mre(Tre(r,u,f));let l=ut(r[3]),c=f=>hE();for(let f=0;f<l.length;f+=1){let p=PV(r,l,f),m=c(p);o.set(m,a[f]=OV(m,p))}return{c(){e=K("div"),t=K("div");for(let f=0;f<s.length;f+=1)s[f].c();n=le(),i=K("div");for(let f=0;f<a.length;f+=1)a[f].c();$(t,"class","calendar-header svelte-12l82wb"),$(i,"class","calendar-content svelte-12l82wb"),$(e,"class","calendar svelte-12l82wb")},m(f,p){W(f,e,p),X(e,t);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(t,null);X(e,n),X(e,i);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(i,null)},p(f,[p]){p&63&&(l=ut(f[3]),a=Ku(a,p,c,1,f,l,o,i,MN,OV,null,PV))},i:We,o:We,d(f){f&&G(e),Gt(s,f);for(let p=0;p<a.length;p+=1)a[p].d()}}}function Ire(r,e,t){let n=js(),{selectedDate:i}=e,{month:a}=e,{year:o}=e,u;function s(m){n("dateChange",(0,kV.default)(new Date(o,a,m)))}function l(m){m&&s(m)}function c(m,h){m.key===" "&&l(h)}let f=m=>l(m),p=(m,h)=>c(h,m);return r.$$set=m=>{"selectedDate"in m&&t(0,i=m.selectedDate),"month"in m&&t(1,a=m.month),"year"in m&&t(2,o=m.year)},r.$$.update=()=>{r.$$.dirty&6&&t(3,u=mE(a,o))},[i,a,o,u,l,c,f,p]}var WA=class extends qe{constructor(e){super(),He(this,e,Ire,Fre,ze,{selectedDate:0,month:1,year:2},Cre)}},RV=WA;var Ch=hr(tc());function Bre(r){Hi(r,"svelte-berpp6",".date-picker.svelte-berpp6{display:block;padding:var(--size-4-4)}.date-picker-header.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:space-around}.date-picker-header-text.svelte-berpp6{flex:1;text-align:center;display:flex;gap:var(--size-4-2);align-items:center;justify-content:center;width:min-content}.date-picker-header-text-year.svelte-berpp6{width:60px;padding:var(--size-4-2)}.date-picker-header-text-month.svelte-berpp6{height:min-content}.month-switch-button.svelte-berpp6{margin:0}.date-picker-footer.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:center}.none-button.svelte-berpp6{margin:0}")}function Pre(r){let e,t,n,i,a,o,u=Fg(r[1])+"",s,l,c,f,p,m,h,d,g,y,_,b,w,S,x,C;return d=new RV({props:{month:r[1],year:r[2],selectedDate:r[0]}}),d.$on("dateChange",r[6]),{c(){e=K("div"),t=K("div"),n=K("button"),n.textContent="Prev",i=le(),a=K("div"),o=K("span"),s=Le(u),l=le(),c=K("input"),p=le(),m=K("button"),m.textContent="Next",h=le(),we(d.$$.fragment),g=le(),y=K("div"),_=K("button"),_.textContent="Set no Date",b=le(),w=K("button"),w.textContent="Set to Now",$(n,"class","month-switch-button svelte-berpp6"),$(o,"class","date-picker-header-text-month svelte-berpp6"),$(c,"class","date-picker-header-text-year svelte-berpp6"),$(c,"type","number"),c.value=f=r[2].toString(),$(a,"class","date-picker-header-text svelte-berpp6"),$(m,"class","month-switch-button svelte-berpp6"),$(t,"class","date-picker-header svelte-berpp6"),$(_,"class","none-button svelte-berpp6"),$(w,"class","none-button svelte-berpp6"),$(y,"class","date-picker-footer svelte-berpp6"),$(e,"class","date-picker svelte-berpp6")},m(E,D){W(E,e,D),X(e,t),X(t,n),X(t,i),X(t,a),X(a,o),X(o,s),X(a,l),X(a,c),X(t,p),X(t,m),X(e,h),be(d,e,null),X(e,g),X(e,y),X(y,_),X(y,b),X(y,w),S=!0,x||(C=[Ie(n,"click",r[4]),Ie(c,"input",r[5]),Ie(m,"click",r[3]),Ie(_,"click",r[7]),Ie(w,"click",r[8])],x=!0)},p(E,[D]){(!S||D&2)&&u!==(u=Fg(E[1])+"")&&gt(s,u),(!S||D&4&&f!==(f=E[2].toString())&&c.value!==f)&&(c.value=f);let N={};D&2&&(N.month=E[1]),D&4&&(N.year=E[2]),D&1&&(N.selectedDate=E[0]),d.$set(N)},i(E){S||(Q(d.$$.fragment,E),S=!0)},o(E){ie(d.$$.fragment,E),S=!1},d(E){E&&G(e),xe(d),x=!1,Ct(C)}}}function Ore(r,e,t){let{selectedDate:n=(0,Ch.default)()}=e,{dateChangeCallback:i}=e,a,o;function u(){if(a===11){t(1,a=0),t(2,o+=1);return}t(1,a=a+1)}function s(){if(a===0){t(1,a=11),t(2,o-=1);return}t(1,a-=1)}function l(m){let h=m.target.value,d=Number.parseInt(h);Number.isNaN(d)||t(2,o=d)}function c(m){t(0,n=m.detail),i(m.detail)}function f(){t(0,n=null),i(null)}function p(){t(0,n=(0,Ch.default)()),i(n)}return r.$$set=m=>{"selectedDate"in m&&t(0,n=m.selectedDate),"dateChangeCallback"in m&&t(9,i=m.dateChangeCallback)},r.$$.update=()=>{if(r.$$.dirty&1)if(n)t(1,a=n.month()),t(2,o=n.year());else{let m=(0,Ch.default)();t(1,a=m.month()),t(2,o=m.year())}},[n,a,o,u,s,l,c,f,p,i]}var YA=class extends qe{constructor(e){super(),He(this,e,Ore,Pre,ze,{selectedDate:0,dateChangeCallback:9},Bre)}},LV=YA;function kre(r){let e,t,n,i,a,o,u,s,l;return{c(){e=K("div"),t=K("img"),i=le(),a=K("div"),o=K("span"),u=Le(r[1]),$(t,"class","mb-image-card-image"),zi(t.src,n=r[0].internal.imagePathToUri(r[1]))||$(t,"src",n),$(t,"alt",r[1]),$(a,"class","mb-image-card-footer"),$(e,"class","mb-image-card"),$(e,"role","button"),$(e,"tabindex","0")},m(c,f){W(c,e,f),X(e,t),X(e,i),X(e,a),X(a,o),X(o,u),s||(l=[Ie(e,"click",r[4]),Ie(e,"keydown",r[5])],s=!0)},p(c,[f]){f&3&&!zi(t.src,n=c[0].internal.imagePathToUri(c[1]))&&$(t,"src",n),f&2&&$(t,"alt",c[1]),f&2&&gt(u,c[1])},i:We,o:We,d(c){c&&G(e),s=!1,Ct(l)}}}function Rre(r,e,t){let{plugin:n}=e,{image:i}=e,{onSelect:a}=e;function o(l,c){l.key===" "&&a(c)}let u=()=>a(i),s=l=>o(l,i);return r.$$set=l=>{"plugin"in l&&t(0,n=l.plugin),"image"in l&&t(1,i=l.image),"onSelect"in l&&t(2,a=l.onSelect)},[n,i,a,o,u,s]}var jA=class extends qe{constructor(e){super(),He(this,e,Rre,kre,ze,{plugin:0,image:1,onSelect:2})}},VV=jA;function UV(r,e,t){let n=r.slice();return n[8]=e[t],n}function $V(r){let e,t;return e=new VV({props:{plugin:r[0],image:r[8].value,onSelect:r[1]}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.plugin=n[0]),i&8&&(a.image=n[8].value),i&2&&(a.onSelect=n[1]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Lre(r){let e,t,n,i,a,o,u,s=ut(r[3]),l=[];for(let f=0;f<s.length;f+=1)l[f]=$V(UV(r,s,f));let c=f=>ie(l[f],1,1,()=>{l[f]=null});return{c(){e=K("div"),t=K("input"),n=le(),i=K("div");for(let f=0;f<l.length;f+=1)l[f].c();$(t,"type","text"),$(t,"placeholder","Search Images..."),$(e,"class","mb-image-search-container"),$(i,"class","mb-image-card-grid")},m(f,p){W(f,e,p),X(e,t),Ke(t,r[2]),W(f,n,p),W(f,i,p);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(i,null);a=!0,o||(u=Ie(t,"input",r[5]),o=!0)},p(f,[p]){if(p&4&&t.value!==f[2]&&Ke(t,f[2]),p&11){s=ut(f[3]);let m;for(m=0;m<s.length;m+=1){let h=UV(f,s,m);l[m]?(l[m].p(h,p),Q(l[m],1)):(l[m]=$V(h),l[m].c(),Q(l[m],1),l[m].m(i,null))}for(yt(),m=s.length;m<l.length;m+=1)c(m);bt()}},i(f){if(!a){for(let p=0;p<s.length;p+=1)Q(l[p]);a=!0}},o(f){l=l.filter(Boolean);for(let p=0;p<l.length;p+=1)ie(l[p]);a=!1},d(f){f&&(G(e),G(n),G(i)),Gt(l,f),o=!1,u()}}}function Vre(r,e,t){let{plugin:n}=e,{options:i}=e,{onSelect:a}=e,o="",u,s=n.internal.createFuzzySearch();function l(f){if(!f){t(3,u=i);return}s.setSearch(f),t(3,u=s.filterItems(i,p=>p.value))}function c(){o=this.value,t(2,o)}return r.$$set=f=>{"plugin"in f&&t(0,n=f.plugin),"options"in f&&t(4,i=f.options),"onSelect"in f&&t(1,a=f.onSelect)},r.$$.update=()=>{r.$$.dirty&4&&l(o)},[n,a,o,u,i,c]}var ZA=class extends qe{constructor(e){super(),He(this,e,Vre,Lre,ze,{plugin:0,options:4,onSelect:1})}},qV=ZA;function zV(r,e,t){let n=r.slice();return n[1]=e[t],n}function Ure(r){let e,t,n,i=r[0].stack+"",a;return{c(){e=K("div"),t=K("pre"),n=K("code"),a=Le(i),$(n,"class","language-none mb-none"),$(t,"class","mb-pre"),$(e,"class","mb-card")},m(o,u){W(o,e,u),X(e,t),X(t,n),X(n,a)},p(o,u){u&1&&i!==(i=o[0].stack+"")&&gt(a,i)},d(o){o&&G(e)}}}function $re(r){let e,t,n,i=r[0].errorLevel+"",a,o,u=r[0].getErrorType()+"",s,l,c,f,p=r[0].effect+"",m,h,d,g,y,_,b,w,S,x=r[0].cause+"",C,E,D,N,I,O,V=r[0].effect+"",q,L,P,k,Y=r[0].positionContext&&HV(r),B=r[0].tip&&GV(r),Z=r[0].docs&&WV(r),oe=r[0].context&&jV(r);return{c(){e=K("div"),t=K("h6"),n=K("span"),a=Le(i),o=Le(`
				[`),s=Le(u),l=Le("]"),f=Le(`
			- `),m=Le(p),h=le(),Y&&Y.c(),d=le(),g=K("table"),y=K("tbody"),_=K("tr"),b=K("td"),b.textContent="Cause",w=le(),S=K("td"),C=Le(x),E=le(),D=K("tr"),N=K("td"),N.textContent="Effect",I=le(),O=K("td"),q=Le(V),L=le(),B&&B.c(),P=le(),Z&&Z.c(),k=le(),oe&&oe.c(),$(n,"class",c=r[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text"),$(e,"class","mb-card mb-card-full-width markdown-rendered")},m(ne,U){W(ne,e,U),X(e,t),X(t,n),X(n,a),X(n,o),X(n,s),X(n,l),X(t,f),X(t,m),X(e,h),Y&&Y.m(e,null),X(e,d),X(e,g),X(g,y),X(y,_),X(_,b),X(_,w),X(_,S),X(S,C),X(y,E),X(y,D),X(D,N),X(D,I),X(D,O),X(O,q),X(y,L),B&&B.m(y,null),X(y,P),Z&&Z.m(y,null),X(y,k),oe&&oe.m(y,null)},p(ne,U){U&1&&i!==(i=ne[0].errorLevel+"")&&gt(a,i),U&1&&u!==(u=ne[0].getErrorType()+"")&&gt(s,u),U&1&&c!==(c=ne[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text")&&$(n,"class",c),U&1&&p!==(p=ne[0].effect+"")&&gt(m,p),ne[0].positionContext?Y?Y.p(ne,U):(Y=HV(ne),Y.c(),Y.m(e,d)):Y&&(Y.d(1),Y=null),U&1&&x!==(x=ne[0].cause+"")&&gt(C,x),U&1&&V!==(V=ne[0].effect+"")&&gt(q,V),ne[0].tip?B?B.p(ne,U):(B=GV(ne),B.c(),B.m(y,P)):B&&(B.d(1),B=null),ne[0].docs?Z?Z.p(ne,U):(Z=WV(ne),Z.c(),Z.m(y,k)):Z&&(Z.d(1),Z=null),ne[0].context?oe?oe.p(ne,U):(oe=jV(ne),oe.c(),oe.m(y,null)):oe&&(oe.d(1),oe=null)},d(ne){ne&&G(e),Y&&Y.d(),B&&B.d(),Z&&Z.d(),oe&&oe.d()}}}function HV(r){let e,t,n=r[0].positionContext+"",i;return{c(){e=K("pre"),t=K("code"),i=Le(n),$(t,"class","language-none mb-none"),$(e,"class","mb-pre")},m(a,o){W(a,e,o),X(e,t),X(t,i)},p(a,o){o&1&&n!==(n=a[0].positionContext+"")&&gt(i,n)},d(a){a&&G(e)}}}function GV(r){let e,t,n,i,a=r[0].tip+"",o;return{c(){e=K("tr"),t=K("td"),t.textContent="Tip",n=le(),i=K("td"),o=Le(a)},m(u,s){W(u,e,s),X(e,t),X(e,n),X(e,i),X(i,o)},p(u,s){s&1&&a!==(a=u[0].tip+"")&&gt(o,a)},d(u){u&&G(e)}}}function WV(r){let e,t,n,i,a=ut(r[0].docs),o=[];for(let u=0;u<a.length;u+=1)o[u]=YV(zV(r,a,u));return{c(){e=K("tr"),t=K("td"),t.textContent="Docs",n=le(),i=K("td");for(let u=0;u<o.length;u+=1)o[u].c()},m(u,s){W(u,e,s),X(e,t),X(e,n),X(e,i);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(i,null)},p(u,s){if(s&1){a=ut(u[0].docs);let l;for(l=0;l<a.length;l+=1){let c=zV(u,a,l);o[l]?o[l].p(c,s):(o[l]=YV(c),o[l].c(),o[l].m(i,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=a.length}},d(u){u&&G(e),Gt(o,u)}}}function YV(r){let e,t=r[1]+"",n,i,a;return{c(){e=K("a"),n=Le(t),a=K("br"),$(e,"href",i=r[1])},m(o,u){W(o,e,u),X(e,n),W(o,a,u)},p(o,u){u&1&&t!==(t=o[1]+"")&&gt(n,t),u&1&&i!==(i=o[1])&&$(e,"href",i)},d(o){o&&(G(e),G(a))}}}function jV(r){let e,t,n,i,a,o,u=JSON.stringify(r[0].context,null,4)+"",s;return{c(){e=K("tr"),t=K("td"),t.textContent="Context",n=le(),i=K("td"),a=K("pre"),o=K("code"),s=Le(u),$(o,"class","language-none mb-none"),$(a,"class","mb-pre")},m(l,c){W(l,e,c),X(e,t),X(e,n),X(e,i),X(i,a),X(a,o),X(o,s)},p(l,c){c&1&&u!==(u=JSON.stringify(l[0].context,null,4)+"")&&gt(s,u)},d(l){l&&G(e)}}}function qre(r){let e;function t(a,o){return a[0]instanceof cn?$re:Ure}let n=t(r,-1),i=n(r);return{c(){i.c(),e=Sr()},m(a,o){i.m(a,o),W(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:We,o:We,d(a){a&&G(e),i.d(a)}}}function zre(r,e,t){let{error:n}=e;return r.$$set=i=>{"error"in i&&t(0,n=i.error)},[n]}var JA=class extends qe{constructor(e){super(),He(this,e,zre,qre,ze,{error:0})}},XA=JA;function ZV(r,e,t){let n=r.slice();return n[1]=e[t],n}function JV(r,e,t){let n=r.slice();return n[4]=e[t],n}function XV(r){let e,t=r[0].text+"",n;return{c(){e=K("p"),n=Le(t)},m(i,a){W(i,e,a),X(e,n)},p(i,a){a&1&&t!==(t=i[0].text+"")&&gt(n,t)},d(i){i&&G(e)}}}function QV(r){let e,t,n=r[0].code+"",i;return{c(){e=K("pre"),t=K("code"),i=Le(n),$(t,"class","language-none meta-bind-none"),$(e,"class","mb-pre")},m(a,o){W(a,e,o),X(e,t),X(t,i)},p(a,o){o&1&&n!==(n=a[0].code+"")&&gt(i,n)},d(a){a&&G(e)}}}function KV(r){let e,t,n,i,a,o=r[0].errorText&&e5(r),u=ut(r[0].errorCollection.getErrors()),s=[];for(let c=0;c<u.length;c+=1)s[c]=t5(JV(r,u,c));let l=c=>ie(s[c],1,1,()=>{s[c]=null});return{c(){e=K("h6"),e.textContent="Errors",t=le(),o&&o.c(),n=le();for(let c=0;c<s.length;c+=1)s[c].c();i=Sr()},m(c,f){W(c,e,f),W(c,t,f),o&&o.m(c,f),W(c,n,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(c,f);W(c,i,f),a=!0},p(c,f){if(c[0].errorText?o?o.p(c,f):(o=e5(c),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),f&1){u=ut(c[0].errorCollection.getErrors());let p;for(p=0;p<u.length;p+=1){let m=JV(c,u,p);s[p]?(s[p].p(m,f),Q(s[p],1)):(s[p]=t5(m),s[p].c(),Q(s[p],1),s[p].m(i.parentNode,i))}for(yt(),p=u.length;p<s.length;p+=1)l(p);bt()}},i(c){if(!a){for(let f=0;f<u.length;f+=1)Q(s[f]);a=!0}},o(c){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)ie(s[f]);a=!1},d(c){c&&(G(e),G(t),G(n),G(i)),o&&o.d(c),Gt(s,c)}}}function e5(r){let e,t=r[0].errorText+"",n;return{c(){e=K("p"),n=Le(t)},m(i,a){W(i,e,a),X(e,n)},p(i,a){a&1&&t!==(t=i[0].errorText+"")&&gt(n,t)},d(i){i&&G(e)}}}function t5(r){let e,t;return e=new XA({props:{error:r[4]}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.error=n[4]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function r5(r){let e,t,n,i,a,o=r[0].warningText&&n5(r),u=ut(r[0].errorCollection.getWarnings()),s=[];for(let c=0;c<u.length;c+=1)s[c]=i5(ZV(r,u,c));let l=c=>ie(s[c],1,1,()=>{s[c]=null});return{c(){e=K("h6"),e.textContent="Warnings",t=le(),o&&o.c(),n=le();for(let c=0;c<s.length;c+=1)s[c].c();i=Sr()},m(c,f){W(c,e,f),W(c,t,f),o&&o.m(c,f),W(c,n,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(c,f);W(c,i,f),a=!0},p(c,f){if(c[0].warningText?o?o.p(c,f):(o=n5(c),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),f&1){u=ut(c[0].errorCollection.getWarnings());let p;for(p=0;p<u.length;p+=1){let m=ZV(c,u,p);s[p]?(s[p].p(m,f),Q(s[p],1)):(s[p]=i5(m),s[p].c(),Q(s[p],1),s[p].m(i.parentNode,i))}for(yt(),p=u.length;p<s.length;p+=1)l(p);bt()}},i(c){if(!a){for(let f=0;f<u.length;f+=1)Q(s[f]);a=!0}},o(c){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)ie(s[f]);a=!1},d(c){c&&(G(e),G(t),G(n),G(i)),o&&o.d(c),Gt(s,c)}}}function n5(r){let e,t=r[0].warningText+"",n;return{c(){e=K("p"),n=Le(t)},m(i,a){W(i,e,a),X(e,n)},p(i,a){a&1&&t!==(t=i[0].warningText+"")&&gt(n,t)},d(i){i&&G(e)}}}function i5(r){let e,t;return e=new XA({props:{error:r[1]}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.error=n[1]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Hre(r){let e,t,n=r[0].errorCollection.hasErrors(),i,a=r[0].errorCollection.hasWarnings(),o,u,s=r[0].text&&XV(r),l=r[0].code&&QV(r),c=n&&KV(r),f=a&&r5(r);return{c(){s&&s.c(),e=le(),l&&l.c(),t=le(),c&&c.c(),i=le(),f&&f.c(),o=Sr()},m(p,m){s&&s.m(p,m),W(p,e,m),l&&l.m(p,m),W(p,t,m),c&&c.m(p,m),W(p,i,m),f&&f.m(p,m),W(p,o,m),u=!0},p(p,[m]){p[0].text?s?s.p(p,m):(s=XV(p),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),p[0].code?l?l.p(p,m):(l=QV(p),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),m&1&&(n=p[0].errorCollection.hasErrors()),n?c?(c.p(p,m),m&1&&Q(c,1)):(c=KV(p),c.c(),Q(c,1),c.m(i.parentNode,i)):c&&(yt(),ie(c,1,1,()=>{c=null}),bt()),m&1&&(a=p[0].errorCollection.hasWarnings()),a?f?(f.p(p,m),m&1&&Q(f,1)):(f=r5(p),f.c(),Q(f,1),f.m(o.parentNode,o)):f&&(yt(),ie(f,1,1,()=>{f=null}),bt())},i(p){u||(Q(c),Q(f),u=!0)},o(p){ie(c),ie(f),u=!1},d(p){p&&(G(e),G(t),G(i),G(o)),s&&s.d(p),l&&l.d(p),c&&c.d(p),f&&f.d(p)}}}function Gre(r,e,t){let{settings:n}=e;return r.$$set=i=>{"settings"in i&&t(0,n=i.settings)},[n]}var QA=class extends qe{constructor(e){super(),He(this,e,Gre,Hre,ze,{settings:0})}},vs=QA;function a5(r){let e,t,n,i,a;function o(l,c){return c&1&&(t=null),c&1&&(n=null),t==null&&(t=!!l[0].errorCollection.hasErrors()),t?jre:(n==null&&(n=!!l[0].errorCollection.hasWarnings()),n?Yre:Wre)}let u=o(r,-1),s=u(r);return{c(){e=K("div"),s.c(),$(e,"class","mb-error-collection"),$(e,"role","button"),$(e,"tabindex","0")},m(l,c){W(l,e,c),s.m(e,null),i||(a=[Ie(e,"click",r[3]),Ie(e,"keydown",r[4])],i=!0)},p(l,c){u!==(u=o(l,c))&&(s.d(1),s=u(l),s&&(s.c(),s.m(e,null)))},d(l){l&&G(e),s.d(),i=!1,Ct(a)}}}function Wre(r){let e,t,n,i;return{c(){e=Mi("svg"),t=Mi("circle"),n=Mi("path"),i=Mi("path"),$(t,"cx","12"),$(t,"cy","12"),$(t,"r","10"),$(n,"d","M12 16v-4"),$(i,"d","M12 8h.01"),$(e,"xmlns","http://www.w3.org/2000/svg"),$(e,"width","24"),$(e,"height","24"),$(e,"viewBox","0 0 24 24"),$(e,"fill","none"),$(e,"stroke","currentColor"),$(e,"stroke-width","2"),$(e,"stroke-linecap","round"),$(e,"stroke-linejoin","round"),$(e,"class","lucide lucide-info")},m(a,o){W(a,e,o),X(e,t),X(e,n),X(e,i)},d(a){a&&G(e)}}}function Yre(r){let e,t,n,i;return{c(){e=Mi("svg"),t=Mi("path"),n=Mi("line"),i=Mi("line"),$(t,"d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"),$(n,"x1","12"),$(n,"x2","12"),$(n,"y1","9"),$(n,"y2","13"),$(i,"x1","12"),$(i,"x2","12.01"),$(i,"y1","17"),$(i,"y2","17"),$(e,"xmlns","http://www.w3.org/2000/svg"),$(e,"width","24"),$(e,"height","24"),$(e,"viewBox","0 0 24 24"),$(e,"fill","none"),$(e,"stroke","currentColor"),$(e,"stroke-width","2"),$(e,"stroke-linecap","round"),$(e,"stroke-linejoin","round"),$(e,"class","lucide lucide-alert-triangle")},m(a,o){W(a,e,o),X(e,t),X(e,n),X(e,i)},d(a){a&&G(e)}}}function jre(r){let e,t,n,i,a,o;return{c(){e=Mi("svg"),t=Mi("circle"),n=Mi("line"),i=Mi("line"),a=le(),o=K("span"),o.textContent="[META_BIND_ERROR]",$(t,"cx","12"),$(t,"cy","12"),$(t,"r","10"),$(n,"x1","12"),$(n,"x2","12"),$(n,"y1","8"),$(n,"y2","12"),$(i,"x1","12"),$(i,"x2","12.01"),$(i,"y1","16"),$(i,"y2","16"),$(e,"xmlns","http://www.w3.org/2000/svg"),$(e,"width","24"),$(e,"height","24"),$(e,"viewBox","0 0 24 24"),$(e,"fill","none"),$(e,"stroke","currentColor"),$(e,"stroke-width","2"),$(e,"stroke-linecap","round"),$(e,"stroke-linejoin","round"),$(e,"class","lucide lucide-alert-circle"),$(o,"class","mb-error")},m(u,s){W(u,e,s),X(e,t),X(e,n),X(e,i),W(u,a,s),W(u,o,s)},d(u){u&&(G(e),G(a),G(o))}}}function Zre(r){let e=!r[0].errorCollection.isEmpty(),t,n=e&&a5(r);return{c(){n&&n.c(),t=Sr()},m(i,a){n&&n.m(i,a),W(i,t,a)},p(i,[a]){a&1&&(e=!i[0].errorCollection.isEmpty()),e?n?n.p(i,a):(n=a5(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:We,o:We,d(i){i&&G(t),n&&n.d(i)}}}function Jre(r,e,t){let{plugin:n}=e,{settings:i}=e;function a(){n.internal.openErrorCollectionViewModal(i)}let o=()=>a(),u=s=>{s.key===" "&&a()};return r.$$set=s=>{"plugin"in s&&t(2,n=s.plugin),"settings"in s&&t(0,i=s.settings)},[i,a,n,o,u]}var KA=class extends qe{constructor(e){super(),He(this,e,Jre,Zre,ze,{plugin:2,settings:0})}},sf=KA;var Th=class extends Ua{constructor(e,t,n){super(e,t),this.ipf=n}getItemText(e){return e.displayValue}getItems(){return this.plugin.internal.getSuggesterOptions(this.ipf)}};function Xre(r){let e,t,n;return{c(){e=K("input"),$(e,"type","text")},m(i,a){W(i,e,a),Ke(e,r[1]),t||(n=Ie(e,"input",r[3]),t=!0)},p(i,a){a&2&&e.value!==i[1]&&Ke(e,i[1])},d(i){i&&G(e),t=!1,n()}}}function Qre(r){let e,t,n;return{c(){e=K("textarea")},m(i,a){W(i,e,a),Ke(e,r[1]),t||(n=Ie(e,"input",r[2]),t=!0)},p(i,a){a&2&&Ke(e,i[1])},d(i){i&&G(e),t=!1,n()}}}function Kre(r){let e;return{c(){e=Le("OK")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function ene(r){let e;return{c(){e=Le("Cancel")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function tne(r){let e,t,n,i;return e=new wt({props:{variant:"primary",$$slots:{default:[Kre]},$$scope:{ctx:r}}}),e.$on("click",r[4]),n=new wt({props:{$$slots:{default:[ene]},$$scope:{ctx:r}}}),n.$on("click",r[5]),{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment)},m(a,o){be(e,a,o),W(a,t,o),be(n,a,o),i=!0},p(a,o){let u={};o&64&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);let s={};o&64&&(s.$$scope={dirty:o,ctx:a}),n.$set(s)},i(a){i||(Q(e.$$.fragment,a),Q(n.$$.fragment,a),i=!0)},o(a){ie(e.$$.fragment,a),ie(n.$$.fragment,a),i=!1},d(a){a&&G(t),xe(e,a),xe(n,a)}}}function rne(r){let e,t=r[0].subTitle+"",n,i,a,o,u,s;function l(p,m){return p[0].multiline?Qre:Xre}let c=l(r,-1),f=c(r);return u=new $a({props:{$$slots:{default:[tne]},$$scope:{ctx:r}}}),{c(){e=K("p"),n=Le(t),i=le(),a=K("div"),f.c(),o=le(),we(u.$$.fragment),$(a,"class","mb-full-width-text-input")},m(p,m){W(p,e,m),X(e,n),W(p,i,m),W(p,a,m),f.m(a,null),W(p,o,m),be(u,p,m),s=!0},p(p,[m]){(!s||m&1)&&t!==(t=p[0].subTitle+"")&&gt(n,t),c===(c=l(p,m))&&f?f.p(p,m):(f.d(1),f=c(p),f&&(f.c(),f.m(a,null)));let h={};m&67&&(h.$$scope={dirty:m,ctx:p}),u.$set(h)},i(p){s||(Q(u.$$.fragment,p),s=!0)},o(p){ie(u.$$.fragment,p),s=!1},d(p){p&&(G(e),G(i),G(a),G(o)),f.d(),xe(u,p)}}}function nne(r,e,t){let{options:n}=e,i=n.value;function a(){i=this.value,t(1,i)}function o(){i=this.value,t(1,i)}let u=()=>n.onSubmit(i),s=()=>n.onCancel();return r.$$set=l=>{"options"in l&&t(0,n=l.options)},[n,i,a,o,u,s]}var eD=class extends qe{constructor(e){super(),He(this,e,nne,rne,ze,{options:0})}},o5=eD;var Mh=class{constructor(e){this.plugin=e}openCommandSelectModal(e){this.createSearchModal(new Dh(this.plugin,e)).open()}openFileSelectModal(e){this.createSearchModal(new Eh(this.plugin,e)).open()}openFolderSelectModal(e){this.createSearchModal(new Nh(this.plugin,e)).open()}openButtonBuilderModal(e){this.createModal(new Ll(this.plugin,e),{title:"Meta Bind Button Builder"}).open()}openSuggesterModal(e,t){this.createSearchModal(new Th(this.plugin,t,e)).open()}openImageSuggesterModal(e,t){this.createModal(new mu((n,i)=>new qV({target:i,props:{plugin:this.plugin,options:this.getImageSuggesterOptions(e),onSelect:a=>{t(a),n.closeModal()}}})),{title:"Meta Bind Image Suggester",classes:["mb-image-suggester-modal"]}).open()}openDatePickerModal(e){this.createModal(new mu((t,n)=>new LV({target:n,props:{selectedDate:e.getInternalValue(),dateChangeCallback:i=>{e.setInternalValue(i),t.closeModal()}}})),{title:"Meta Bind Date Picker"}).open()}openTextPromptModal(e){this.createModal(new mu((t,n)=>new o5({target:n,props:{options:{...e,onSubmit:i=>{e.onSubmit(i),t.closeModal()},onCancel:()=>{e.onCancel(),t.closeModal()}}}})),e).open()}openErrorCollectionViewModal(e){this.createModal(new mu((t,n)=>new vs({target:n,props:{settings:e}})),{title:"Meta Bind Error Overview",classes:["mb-error-collection-modal","markdown-rendered"]}).open()}createErrorIndicator(e,t){new sf({target:e,props:{plugin:this.plugin,settings:t}})}isFilePathExcluded(e){for(let t of this.plugin.settings.excludedFolders)if(e.startsWith(t))return!0;return!1}};var uf=require("obsidian");var Fh=class{constructor(e,t,n,i){this.plugin=e,this.containerEl=t,this.code=i;let a=e.app.vault.getAbstractFileByPath(n);if(!(a instanceof uf.TFile))throw new Error(`File not found: ${n}`);this.file=a,this.jsEngine=gs(this.plugin),this.renderComponent=new uf.Component}async evaluateCode(e){return this.jsEngine.internal.execute({code:this.code,context:{file:this.file,line:0,metadata:this.plugin.app.metadataCache.getFileCache(this.file)},container:this.containerEl,component:this.renderComponent,contextOverrides:e})}async evaluate(e){try{ft.empty(this.containerEl),ft.removeClass(this.containerEl,"mb-error"),this.renderComponent.unload(),this.renderComponent=new uf.Component,this.renderComponent.load();let t=await this.evaluateCode(e),n=this.jsEngine.internal.createRenderer(this.containerEl,this.file.path,this.renderComponent);await n.render(t.result);let i=n.convertToSimpleObject(t.result);return console.log(i,typeof i),i}catch(t){t instanceof Error&&(this.containerEl.innerText=t.message,ft.addClass(this.containerEl,"mb-error"));return}}unload(){this.renderComponent.unload()}};var s5=require("obsidian");var Ih=class extends s5.Modal{constructor(e,t,n){super(e.app),this.content=t,t.setModal(this),this.options=n}onOpen(){var e,t;(e=this.options)!=null&&e.title&&this.titleEl.setText(this.options.title),(t=this.options)!=null&&t.classes&&ft.addClasses(this.modalEl,this.options.classes),this.content.mount(this.contentEl)}onClose(){this.content.unmount()}};var u5=require("obsidian"),Bh=class extends u5.FuzzySuggestModal{constructor(e,t){super(e.app),this.content=t}getItems(){return this.content.getItems()}getItemText(e){return this.content.getItemText(e)}onChooseItem(e,t){this.content.onSelected(e)}};var yi=require("obsidian");var ys=class{constructor(e,t){this.value=e,this.displayValue=t}valueAsString(){var e,t;return(t=(e=this.value)==null?void 0:e.toString())!=null?t:"null"}};function l5(r){let e=[];for(let t of r.children)t instanceof yi.TFile&&c5(t.extension)&&e.push(new ys(t.path,t.name)),t instanceof yi.TFolder&&e.push(...l5(t));return e}function ine(r,e,t){let n=[];for(let i of e){let a=i.value;if(a.startsWith('"')&&a.endsWith('"'))a=a.substring(1,a.length-1);else{let u=new _r({errorLevel:"ERROR",effect:"failed to get suggest options",cause:"expected suggest option query for image suggester to start and end with double quotation marks"});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}let o;if(a===""||a==="."?o=t.app.vault.getRoot():o=t.app.vault.getAbstractFileByPath(a),o==null){let u=new _r({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${a} for image suggester to exist`});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}if(!(o instanceof yi.TFolder)){let u=new _r({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${i.value} for image suggester to be a folder`});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}n.push(...l5(o))}for(let i of r){let a=ca(i.value);if(!a){let u=new _r({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} to be truthy`});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}let o=t.app.vault.getAbstractFileByPath(a);if(!o){let u=new _r({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to exist`});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}if(!(o instanceof yi.TFile)){let u=new _r({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be a file`});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}if(!c5(o.extension)){let u=new _r({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be an image file`});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}n.push(new ys(o.path,o.name))}return n}function c5(r){return["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp"].contains(r)}function f5(r,e){let t=e.base.getArguments("option"),n=e.base.getArguments("optionQuery");return ine(t,n,r)}var p5=require("obsidian");function ane(r,e,t,n,i){let a=[];for(let o of t)a.push(new ys(o.value,o.name));if(n.length>0){let o;try{o=dV(r)}catch(s){return new p5.Notice("meta-bind | Dataview needs to be installed and enabled to use suggest option queries. Check the console for more information."),console.warn("meta-bind | failed to get dataview api",s),a}let u=ce.object({name:ce.string().min(1),path:ce.string().min(1)});for(let s of n)o.pages(s.value,e).forEach(c=>{try{let f=c.file;if(!u.safeParse(f).success)return;let p=X6(f.path,f.name,i);a.push(new ys(p,`file: ${f.name}`))}catch(f){console.warn("meta-bind | error while computing suggest options",f)}})}return a}function m5(r,e){let t=e.base.getArguments("option"),n=e.base.getArguments("optionQuery"),i=e.base.getArgument("useLinks");return ane(r,e.base.getFilePath(),t,n,i===void 0?"true":i.value)}var d5=require("obsidian"),Ph=class{constructor(){}setSearch(e){this.preparedSearch=(0,d5.prepareFuzzySearch)(e)}filterItems(e,t){return this.preparedSearch?e.filter(n=>{var i,a;return((a=(i=this.preparedSearch)==null?void 0:i.call(this,t(n)))==null?void 0:a.score)!=null}):e}};var h5=require("obsidian"),Oh=class{constructor(){this.menu=new h5.Menu}setItems(e){for(let t of e)this.menu.addItem(n=>{n.setTitle(t.name),t.icon&&n.setIcon(t.icon),t.warning&&n.setWarning(t.warning),n.onClick(t.onclick)})}show(e,t){this.menu.showAtPosition({x:e,y:t},document)}showWithEvent(e){this.menu.showAtMouseEvent(e)}};var kh=class extends Mh{constructor(e){super(e),this.app=e.app}getLifecycleHookValidator(){return ce.instanceof(Pr.Component)}getImageSuggesterOptions(e){return f5(this.plugin,e)}getSuggesterOptions(e){return m5(this.plugin,e)}async renderMarkdown(e,t,n){let i=new Pr.Component;return i.load(),await Pr.MarkdownRenderer.render(this.app,e,t,n,i),()=>i.unload()}executeCommandById(e){return this.app.commands.executeCommandById(e)}isJsEngineAvailable(){try{return gs(this.plugin),!0}catch(e){return!1}}async jsEngineRunFile(e,t,n,i){let a=gs(this.plugin),o=this.app.vault.getAbstractFileByPath(t);if(!o||!(o instanceof Pr.TFile))throw new Error(`calling file not found: ${t}`);let u=this.app.metadataCache.getFileCache(o),s=new Pr.Component;return await a.internal.executeFile(e,{component:s,container:i,context:{metadata:u,file:o,line:0},contextOverrides:n}),()=>s.unload()}async jsEngineRunCode(e,t,n){let i=gs(this.plugin),a=this.app.vault.getAbstractFileByPath(t);if(!a||!(a instanceof Pr.TFile))throw new Error(`calling file not found: ${t}`);let o=this.app.metadataCache.getFileCache(a),u=new Pr.Component;return await i.internal.execute({code:e,component:u,container:n,context:{metadata:o,file:a,line:0}}),()=>u.unload()}createJsRenderer(e,t,n){return new Fh(this.plugin,e,t,n)}openFile(e,t,n){this.app.workspace.openLinkText(e,t,n)}getFilePathByName(e,t=""){var n;return(n=this.app.metadataCache.getFirstLinkpathDest(e,t))==null?void 0:n.path}showNotice(e){new Pr.Notice(e)}parseYaml(e){return(0,Pr.parseYaml)(e)}stringifyYaml(e){return(0,Pr.stringifyYaml)(e)}setIcon(e,t){(0,Pr.setIcon)(e,t)}imagePathToUri(e){return this.app.vault.adapter.getResourcePath(e)}createModal(e,t){return new Ih(this.plugin,e,t)}createSearchModal(e){return new Bh(this.plugin,e)}getAllCommands(){return this.app.commands.listCommands().map(e=>({id:e.id,name:e.name}))}getAllFiles(){return this.app.vault.getAllLoadedFiles().filter(e=>e instanceof Pr.TFile).map(e=>e.path)}getAllFolders(){return this.app.vault.getAllLoadedFiles().filter(e=>e instanceof Pr.TFolder).map(e=>e.path)}createFuzzySearch(){return new Ph}async readFilePath(e){let t=this.app.vault.getAbstractFileByPath(e);if(!t||!(t instanceof Pr.TFile))throw new Error(`file not found: ${e}`);return this.app.vault.cachedRead(t)}writeFilePath(e,t){return this.app.vault.adapter.write(e,t)}createContextMenu(e){let t=new Oh;return t.setItems(e),t}async createFile(e,t,n,i){let a=this.app.vault.getAvailablePath((0,Pr.normalizePath)(e+"/"+t),n),o=await this.app.vault.create(a,"");if(i){let u=this.app.workspace.getLeaf(!1);u&&await u.openFile(o,{state:{mode:"source"}})}return o.path}async evaluateTemplaterTemplate(e,t){let n=$A(this.plugin),i=this.app.vault.getAbstractFileByPath(e);if(!i||!(i instanceof Pr.TFile))throw new Error(`Template file not found: ${e}`);let a=this.app.vault.getAbstractFileByPath(t);if(!a||!(a instanceof Pr.TFile))throw new Error(`Target file not found: ${t}`);let o=n.create_running_config(i,a,4);return await n.read_and_parse_template(o)}async createNoteWithTemplater(e,t,n,i){let a=$A(this.plugin),o=this.app.vault.getAbstractFileByPath(e);if(!o||!(o instanceof Pr.TFile))throw new Error(`Template file not found: ${e}`);let u;if(t!==void 0){let l=this.app.vault.getAbstractFileByPath(t);if(!l||!(l instanceof Pr.TFolder))throw new Error(`Folder not found: ${t}`);u=l}let s=await a.create_new_note_from_template(o,u,n,i!=null?i:!0);return s==null?void 0:s.path}};var tD=require("obsidian");var Rh=class extends Eu{constructor(e,t,n){super(t,n),this.plugin=e,this.plugin.registerEvent(this.plugin.app.metadataCache.on("changed",(i,a,o)=>{var u;this.manager.onExternalUpdate(this,i.path,(u=structuredClone(o.frontmatter))!=null?u:{})}))}readExternal(e){var i,a;let t=this.plugin.app.vault.getAbstractFileByPath(e);if(t==null||!(t instanceof tD.TFile))throw new Ot({errorLevel:"CRITICAL",effect:"can not get default cache item",cause:`no file for path "${e}" found or path is not a file`});let n=(i=this.plugin.app.metadataCache.getFileCache(t))==null?void 0:i.frontmatter;return(a=structuredClone(n))!=null?a:{}}getDefaultCacheItem(e){var i,a;let t=this.plugin.app.vault.getAbstractFileByPath(e);if(t==null||!(t instanceof tD.TFile))throw new Ot({errorLevel:"CRITICAL",effect:"can not get default cache item",cause:`no file for path "${e}" found or path is not a file`});let n=(i=this.plugin.app.metadataCache.getFileCache(t))==null?void 0:i.frontmatter;return console.log("meta-bind | Obs Source >> loaded frontmatter",structuredClone(n),e),{data:(a=structuredClone(n))!=null?a:{},storagePath:e,file:t,...this.manager.getDefaultCacheItem()}}getTags(e){var a,o,u;let t=this.plugin.app.metadataCache.getFileCache(e);if(!t)return[];let n=(o=(a=t.tags)==null?void 0:a.map(s=>s.tag.substring(1)))!=null?o:[],i=(u=t.frontmatter)==null?void 0:u.tags;return i&&(Array.isArray(i)?n.push(...i):n.push(i)),Array.from(new Set(n))}async syncExternal(e){await this.plugin.app.fileManager.processFrontMatter(e.file,t=>{Object.assign(t,e.data)})}};var one=["true","false","on","off","yes","no"],sne=new RegExp("\\b(("+one.join(")|(")+"))$","i"),lf={name:"yaml",token:function(r,e){var t=r.peek(),n=e.escaped;if(e.escaped=!1,t=="#"&&(r.pos==0||/\s/.test(r.string.charAt(r.pos-1))))return r.skipToEnd(),"comment";if(r.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(e.literal&&r.indentation()>e.keyCol)return r.skipToEnd(),"string";if(e.literal&&(e.literal=!1),r.sol()){if(e.keyCol=0,e.pair=!1,e.pairStart=!1,r.match("---")||r.match("..."))return"def";if(r.match(/^\s*-\s+/))return"meta"}if(r.match(/^(\{|\}|\[|\])/))return t=="{"?e.inlinePairs++:t=="}"?e.inlinePairs--:t=="["?e.inlineList++:e.inlineList--,"meta";if(e.inlineList>0&&!n&&t==",")return r.next(),"meta";if(e.inlinePairs>0&&!n&&t==",")return e.keyCol=0,e.pair=!1,e.pairStart=!1,r.next(),"meta";if(e.pairStart){if(r.match(/^\s*(\||\>)\s*/))return e.literal=!0,"meta";if(r.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable";if(e.inlinePairs==0&&r.match(/^\s*-?[0-9\.\,]+\s?$/)||e.inlinePairs>0&&r.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(r.match(sne))return"keyword"}return!e.pair&&r.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(e.pair=!0,e.keyCol=r.indentation(),"atom"):e.pair&&r.match(/^:\s*/)?(e.pairStart=!0,"meta"):(e.pairStart=!1,e.escaped=t=="\\",r.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},languageData:{commentTokens:{line:"#"}}};function g5(r){if(!r.settings.enableSyntaxHighlighting)return;window.CodeMirror.defineMode("meta-bind-button",t=>({startState:()=>{var i,a;return(a=(i=lf).startState)==null?void 0:a.call(i,4)},blankLine:i=>{var a,o;return(o=(a=lf).blankLine)==null?void 0:o.call(a,i,4)},copyState:i=>{var a,o;return(o=(a=lf).startState)==null?void 0:o.call(a,4)},token:(i,a)=>{var o,u;return`line-HyperMD-codeblock ${(u=(o=lf).token)==null?void 0:u.call(o,i,a)}`}}));let e=/^\s*(```+|~~~+)/;window.CodeMirror.defineMode("meta-bind",t=>({startState:()=>({str:void 0,mdrcType:void 0,highlights:void 0,line:1}),token:(i,a)=>{if(a.str===void 0){let s=[i.string],l=1,c=i.lookAhead(l);for(;c!==void 0&&!e.test(c)&&(s.push(c),l+=1,c=i.lookAhead(l),!(l>100)););a.str=s.filter(p=>p.trim()!=="").join(`
`);let f=r.api.isInlineFieldDeclarationAndGetType(a.str.trim());f===void 0?a.highlights=new no(a.str,[]):(a.mdrcType=f,a.highlights=r.api.syntaxHighlighting.highlight(a.str,a.mdrcType,!0))}let u=a.highlights.getHighlights().filter(s=>s.range.from.line===a.line).find(s=>s.range.from.column===i.pos+1);return u===void 0?(i.next(),i.eol()&&(a.line+=1),"line-HyperMD-codeblock"):(i.eatWhile(()=>i.pos+1<u.range.to.column)||i.next(),i.eol()&&(a.line+=1),`line-HyperMD-codeblock mb-highlight-${u.tokenClass}`)}}))}var cD=require("@codemirror/language"),hu=require("@codemirror/view");var Yr=class extends Error{},cf=class extends Error{};var Vl=function(r){return this instanceof Vl?(this.v=r,this):new Vl(r)},une=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||u(p,m)})})}function u(p,m){try{s(n[p](m))}catch(h){f(a[0][3],h)}}function s(p){p.value instanceof Vl?Promise.resolve(p.value.v).then(l,c):f(a[0][2],p)}function l(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}},Aa;(function(r){r[r.SHORTEST=0]="SHORTEST",r[r.LONGEST=1]="LONGEST",r[r.STRICT_EQUAL=2]="STRICT_EQUAL"})(Aa||(Aa={}));function*rD(r,e,...t){if(t.length===0)return;let n=[];for(let i of t)n.push(v5(i));e:for(;;){let i=b5.map(n,s=>s.next()),a=[],o=!0,u=!1;for(let s of i){let l;s.done?(o=!1,l=e):(u=!0,l=s.value),a.push(l)}if(!o&&u)switch(r){case Aa.SHORTEST:break e;case Aa.STRICT_EQUAL:throw new cf("Iterators must have equal lengths")}if(!u)break;yield a}}function nD(r,e,...t){return une(this,arguments,function*(){if(t.length===0)return yield Vl(void 0);let i=[];for(let a of t)i.push(y5(a));e:for(;;){let a=[];for(let l of i){let c=yield Vl(l.next());a.push(c)}let o=[],u=!0,s=!1;for(let l of a){let c;l.done?(u=!1,c=e):(s=!0,c=l.value),o.push(c)}if(!u&&s)switch(r){case Aa.SHORTEST:break e;case Aa.STRICT_EQUAL:throw new cf("Iterators must have equal lengths")}if(!s)break;yield yield Vl(o)}})}var x5=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(u,s){o=r[a](o),i(u,s,o.done,o.value)})}}function i(a,o,u,s){Promise.resolve(s).then(function(l){a({value:l,done:u})},o)}},xo=function(r){return this instanceof xo?(this.v=r,this):new xo(r)},w5=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||u(p,m)})})}function u(p,m){try{s(n[p](m))}catch(h){f(a[0][3],h)}}function s(p){p.value instanceof xo?Promise.resolve(p.value.v).then(l,c):f(a[0][2],p)}function l(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}};function*_5(...r){for(let e of rD(Aa.SHORTEST,void 0,...r))yield e}function S5(...r){return w5(this,arguments,function*(){var t,n,i,a;try{for(var o=!0,u=x5(nD(Aa.SHORTEST,void 0,...r)),s;s=yield xo(u.next()),t=s.done,!t;){a=s.value,o=!1;try{yield yield xo(a)}finally{o=!0}}}catch(l){n={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield xo(i.call(u)))}finally{if(n)throw n.error}}})}function*A5(...r){for(let e of rD(Aa.STRICT_EQUAL,void 0,...r))yield e}function D5(...r){return w5(this,arguments,function*(){var t,n,i,a;try{for(var o=!0,u=x5(nD(Aa.STRICT_EQUAL,void 0,...r)),s;s=yield xo(u.next()),t=s.done,!t;){a=s.value,o=!1;try{yield yield xo(a)}finally{o=!0}}}catch(l){n={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield xo(i.call(u)))}finally{if(n)throw n.error}}})}var E5=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(c){try{l(n.next(c))}catch(f){o(f)}}function s(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(u,s)}l((n=n.apply(r,e||[])).next())})},lne=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(u,s){o=r[a](o),i(u,s,o.done,o.value)})}}function i(a,o,u,s){Promise.resolve(s).then(function(l){a({value:l,done:u})},o)}};function cne(r,e,t){let n=t;for(let i of br(r))n=e(n,i);return n}function fne(r,e,t){var n,i,a,o;return E5(this,void 0,void 0,function*(){let u=t;try{for(var s=!0,l=lne(xr(r)),c;c=yield l.next(),n=c.done,!n;){o=c.value,s=!1;try{u=yield e(u,o)}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!n&&(a=l.return)&&(yield a.call(l))}finally{if(i)throw i.error}}return u})}function iD(r){switch(!0){case r instanceof Array:return r.length;case qa(r):return r.length;case r instanceof Set:return r.size;case r instanceof Map:return r.size}return cne(r,e=>e+1,0)}function N5(r){return E5(this,void 0,void 0,function*(){switch(!0){case r instanceof Array:case qa(r):case r instanceof Set:case r instanceof Map:return iD(r)}return yield fne(r,e=>e+1,0)})}var Da=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(c){try{l(n.next(c))}catch(f){o(f)}}function s(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(u,s)}l((n=n.apply(r,e||[])).next())})},wo=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(u,s){o=r[a](o),i(u,s,o.done,o.value)})}}function i(a,o,u,s){Promise.resolve(s).then(function(l){a({value:l,done:u})},o)}};function C5(r,e){for(let t of br(r))if(!e(t))return!1;return!0}function T5(r,e){var t,n,i,a;return Da(this,void 0,void 0,function*(){try{for(var o=!0,u=wo(xr(r)),s;s=yield u.next(),t=s.done,!t;){a=s.value,o=!1;try{if(!(yield e(a)))return!1}finally{o=!0}}}catch(l){n={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(n)throw n.error}}return!0})}function M5(r){let e=new Set;for(let t of br(r)){if(e.has(t))return!1;e.add(t)}return!0}function F5(r){var e,t,n,i;return Da(this,void 0,void 0,function*(){let a=new Set;try{for(var o=!0,u=wo(xr(r)),s;s=yield u.next(),e=s.done,!e;){i=s.value,o=!1;try{let l=i;if(a.has(l))return!1;a.add(l)}finally{o=!0}}}catch(l){t={error:l}}finally{try{!o&&!e&&(n=u.return)&&(yield n.call(u))}finally{if(t)throw t.error}}return!0})}function I5(r,e){for(let t of br(r))if(e(t))return!0;return!1}function B5(r,e){var t,n,i,a;return Da(this,void 0,void 0,function*(){try{for(var o=!0,u=wo(xr(r)),s;s=yield u.next(),t=s.done,!t;){a=s.value,o=!1;try{if(yield e(a))return!0}finally{o=!0}}}catch(l){n={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(n)throw n.error}}return!1})}function P5(r,e,t){if(e<0)return!1;t===void 0&&(t=i=>!!i);let n=0;for(let i of br(r))if(t(i)&&(n++,n>e))return!1;return n===e}function O5(r,e,t){var n,i,a,o;return Da(this,void 0,void 0,function*(){if(e<0)return!1;t===void 0&&(t=f=>!!f);let u=0;try{for(var s=!0,l=wo(xr(r)),c;c=yield l.next(),n=c.done,!n;){o=c.value,s=!1;try{if((yield t(o))&&(u++,u>e))return!1}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!n&&(a=l.return)&&(yield a.call(l))}finally{if(i)throw i.error}}return u===e})}function k5(r){for(let e of br(r))return!1;return!0}function R5(r){var e,t,n,i;return Da(this,void 0,void 0,function*(){try{for(var a=!0,o=wo(xr(r)),u;u=yield o.next(),e=u.done,!e;){i=u.value,a=!1;try{let s=i;return!1}finally{a=!0}}}catch(s){t={error:s}}finally{try{!a&&!e&&(n=o.return)&&(yield n.call(o))}finally{if(t)throw t.error}}return!0})}function bi(r){return r==null?!1:typeof r[Symbol.iterator]=="function"}function _o(r){return r==null?!1:typeof r[Symbol.asyncIterator]=="function"}function ra(r){return r==null?!1:r.next!==void 0&&typeof r.next=="function"}function L5(r){for(let[e,t]of du(br(r)))if(e<t)return!1;return!0}function V5(r){var e,t,n,i;return Da(this,void 0,void 0,function*(){try{for(var a=!0,o=wo(pf(xr(r))),u;u=yield o.next(),e=u.done,!e;){i=u.value,a=!1;try{let[s,l]=i;if(s<l)return!1}finally{a=!0}}}catch(s){t={error:s}}finally{try{!a&&!e&&(n=o.return)&&(yield n.call(o))}finally{if(t)throw t.error}}return!0})}function U5(r){for(let[e,t]of du(br(r)))if(e>t)return!1;return!0}function $5(r){var e,t,n,i;return Da(this,void 0,void 0,function*(){try{for(var a=!0,o=wo(pf(xr(r))),u;u=yield o.next(),e=u.done,!e;){i=u.value,a=!1;try{let[s,l]=i;if(s>l)return!1}finally{a=!0}}}catch(s){t={error:s}}finally{try{!a&&!e&&(n=o.return)&&(yield n.call(o))}finally{if(t)throw t.error}}return!0})}function qa(r){return typeof r=="string"||r instanceof String}function q5(r,e){for(let t of br(r))if(e(t))return!1;return!0}function z5(r,e){var t,n,i,a;return Da(this,void 0,void 0,function*(){try{for(var o=!0,u=wo(xr(r)),s;s=yield u.next(),t=s.done,!t;){a=s.value,o=!1;try{if(yield e(a))return!1}finally{o=!0}}}catch(l){n={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(n)throw n.error}}return!0})}function H5(...r){try{for(let e of A5(...r))for(let[t,n]of du(e))if(t!==n)return!1}catch(e){return!1}return!0}function G5(...r){var e,t,n,i;return Da(this,void 0,void 0,function*(){try{try{for(var a=!0,o=wo(D5(...r)),u;u=yield o.next(),e=u.done,!e;){i=u.value,a=!1;try{let s=i;for(let[l,c]of du(s))if(l!==c)return!1}finally{a=!0}}}catch(s){t={error:s}}finally{try{!a&&!e&&(n=o.return)&&(yield n.call(o))}finally{if(t)throw t.error}}}catch(s){return!1}return!0})}function W5(...r){if(r.length<=1)return!0;let e=r.map(t=>iD(t));return new Set(e).size===1}function Y5(...r){return Da(this,void 0,void 0,function*(){if(r.length<=1)return!0;let e=yield Lh(r,t=>Da(this,void 0,void 0,function*(){return yield N5(t)}));return new Set(yield ff(e)).size===1})}var pne=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(c){try{l(n.next(c))}catch(f){o(f)}}function s(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(u,s)}l((n=n.apply(r,e||[])).next())})},za=function(r){return this instanceof za?(this.v=r,this):new za(r)},aD=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||u(p,m)})})}function u(p,m){try{s(n[p](m))}catch(h){f(a[0][3],h)}}function s(p){p.value instanceof za?Promise.resolve(p.value.v).then(l,c):f(a[0][2],p)}function l(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}},j5=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(u,s){o=r[a](o),i(u,s,o.done,o.value)})}}function i(a,o,u,s){Promise.resolve(s).then(function(l){a({value:l,done:u})},o)}};function br(r){if(bi(r))return r;if(ra(r))return{[Symbol.iterator](){return r}};if(typeof r=="object"&&r!==null)return function*(){for(let e in r)Object.prototype.hasOwnProperty.call(r,e)&&(yield[e,r[e]])}();throw new Yr("Given collection is not iterable or iterator.")}function xr(r){if(_o(r))return r;if(ra(r))return{[Symbol.asyncIterator](){return aD(this,arguments,function*(){for(;;){let t=yield za(r.next());if(t.done)return yield za(void 0);yield yield za(t.value)}})}};if(typeof r=="object"&&r!==null&&(r=br(r)),bi(r))return{[Symbol.asyncIterator](){return aD(this,arguments,function*(){for(let t of r)yield yield za(t)})}};throw new Yr("Given collection is not async iterable or iterator.")}function v5(r){if(ra(r))return r;if(bi(r))return function*(){for(let e of r)yield e}();throw new Yr("Given collection is not iterable or iterator.")}function y5(r){if((ra(r)||bi(r))&&(r=xr(r)),_o(r))return function(){return aD(this,arguments,function*(){var e,t,n,i;try{for(var a=!0,o=j5(r),u;u=yield za(o.next()),e=u.done,!e;){i=u.value,a=!1;try{yield yield za(i)}finally{a=!0}}}catch(s){t={error:s}}finally{try{!a&&!e&&(n=o.return)&&(yield za(n.call(o)))}finally{if(t)throw t.error}}})}();throw new Yr("Given collection is not iterable or iterator.")}function oD(r){let e=[];for(let t of br(r))e.push(t);return e}function ff(r){var e,t,n,i;return pne(this,void 0,void 0,function*(){let a=[];try{for(var o=!0,u=j5(xr(r)),s;s=yield u.next(),e=s.done,!e;){i=s.value,o=!1;try{let l=i;a.push(l)}finally{o=!0}}}catch(l){t={error:l}}finally{try{!o&&!e&&(n=u.return)&&(yield n.call(u))}finally{if(t)throw t.error}}return a})}var bs=function(r){return this instanceof bs?(this.v=r,this):new bs(r)},mne=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(u,s){o=r[a](o),i(u,s,o.done,o.value)})}}function i(a,o,u,s){Promise.resolve(s).then(function(l){a({value:l,done:u})},o)}},dne=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||u(p,m)})})}function u(p,m){try{s(n[p](m))}catch(h){f(a[0][3],h)}}function s(p){p.value instanceof bs?Promise.resolve(p.value.v).then(l,c):f(a[0][2],p)}function l(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}};function*sD(r,e){let t=new Set;if(r instanceof Map){e===void 0&&(e=n=>n[1]);for(let n of r){let i=e(n);t.has(i)||(yield n,t.add(i))}}else{e===void 0&&(e=n=>n);for(let n of br(r)){let i=e(n);t.has(i)||(yield n,t.add(i))}}}function Z5(r,e){return dne(this,arguments,function*(){var n,i,a,o;let u=new Set;if(r instanceof Map)for(let f of sD(r,e))yield yield bs(yield bs(f));else{e===void 0&&(e=f=>f);try{for(var s=!0,l=mne(xr(r)),c;c=yield bs(l.next()),n=c.done,!n;){o=c.value,s=!1;try{let f=o,p=e(f);u.has(p)||(yield yield bs(f),u.add(p))}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!n&&(a=l.return)&&(yield bs(a.call(l)))}finally{if(i)throw i.error}}}})}var un=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(u,s){o=r[a](o),i(u,s,o.done,o.value)})}}function i(a,o,u,s){Promise.resolve(s).then(function(l){a({value:l,done:u})},o)}},at=function(r){return this instanceof at?(this.v=r,this):new at(r)},bn=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||u(p,m)})})}function u(p,m){try{s(n[p](m))}catch(h){f(a[0][3],h)}}function s(p){p.value instanceof at?Promise.resolve(p.value.v).then(l,c):f(a[0][2],p)}function l(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}};function*J5(r,e){for(let t of br(r))yield e(t)}function Lh(r,e){return bn(this,arguments,function*(){var n,i,a,o;try{for(var u=!0,s=un(xr(r)),l;l=yield at(s.next()),n=l.done,!n;){o=l.value,u=!1;try{yield yield at(yield at(e(o)))}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!n&&(a=s.return)&&(yield at(a.call(s)))}finally{if(i)throw i.error}}})}function*X5(r,e){for(let[t,n]of _5(r,e))n&&(yield t)}function Q5(r,e){return bn(this,arguments,function*(){var n,i,a,o;try{for(var u=!0,s=un(S5(r,e)),l;l=yield at(s.next()),n=l.done,!n;){o=l.value,u=!1;try{let[c,f]=o;f&&(yield yield at(c))}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!n&&(a=s.return)&&(yield at(a.call(s)))}finally{if(i)throw i.error}}})}function*K5(r,e){let t=!0;for(let n of br(r)){if(t){if(!e(n)){t=!1,yield n;continue}continue}yield n}}function eU(r,e){return bn(this,arguments,function*(){var n,i,a,o;let u=!0;try{for(var s=!0,l=un(xr(r)),c;c=yield at(l.next()),n=c.done,!n;){o=c.value,s=!1;try{let f=o;if(u){if(!(yield at(e(f)))){u=!1,yield yield at(f);continue}continue}yield yield at(f)}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!n&&(a=l.return)&&(yield at(a.call(l)))}finally{if(i)throw i.error}}})}function*tU(r,e){for(let t of br(r))if(e(t))yield t;else break}function rU(r,e){return bn(this,arguments,function*(){var n,i,a,o;try{for(var u=!0,s=un(xr(r)),l;l=yield at(s.next()),n=l.done,!n;){o=l.value,u=!1;try{let c=o;if(yield at(e(c)))yield yield at(c);else break}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!n&&(a=s.return)&&(yield at(a.call(s)))}finally{if(i)throw i.error}}})}function*nU(r,e){if(e<0)throw new Yr(`Number of repetitions cannot be negative: ${e}`);for(let t=e;t>0;--t)yield r}function iU(r,e){return bn(this,arguments,function*(){if(e<0)throw new Yr(`Number of repetitions cannot be negative: ${e}`);let n=yield at(r);for(let i=e;i>0;--i)yield yield at(n)})}function*aU(r,e){for(let t of br(r)){let n=e(t,e);if(bi(n))for(let i of br(n))yield i;else yield n}}function oU(r,e){return bn(this,arguments,function*(){var n,i,a,o,u,s,l,c;try{for(var f=!0,p=un(xr(r)),m;m=yield at(p.next()),n=m.done,!n;){o=m.value,f=!1;try{let _=yield at(e(o,e));if(bi(_)||_o(_))try{for(var h=!0,d=(s=void 0,un(xr(_))),g;g=yield at(d.next()),u=g.done,!u;){c=g.value,h=!1;try{yield yield at(c)}finally{h=!0}}}catch(b){s={error:b}}finally{try{!h&&!u&&(l=d.return)&&(yield at(l.call(d)))}finally{if(s)throw s.error}}else yield yield at(_)}finally{f=!0}}}catch(y){i={error:y}}finally{try{!f&&!n&&(a=p.return)&&(yield at(a.call(p)))}finally{if(i)throw i.error}}})}function*uD(r,e=1/0){if(e<1){for(let t of br(r))r instanceof Map&&(t=t[1]),yield t;return}for(let t of br(r))if(r instanceof Map&&(t=t[1]),(bi(t)||ra(t))&&!qa(t))for(let n of uD(t,e-1))yield n;else yield t}function lD(r,e=1/0){return bn(this,arguments,function*(){var n,i,a,o,u,s,l,c,f,p,m,h;if(e<1){try{for(var d=!0,g=un(xr(r)),y;y=yield at(g.next()),n=y.done,!n;){o=y.value,d=!1;try{let E=o;r instanceof Map&&(E=E[1]),yield yield at(E)}finally{d=!0}}}catch(E){i={error:E}}finally{try{!d&&!n&&(a=g.return)&&(yield at(a.call(g)))}finally{if(i)throw i.error}}return yield at(void 0)}try{for(var _=!0,b=un(xr(r)),w;w=yield at(b.next()),u=w.done,!u;){c=w.value,_=!1;try{let E=c;if(r instanceof Map&&(E=E[1]),(_o(E)||bi(E)||ra(E))&&!qa(E))try{for(var S=!0,x=(p=void 0,un(lD(E,e-1))),C;C=yield at(x.next()),f=C.done,!f;){h=C.value,S=!1;try{yield yield at(h)}finally{S=!0}}}catch(D){p={error:D}}finally{try{!S&&!f&&(m=x.return)&&(yield at(m.call(x)))}finally{if(p)throw p.error}}else yield yield at(E)}finally{_=!0}}}catch(E){s={error:E}}finally{try{!_&&!u&&(l=b.return)&&(yield at(l.call(b)))}finally{if(s)throw s.error}}})}function*sU(r,e){for(let t of br(r))e(t)&&(yield t)}function uU(r,e){return bn(this,arguments,function*(){var n,i,a,o;try{for(var u=!0,s=un(xr(r)),l;l=yield at(s.next()),n=l.done,!n;){o=l.value,u=!1;try{let c=o;(yield at(e(c)))&&(yield yield at(c))}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!n&&(a=s.return)&&(yield at(a.call(s)))}finally{if(i)throw i.error}}})}function*Vh(r,e,t,n=!0){if(e<1)throw new Yr(`Chunk size must be \u2265 1. Got ${e}`);if(t>=e)throw new Yr("Overlap size must be less than chunk size");let i=[],a=!1;for(let o of br(r))a=!1,i.push(o),i.length===e&&(yield i,i=i.slice(e-t),a=!0);!a&&i.length>0&&n&&(yield i)}function Uh(r,e,t,n=!0){return bn(this,arguments,function*(){var a,o,u,s;if(e<1)throw new Yr(`Chunk size must be \u2265 1. Got ${e}`);if(t>=e)throw new Yr("Overlap size must be less than chunk size");let l=[],c=!1;try{for(var f=!0,p=un(xr(r)),m;m=yield at(p.next()),a=m.done,!a;){s=m.value,f=!1;try{let h=s;c=!1,l.push(h),l.length===e&&(yield yield at(l),l=l.slice(e-t),c=!0)}finally{f=!0}}}catch(h){o={error:h}}finally{try{!f&&!a&&(u=p.return)&&(yield at(u.call(p)))}finally{if(o)throw o.error}}!c&&l.length>0&&n&&(yield yield at(l))})}function*lU(r,e){for(let t of Vh(r,e,0))yield t}function cU(r,e){return bn(this,arguments,function*(){var n,i,a,o;try{for(var u=!0,s=un(Uh(r,e,0)),l;l=yield at(s.next()),n=l.done,!n;){o=l.value,u=!1;try{yield yield at(o)}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!n&&(a=s.return)&&(yield at(a.call(s)))}finally{if(i)throw i.error}}})}function*du(r){let e=Vh(r,2,1,!1);for(let t of e)yield t}function pf(r){return bn(this,arguments,function*(){var t,n,i,a;let o=Uh(r,2,1,!1);try{for(var u=!0,s=un(o),l;l=yield at(s.next()),t=l.done,!t;){a=l.value,u=!1;try{yield yield at(a)}finally{u=!0}}}catch(c){n={error:c}}finally{try{!u&&!t&&(i=s.return)&&(yield at(i.call(s)))}finally{if(n)throw n.error}}})}function*fU(r,e){if(e<0)throw new Yr(`Limit must be \u2265 0. Got ${e}`);let t=0;for(let n of br(r)){if(t>=e)return;yield n,++t}}function pU(r,e){return bn(this,arguments,function*(){var n,i,a,o;if(e<0)throw new Yr(`Limit must be \u2265 0. Got ${e}`);let u=0;try{for(var s=!0,l=un(xr(r)),c;c=yield at(l.next()),n=c.done,!n;){o=c.value,s=!1;try{let f=o;if(u>=e)return yield at(void 0);yield yield at(f),++u}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!n&&(a=l.return)&&(yield at(a.call(l)))}finally{if(i)throw i.error}}})}function*mU(r){let e=0;for(let t of br(r))yield[e++,t]}function dU(r){return bn(this,arguments,function*(){var t,n,i,a;let o=0;try{for(var u=!0,s=un(xr(r)),l;l=yield at(s.next()),t=l.done,!t;){a=l.value,u=!1;try{let c=a;yield yield at([o++,c])}finally{u=!0}}}catch(c){n={error:c}}finally{try{!u&&!t&&(i=s.return)&&(yield at(i.call(s)))}finally{if(n)throw n.error}}})}function*hU(r,e=0,t,n=1){if(e<0)throw new Yr("Parameter 'start' cannot be negative");if(t!==void 0&&t<0)throw new Yr("Parameter 'count' cannot be negative");if(n<=0)throw new Yr("Parameter 'step' must be positive");let i=0,a=0;for(let o of br(r))if(!(i++<e||(i-e-1)%n!==0)){if(a++===t&&t!==void 0)break;yield o}}function gU(r,e=0,t,n=1){return bn(this,arguments,function*(){var a,o,u,s;if(e<0)throw new Yr("Parameter 'start' cannot be negative");if(t!==void 0&&t<0)throw new Yr("Parameter 'count' cannot be negative");if(n<=0)throw new Yr("Parameter 'step' must be positive");let l=0,c=0;try{for(var f=!0,p=un(xr(r)),m;m=yield at(p.next()),a=m.done,!a;){s=m.value,f=!1;try{let h=s;if(l++<e||(l-e-1)%n!==0)continue;if(c++===t&&t!==void 0)break;yield yield at(h)}finally{f=!0}}}catch(h){o={error:h}}finally{try{!f&&!a&&(u=p.return)&&(yield at(u.call(p)))}finally{if(o)throw o.error}}})}function*vU(r){for(let[e]of br(r))yield e}function yU(r){return bn(this,arguments,function*(){var t,n,i,a;try{for(var o=!0,u=un(xr(r)),s;s=yield at(u.next()),t=s.done,!t;){a=s.value,o=!1;try{let[l]=a;yield yield at(l)}finally{o=!0}}}catch(l){n={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield at(i.call(u)))}finally{if(n)throw n.error}}})}function*bU(r,e,t=0){if(e<0||t<0)throw new Yr;let n=-t;for(let i of br(r))(n<0||n>=e)&&(yield i),++n}function xU(r,e,t=0){return bn(this,arguments,function*(){var i,a,o,u;if(e<0||t<0)throw new Yr;let s=-t;try{for(var l=!0,c=un(xr(r)),f;f=yield at(c.next()),i=f.done,!i;){u=f.value,l=!1;try{let p=u;(s<0||s>=e)&&(yield yield at(p)),++s}finally{l=!0}}}catch(p){a={error:p}}finally{try{!l&&!i&&(o=c.return)&&(yield at(o.call(c)))}finally{if(a)throw a.error}}})}function*wU(r){for(let[,e]of br(r))yield e}function _U(r){return bn(this,arguments,function*(){var t,n,i,a;try{for(var o=!0,u=un(xr(r)),s;s=yield at(u.next()),t=s.done,!t;){a=s.value,o=!1;try{let[,l]=a;yield yield at(l)}finally{o=!0}}}catch(l){n={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield at(i.call(u)))}finally{if(n)throw n.error}}})}function*SU(r,e,t){let n=new Map,i=a=>{n.has(a)||(t!==void 0?n.set(a,{}):n.set(a,[]))};for(let a of br(r)){let o=e(a),u=t!==void 0?t(a):void 0,s=(bi(o)||ra(o))&&!qa(o)?o:[o];for(let l of sD(s))i(l),u===void 0?n.get(l).push(a):n.get(l)[u]=a}for(let a of n)yield a}function AU(r,e,t){return bn(this,arguments,function*(){var i,a,o,u,s,l,c,f;let p=new Map,m=w=>{p.has(w)||(t!==void 0?p.set(w,{}):p.set(w,[]))};try{for(var h=!0,d=un(xr(r)),g;g=yield at(d.next()),i=g.done,!i;){u=g.value,h=!1;try{let w=u,S=yield at(e(w)),x=t!==void 0?yield at(t(w)):void 0,C=(_o(S)||bi(S)||ra(S))&&!qa(S)?S:[S];try{for(var y=!0,_=(l=void 0,un(Z5(C))),b;b=yield at(_.next()),s=b.done,!s;){f=b.value,y=!1;try{let E=f;m(E),x===void 0?p.get(E).push(w):p.get(E)[x]=w}finally{y=!0}}}catch(E){l={error:E}}finally{try{!y&&!s&&(c=_.return)&&(yield at(c.call(_)))}finally{if(l)throw l.error}}}finally{h=!0}}}catch(w){a={error:w}}finally{try{!h&&!i&&(o=d.return)&&(yield at(o.call(d)))}finally{if(a)throw a.error}}for(let w of p)yield yield at(w)})}function*DU(r,e){let t=oD(r);e!==void 0?t.sort(e):t.sort();for(let n of t)yield n}function EU(r,e){return bn(this,arguments,function*(){let n=yield at(ff(r));e!==void 0?n.sort(e):n.sort();for(let i of n)yield yield at(i)})}var b5={chunkwise:lU,chunkwiseOverlap:Vh,compress:X5,dropWhile:K5,enumerate:mU,filter:sU,flatMap:aU,flatten:uD,groupBy:SU,keys:vU,limit:fU,map:J5,pairwise:du,repeat:nU,skip:bU,slice:hU,sort:DU,takeWhile:tU,values:wU,chunkwiseAsync:cU,chunkwiseOverlapAsync:Uh,compressAsync:Q5,dropWhileAsync:eU,enumerateAsync:dU,filterAsync:uU,flatMapAsync:oU,flattenAsync:lD,groupByAsync:AU,keysAsync:yU,limitAsync:pU,mapAsync:Lh,pairwiseAsync:pf,repeatAsync:iU,skipAsync:xU,sliceAsync:gU,sortAsync:EU,takeWhileAsync:rU,valuesAsync:_U};var NU={allMatch:C5,allUnique:M5,anyMatch:I5,exactlyN:P5,isEmpty:k5,isAsyncIterable:_o,isIterable:bi,isIterator:ra,isReversed:L5,isSorted:U5,isString:qa,noneMatch:q5,same:H5,sameCount:W5,allMatchAsync:T5,allUniqueAsync:F5,anyMatchAsync:B5,exactlyNAsync:O5,isEmptyAsync:R5,isReversedAsync:V5,isSortedAsync:$5,noneMatchAsync:z5,sameAsync:G5,sameCountAsync:Y5};var $h=require("obsidian");var CU=require("obsidian");var So=class{static checkSelectionOverlap(e,t,n){if(!e)return!1;for(let i of e.ranges)if(i.to>=t&&i.from<=n)return!0;return!1}static checkRangeOverlap(e,t,n,i){return e<=i&&n<=t}static getContent(e,t,n){return e.sliceDoc(t,n)}static getCurrentFile(e){return e.state.field(CU.editorInfoField).file}static existsDecorationBetween(e,t,n){let i=!1;return e.between(t,n,()=>{i=!0}),i}static existsDecorationOfTypeBetween(e,t,n,i){let a=!1;return e.between(n,i,(o,u,s)=>{s.spec.mb_widgetType===t&&(a=!0)}),a}};function TU(r){return hu.ViewPlugin.fromClass(class{constructor(e){var t;this.component=new $h.Component,this.component.load(),this.decorations=(t=this.renderWidgets(e))!=null?t:hu.Decoration.none}isLivePreview(e){return e.field($h.editorLivePreviewField)}update(e){this.decorations=this.decorations.map(e.changes),this.updateWidgets(e.view)}updateWidgets(e){this.decorations=this.decorations.update({filter:(t,n,i)=>{var o,u;return NU.anyMatch(e.visibleRanges,s=>So.checkRangeOverlap(t,n,s.from,s.to))?!0:((u=(o=i.spec).mb_unload)==null||u.call(o),!1)}});for(let{from:t,to:n}of e.visibleRanges)(0,cD.syntaxTree)(e.state).iterate({from:t,to:n,enter:i=>{let a=i.node,o=this.getRenderInfo(e,a);o.widgetType===void 0||o.content===void 0||(o.shouldRender?(this.removeDecoration(a,"field"),this.addDecoration(a,e,"field",o.content,o.widgetType)):o.shouldHighlight?(this.removeDecoration(a,"highlight"),this.addDecoration(a,e,"highlight",o.content,o.widgetType)):this.removeDecoration(a))}})}removeDecoration(e,t){this.decorations.between(e.from-1,e.to+1,(n,i,a)=>{this.decorations=this.decorations.update({filterFrom:n,filterTo:i,filter:(o,u,s)=>{var l,c;return t&&s.spec.mb_widgetType===t?!0:((c=(l=s.spec).mb_unload)==null||c.call(l),!1)}})})}addDecoration(e,t,n,i,a){let o=e.from-1,u=e.to+1;if(So.existsDecorationOfTypeBetween(this.decorations,n,o,u))return;let s=So.getCurrentFile(t);if(!s)return;let l=this.renderWidget(e,a,n,i,s),c=Array.isArray(l)?l:[l];c.length!==0&&(this.decorations=this.decorations.update({add:c}))}getRenderInfo(e,t){var i;let n=new Set((i=t.type.name)==null?void 0:i.split("_"));if(n.has("inline-code")&&!n.has("formatting")){let a=e.state.selection,o=So.checkSelectionOverlap(a,t.from-1,t.to+1),u=this.readNode(e,t.from,t.to),s=this.isLivePreview(e.state);return{shouldRender:!o&&s,shouldHighlight:(o||!s)&&r.settings.enableSyntaxHighlighting,content:u.content,widgetType:u.widgetType}}return{shouldRender:!1,shouldHighlight:!1,content:void 0,widgetType:void 0}}readNode(e,t,n){let i=So.getContent(e.state,t,n);return{content:i,widgetType:r.api.isInlineFieldDeclarationAndGetType(i)}}renderWidgets(e){let t=So.getCurrentFile(e);if(!t)return;let n=[];for(let i of e.visibleRanges)(0,cD.syntaxTree)(e.state).iterate({from:i.from,to:i.to,enter:a=>{let o=a.node,u=this.getRenderInfo(e,o);if(!u.widgetType||!u.content)return;let s;u.shouldRender&&(s=this.renderWidget(o,u.widgetType,"field",u.content,t)),u.shouldHighlight&&(s=this.renderWidget(o,u.widgetType,"highlight",u.content,t)),s&&(Array.isArray(s)?n.push(...s):n.push(s))}});return hu.Decoration.set(n,!0)}renderWidget(e,t,n,i,a){if(n==="field"){let o=r.api.constructMDRCWidget(t,i,a.path,this.component);return hu.Decoration.replace({widget:o,mb_widgetType:"field",mb_unload:()=>{var u;(u=o.renderChild)==null||u.unload()}}).range(e.from-1,e.to+1)}else return r.api.syntaxHighlighting.highlight(i,t,!1).getHighlights().map(u=>hu.Decoration.mark({class:`mb-highlight-${u.tokenClass}`}).range(e.from+u.range.from.index,e.from+u.range.to.index))}destroy(){this.component.unload()}},{decorations:e=>e.decorations})}var mf=hr(Di()),df=hr(li());var hne=df.P.sequenceMap((r,e,t,n)=>{let i=parseInt(r),a=parseInt(e),o=parseInt(t);return new Li(i,a,o,n)},mf.P_UTILS.digits().skip(df.P.string(".")),mf.P_UTILS.digits().skip(df.P.string(".")),mf.P_UTILS.digits(),df.P.string("-").then(mf.P_UTILS.remaining()).optional()),Li=class r{constructor(e,t,n,i){this.major=e,this.minor=t,this.patch=n,this.prerelease=i}static fromString(e){return dn(hne,e)}static lessThan(e,t){return e.major<t.major?!0:e.major>t.major?!1:e.minor<t.minor?!0:e.minor>t.minor?!1:e.patch<t.patch?!0:e.patch>t.patch||e.prerelease===void 0?!1:t.prerelease===void 0?!0:e.prerelease<t.prerelease}static greaterThan(e,t){return r.lessThan(t,e)}static equals(e,t){return e.major===t.major&&e.minor===t.minor&&e.patch===t.patch&&e.prerelease===t.prerelease}toString(){return`${this.major}.${this.minor}.${this.patch}${this.prerelease===void 0?"":`-${this.prerelease}`}`}};var qh=class{constructor(e,t){this.plugin=e,this.dependencies=t}getDependency(e){let t=this.dependencies.find(n=>n.pluginId===e);if(t===void 0)throw new Ts({errorLevel:"CRITICAL",effect:"Dependency Violation Detected",cause:`Attempted to access dependency ${e} which is not a listed dependency. Please report this error.`});return t}getPlugin(e){return this.plugin.app.plugins.getPlugin(e)}throwPluginNotFound(e){throw new Ts({errorLevel:"ERROR",effect:"Dependency Violation Detected",cause:`Plugin ${e} is required, but not installed. Please install the plugin.`})}checkDependencyVersion(e,t){if(Li.lessThan(t,e.minVersion))throw new Ts({errorLevel:"ERROR",effect:"Dependency Violation Detected",cause:`Plugin ${e.pluginId} is outdated. Required version is at least ${e.minVersion}, installed version is ${t}. Please update the plugin.`});if(e.maxVersion!==void 0&&(Li.greaterThan(t,e.maxVersion)||Li.equals(t,e.maxVersion)))throw new Ts({errorLevel:"ERROR",effect:"Dependency Violation Detected",cause:`Plugin ${e.pluginId} is too new. Required version is lower than ${e.maxVersion}, installed version is ${t}. Please downgrade the plugin.`})}checkDependency(e){let t=this.getDependency(e),n=this.getPlugin(e);if(n==null)throw this.throwPluginNotFound(e),Error("unreachable");let i=Li.fromString(n.manifest.version);return this.checkDependencyVersion(t,i),n}checkDependencyOnStartup(e){let t=this.getDependency(e);if(!this.plugin.app.plugins.enabledPlugins.has(e))throw this.throwPluginNotFound(e),Error("unreachable");let n=Li.fromString(this.plugin.app.plugins.manifests[e].version);this.checkDependencyVersion(t,n)}checkDependenciesOnStartup(){let e=new Vt("Dependency Validation");for(let t of this.dependencies)if(t.checkOnStartup)try{this.checkDependencyOnStartup(t.pluginId)}catch(n){e.add(n)}return e.hasErrors()?(this.plugin.internal.openErrorCollectionViewModal({text:"The following errors were detected during dependency validation. The plugin won't load until these errors have been resolved. Please install the required plugins and restart Obsidian.",errorCollection:e}),!0):!1}};var $U=require("obsidian");function gne(r){let e;return{c(){e=K("div")},m(t,n){W(t,e,n),r[2](e)},p:We,i:We,o:We,d(t){t&&G(e),r[2](null)}}}function vne(r,e,t){let{mountable:n}=e,i;Fi(()=>{n.mount(i)}),Ys(()=>{n.unmount()});function a(o){Jr[o?"unshift":"push"](()=>{i=o,t(0,i)})}return r.$$set=o=>{"mountable"in o&&t(1,n=o.mountable)},[i,n,a]}var fD=class extends qe{constructor(e){super(),He(this,e,vne,gne,ze,{mountable:1})}},hf=fD;function yne(r){let e,t;return e=new hf({props:{mountable:r[0]}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p:We,i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function bne(r,e,t){let{declaration:n}=e,{plugin:i}=e,a=new zo(i,pr(),"","block",n);return r.$$set=o=>{"declaration"in o&&t(1,n=o.declaration),"plugin"in o&&t(2,i=o.plugin)},[a,n,i]}var pD=class extends qe{constructor(e){super(),He(this,e,bne,yne,ze,{declaration:1,plugin:2})}},MU=pD;function xne(r){let e,t,n=r[0].title+"",i,a,o,u,s,l,c,f=r[0].display+"",p,m;return o=new hf({props:{mountable:r[1]}}),s=new hf({props:{mountable:r[2]}}),{c(){e=K("div"),t=K("h3"),i=Le(n),a=le(),we(o.$$.fragment),u=le(),we(s.$$.fragment),l=le(),c=K("code"),p=Le(f),$(e,"class","mb-card")},m(h,d){W(h,e,d),X(e,t),X(t,i),X(e,a),be(o,e,null),X(e,u),be(s,e,null),X(e,l),X(e,c),X(c,p),m=!0},p(h,[d]){(!m||d&1)&&n!==(n=h[0].title+"")&&gt(i,n),(!m||d&1)&&f!==(f=h[0].display+"")&&gt(p,f)},i(h){m||(Q(o.$$.fragment,h),Q(s.$$.fragment,h),m=!0)},o(h){ie(o.$$.fragment,h),ie(s.$$.fragment,h),m=!1},d(h){h&&G(e),xe(o),xe(s)}}}function wne(r,e,t){let{declaration:n}=e,{plugin:i}=e,a=i.api.createInlineFieldFromString(n.inputField,"",void 0,"block"),o=i.api.createInlineFieldFromString(n.declaration,"",void 0,"block");return r.$$set=u=>{"declaration"in u&&t(0,n=u.declaration),"plugin"in u&&t(3,i=u.plugin)},[n,a,o,i]}var mD=class extends qe{constructor(e){super(),He(this,e,wne,xne,ze,{declaration:0,plugin:3})}},FU=mD;function IU(r,e,t){let n=r.slice();return n[6]=e[t],n}function BU(r,e,t){let n=r.slice();return n[9]=e[t],n}function PU(r,e,t){let n=r.slice();return n[9]=e[t],n}function _ne(r){let e;return{c(){e=Le("Docs")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function Sne(r){let e;return{c(){e=Le("GitHub")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function Ane(r){let e;return{c(){e=Le("Report Issue")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function OU(r){let e,t;return e=new MU({props:{declaration:r[9][1],plugin:r[0]}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.declaration=n[9][1]),i&1&&(a.plugin=n[0]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function kU(r){let e,t;return e=new FU({props:{declaration:r[9],plugin:r[0]}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.plugin=n[0]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function RU(r){let e,t,n=ut(r[6]),i=[];for(let o=0;o<n.length;o+=1)i[o]=kU(BU(r,n,o));let a=o=>ie(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Sr()},m(o,u){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,u);W(o,e,u),t=!0},p(o,u){if(u&1){n=ut(o[6]);let s;for(s=0;s<n.length;s+=1){let l=BU(o,n,s);i[s]?(i[s].p(l,u),Q(i[s],1)):(i[s]=kU(l),i[s].c(),Q(i[s],1),i[s].m(e.parentNode,e))}for(yt(),s=n.length;s<i.length;s+=1)a(s);bt()}},i(o){if(!t){for(let u=0;u<n.length;u+=1)Q(i[u]);t=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)ie(i[u]);t=!1},d(o){o&&G(e),Gt(i,o)}}}function Dne(r){let e,t,n,i,a,o,u,s,l,c,f,p,m,h,d,g,y,_,b,w,S,x,C,E,D,N,I,O,V,q,L,P,k,Y,B,Z,oe,ne,U,fe,Ee,pe,he,De,ve,de,Ae;u=new wt({props:{variant:"primary",$$slots:{default:[_ne]},$$scope:{ctx:r}}}),u.$on("click",r[3]),l=new wt({props:{$$slots:{default:[Sne]},$$scope:{ctx:r}}}),l.$on("click",r[4]),f=new wt({props:{$$slots:{default:[Ane]},$$scope:{ctx:r}}}),f.$on("click",r[5]),D=new sf({props:{plugin:r[0],settings:{errorCollection:r[1],code:LU}}}),V=new sf({props:{plugin:r[0],settings:{errorCollection:r[2],code:VU}}});let Ne=ut(Ig(r[0])),ke=[];for(let H=0;H<Ne.length;H+=1)ke[H]=OU(PU(r,Ne,H));let nt=H=>ie(ke[H],1,1,()=>{ke[H]=null}),J=ut(Object.values(zf)),ee=[];for(let H=0;H<J.length;H+=1)ee[H]=RU(IU(r,J,H));let ye=H=>ie(ee[H],1,1,()=>{ee[H]=null});return{c(){e=K("div"),t=K("h1"),t.textContent="Meta Bind FAQ",n=le(),i=K("h2"),i.textContent="Quick Access",a=le(),o=K("p"),we(u.$$.fragment),s=le(),we(l.$$.fragment),c=le(),we(f.$$.fragment),p=le(),m=K("h2"),m.textContent="Error Messages",h=le(),d=K("p"),g=Le("When creating "),y=K("a"),y.textContent="Input Fields",b=Le(` or
		`),w=K("a"),w.textContent="View Fields",x=le(),C=K("strong"),C.textContent="warnings",E=Le(` (
		`),we(D.$$.fragment),N=Le(`
		) and `),I=K("strong"),I.textContent="errors",O=Le(` (
		`),we(V.$$.fragment),q=Le(`
		) can occur. These are `),L=K("strong"),L.textContent="clickable",P=Le(` and will show a modal with detailed information about the error
		when clicked.`),k=le(),Y=K("h2"),Y.textContent="Input Fields",B=le(),Z=K("p"),Z.innerHTML=`<a href="${Rt.linkToInputFields()}">Input Fields</a> let you change the frontmatter of your notes from inside
		of notes.`,oe=le();for(let H=0;H<ke.length;H+=1)ke[H].c();ne=le(),U=K("h2"),U.textContent="View Fields",fe=le(),Ee=K("p"),Ee.innerHTML=`<a href="${Rt.linkToViewFields()}">View Fields</a> let you view and perform calculations using the frontmatter
		of your notes from inside of notes. They will update instantly to reflect changes to the frontmatter made by input
		fields and as fast as obsidian allows it for changes from other sources.`,pe=le();for(let H=0;H<ee.length;H+=1)ee[H].c();he=le(),De=K("h2"),De.textContent="Bind Targets",ve=le(),de=K("p"),de.innerHTML=`<a href="https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/inputfields/#binding-to-metadata">Bind Targets</a>
		let the plugin know what frontmatter properties to bind
		<a href="${Rt.linkToInputFields()}">Input Fields</a>
		and
		<a href="${Rt.linkToViewFields()}">View Fields</a> to.`,$(y,"href",_=Rt.linkToInputFields()),$(w,"href",S=Rt.linkToViewFields()),$(e,"class","mb-faq-view markdown-rendered")},m(H,te){W(H,e,te),X(e,t),X(e,n),X(e,i),X(e,a),X(e,o),be(u,o,null),X(o,s),be(l,o,null),X(o,c),be(f,o,null),X(e,p),X(e,m),X(e,h),X(e,d),X(d,g),X(d,y),X(d,b),X(d,w),X(d,x),X(d,C),X(d,E),be(D,d,null),X(d,N),X(d,I),X(d,O),be(V,d,null),X(d,q),X(d,L),X(d,P),X(e,k),X(e,Y),X(e,B),X(e,Z),X(e,oe);for(let se=0;se<ke.length;se+=1)ke[se]&&ke[se].m(e,null);X(e,ne),X(e,U),X(e,fe),X(e,Ee),X(e,pe);for(let se=0;se<ee.length;se+=1)ee[se]&&ee[se].m(e,null);X(e,he),X(e,De),X(e,ve),X(e,de),Ae=!0},p(H,[te]){let se={};te&16384&&(se.$$scope={dirty:te,ctx:H}),u.$set(se);let Ce={};te&16384&&(Ce.$$scope={dirty:te,ctx:H}),l.$set(Ce);let Te={};te&16384&&(Te.$$scope={dirty:te,ctx:H}),f.$set(Te);let Ye={};te&1&&(Ye.plugin=H[0]),te&2&&(Ye.settings={errorCollection:H[1],code:LU}),D.$set(Ye);let Me={};if(te&1&&(Me.plugin=H[0]),te&4&&(Me.settings={errorCollection:H[2],code:VU}),V.$set(Me),te&1){Ne=ut(Ig(H[0]));let et;for(et=0;et<Ne.length;et+=1){let At=PU(H,Ne,et);ke[et]?(ke[et].p(At,te),Q(ke[et],1)):(ke[et]=OU(At),ke[et].c(),Q(ke[et],1),ke[et].m(e,ne))}for(yt(),et=Ne.length;et<ke.length;et+=1)nt(et);bt()}if(te&1){J=ut(Object.values(zf));let et;for(et=0;et<J.length;et+=1){let At=IU(H,J,et);ee[et]?(ee[et].p(At,te),Q(ee[et],1)):(ee[et]=RU(At),ee[et].c(),Q(ee[et],1),ee[et].m(e,he))}for(yt(),et=J.length;et<ee.length;et+=1)ye(et);bt()}},i(H){if(!Ae){Q(u.$$.fragment,H),Q(l.$$.fragment,H),Q(f.$$.fragment,H),Q(D.$$.fragment,H),Q(V.$$.fragment,H);for(let te=0;te<Ne.length;te+=1)Q(ke[te]);for(let te=0;te<J.length;te+=1)Q(ee[te]);Ae=!0}},o(H){ie(u.$$.fragment,H),ie(l.$$.fragment,H),ie(f.$$.fragment,H),ie(D.$$.fragment,H),ie(V.$$.fragment,H),ke=ke.filter(Boolean);for(let te=0;te<ke.length;te+=1)ie(ke[te]);ee=ee.filter(Boolean);for(let te=0;te<ee.length;te+=1)ie(ee[te]);Ae=!1},d(H){H&&G(e),xe(u),xe(l),xe(f),xe(D),xe(V),Gt(ke,H),Gt(ee,H)}}}var LU="INPUT[someInputFieldDeclaration]",VU="INPUT[someInputFieldDeclaration]";function Ene(r,e,t){let{plugin:n}=e,i=new Vt("exampleWarningErrorCollection"),a=new Vt("exampleErrorErrorCollection");Fi(()=>{i.add(new Ql({errorLevel:"WARNING",effect:"some example warning",cause:"some example reason"})),t(1,i),a.add(new Ql({errorLevel:"ERROR",effect:"some example error",cause:"some example reason"})),t(2,a)});let o=()=>{Rt.open(Rt.linkToHome())},u=()=>{Rt.open(Rt.linkToGithub())},s=()=>{Rt.open(Rt.linkToIssues())};return r.$$set=l=>{"plugin"in l&&t(0,n=l.plugin)},[n,i,a,o,u,s]}var dD=class extends qe{constructor(e){super(),He(this,e,Ene,Dne,ze,{plugin:0})}},UU=dD;var gu="mb-faq-view-type",zh=class extends $U.ItemView{constructor(e,t){super(e),this.plugin=t}getViewType(){return gu}getDisplayText(){return"Meta Bind FAQ"}async onOpen(){this.contentEl.empty(),this.component=new UU({target:this.contentEl,props:{plugin:this.plugin}})}async onClose(){var e;(e=this.component)==null||e.$destroy()}};var En=require("obsidian");var YU=require("obsidian");function Nne(r){let e,t,n,i=r[3].default,a=fa(i,r,r[2],null);return{c(){e=K("div"),a&&a.c(),$(e,"class",t=(r[0]?"mb-flex-row-reverse ":"mb-flex-row ")+(r[1]?"mb-flex-row-stretch ":""))},m(o,u){W(o,e,u),a&&a.m(e,null),n=!0},p(o,[u]){a&&a.p&&(!n||u&4)&&ma(a,i,o,o[2],n?pa(i,o[2],u,null):da(o[2]),null),(!n||u&3&&t!==(t=(o[0]?"mb-flex-row-reverse ":"mb-flex-row ")+(o[1]?"mb-flex-row-stretch ":"")))&&$(e,"class",t)},i(o){n||(Q(a,o),n=!0)},o(o){ie(a,o),n=!1},d(o){o&&G(e),a&&a.d(o)}}}function Cne(r,e,t){let{$$slots:n={},$$scope:i}=e,{reverse:a=!1}=e,{stretchChildren:o=!0}=e;return r.$$set=u=>{"reverse"in u&&t(0,a=u.reverse),"stretchChildren"in u&&t(1,o=u.stretchChildren),"$$scope"in u&&t(2,i=u.$$scope)},[a,o,i,n]}var hD=class extends qe{constructor(e){super(),He(this,e,Cne,Nne,ze,{reverse:0,stretchChildren:1})}},Hh=hD;var Ul=require("obsidian");function Tne(r){let e,t;return e=new Mr({props:{plugin:r[1],iconName:"pen-line"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Mne(r){let e,t;return e=new Mr({props:{plugin:r[1],iconName:"copy"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Fne(r){let e,t;return e=new Mr({props:{plugin:r[1],iconName:"x"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Ine(r){let e,t=r[0].id+"",n,i,a,o,u,s,l,c;return a=new wt({props:{variant:"primary",tooltip:"Edit",$$slots:{default:[Tne]},$$scope:{ctx:r}}}),a.$on("click",r[5]),u=new wt({props:{variant:"default",tooltip:"Copy",$$slots:{default:[Mne]},$$scope:{ctx:r}}}),u.$on("click",r[6]),l=new wt({props:{variant:"destructive",tooltip:"Delete",$$slots:{default:[Fne]},$$scope:{ctx:r}}}),l.$on("click",r[7]),{c(){e=K("span"),n=Le(t),i=le(),we(a.$$.fragment),o=le(),we(u.$$.fragment),s=le(),we(l.$$.fragment)},m(f,p){W(f,e,p),X(e,n),W(f,i,p),be(a,f,p),W(f,o,p),be(u,f,p),W(f,s,p),be(l,f,p),c=!0},p(f,p){(!c||p&1)&&t!==(t=f[0].id+"")&&gt(n,t);let m={};p&514&&(m.$$scope={dirty:p,ctx:f}),a.$set(m);let h={};p&514&&(h.$$scope={dirty:p,ctx:f}),u.$set(h);let d={};p&514&&(d.$$scope={dirty:p,ctx:f}),l.$set(d)},i(f){c||(Q(a.$$.fragment,f),Q(u.$$.fragment,f),Q(l.$$.fragment,f),c=!0)},o(f){ie(a.$$.fragment,f),ie(u.$$.fragment,f),ie(l.$$.fragment,f),c=!1},d(f){f&&(G(e),G(i),G(o),G(s)),xe(a,f),xe(u,f),xe(l,f)}}}function Bne(r){let e,t,n,i,a,o=(0,Ul.stringifyYaml)(r[0])+"",u,s;return t=new Hh({props:{$$slots:{default:[Ine]},$$scope:{ctx:r}}}),{c(){e=K("div"),we(t.$$.fragment),n=le(),i=K("pre"),a=K("code"),u=Le(o),$(a,"class","mb-none"),$(i,"class","mb-pre"),$(e,"class","mb-card markdown-rendered")},m(l,c){W(l,e,c),be(t,e,null),X(e,n),X(e,i),X(i,a),X(a,u),s=!0},p(l,[c]){let f={};c&515&&(f.$$scope={dirty:c,ctx:l}),t.$set(f),(!s||c&1)&&o!==(o=(0,Ul.stringifyYaml)(l[0])+"")&&gt(u,o)},i(l){s||(Q(t.$$.fragment,l),s=!0)},o(l){ie(t.$$.fragment,l),s=!1},d(l){l&&G(e),xe(t)}}}function Pne(r,e,t){let{template:n}=e,{plugin:i}=e,a=js();function o(){a("delete-template",{template:n})}function u(){new Ll({plugin:i,onOkay:p=>{t(0,n)},submitText:"Submit",config:n}).open()}function s(){let p=(0,Ul.stringifyYaml)(n);navigator.clipboard.writeText(p),new Ul.Notice("meta-bind | Copied to Clipboard")}let l=()=>u(),c=()=>s(),f=()=>o();return r.$$set=p=>{"template"in p&&t(0,n=p.template),"plugin"in p&&t(1,i=p.plugin)},[n,i,o,u,s,l,c,f]}var gD=class extends qe{constructor(e){super(),He(this,e,Pne,Bne,ze,{template:0,plugin:1})}},qU=gD;var gf=require("obsidian");function zU(r,e,t){let n=r.slice();return n[13]=e[t],n}function HU(r){let e,t;return e=new qU({props:{plugin:r[1].plugin,template:r[13]}}),e.$on("delete-template",r[8]),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1].plugin),i&1&&(a.template=n[13]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function One(r){let e;return{c(){e=Le("Add Template")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function kne(r){let e;return{c(){e=Le("Add Template from Clipboard")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function GU(r){let e,t,n,i,a;return i=new vs({props:{settings:{errorCollection:r[2]}}}),{c(){e=K("div"),t=K("h3"),t.textContent="Some Templates Failed to Parse",n=le(),we(i.$$.fragment),$(t,"class","mod-error")},m(o,u){W(o,e,u),X(e,t),X(e,n),be(i,e,null),a=!0},p(o,u){let s={};u&4&&(s.settings={errorCollection:o[2]}),i.$set(s)},i(o){a||(Q(i.$$.fragment,o),a=!0)},o(o){ie(i.$$.fragment,o),a=!1},d(o){o&&G(e),xe(i)}}}function Rne(r){let e;return{c(){e=Le("Save")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function Lne(r){let e;return{c(){e=Le("Cancel")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function Vne(r){let e,t,n,i;return e=new wt({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[Rne]},$$scope:{ctx:r}}}),e.$on("click",r[11]),n=new wt({props:{tooltip:"Revert Changes",$$slots:{default:[Lne]},$$scope:{ctx:r}}}),n.$on("click",r[12]),{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment)},m(a,o){be(e,a,o),W(a,t,o),be(n,a,o),i=!0},p(a,o){let u={};o&65536&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);let s={};o&65536&&(s.$$scope={dirty:o,ctx:a}),n.$set(s)},i(a){i||(Q(e.$$.fragment,a),Q(n.$$.fragment,a),i=!0)},o(a){ie(e.$$.fragment,a),ie(n.$$.fragment,a),i=!1},d(a){a&&G(t),xe(e,a),xe(n,a)}}}function Une(r){let e,t,n,i,a,o,u,s,l,c,f,p=ut(r[0]),m=[];for(let g=0;g<p.length;g+=1)m[g]=HU(zU(r,p,g));let h=g=>ie(m[g],1,1,()=>{m[g]=null});a=new wt({props:{variant:"primary",tooltip:"Create New Template",$$slots:{default:[One]},$$scope:{ctx:r}}}),a.$on("click",r[9]),u=new wt({props:{variant:"default",tooltip:"Create New Template from YAML in Clipboard",$$slots:{default:[kne]},$$scope:{ctx:r}}}),u.$on("click",r[10]);let d=r[2]&&GU(r);return c=new $a({props:{$$slots:{default:[Vne]},$$scope:{ctx:r}}}),{c(){e=K("div"),t=K("h2"),t.textContent="Meta Bind Button Templates",n=le();for(let g=0;g<m.length;g+=1)m[g].c();i=le(),we(a.$$.fragment),o=le(),we(u.$$.fragment),s=le(),d&&d.c(),l=le(),we(c.$$.fragment)},m(g,y){W(g,e,y),X(e,t),X(e,n);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(e,null);X(e,i),be(a,e,null),X(e,o),be(u,e,null),X(e,s),d&&d.m(e,null),X(e,l),be(c,e,null),f=!0},p(g,[y]){if(y&11){p=ut(g[0]);let S;for(S=0;S<p.length;S+=1){let x=zU(g,p,S);m[S]?(m[S].p(x,y),Q(m[S],1)):(m[S]=HU(x),m[S].c(),Q(m[S],1),m[S].m(e,i))}for(yt(),S=p.length;S<m.length;S+=1)h(S);bt()}let _={};y&65536&&(_.$$scope={dirty:y,ctx:g}),a.$set(_);let b={};y&65536&&(b.$$scope={dirty:y,ctx:g}),u.$set(b),g[2]?d?(d.p(g,y),y&4&&Q(d,1)):(d=GU(g),d.c(),Q(d,1),d.m(e,l)):d&&(yt(),ie(d,1,1,()=>{d=null}),bt());let w={};y&65536&&(w.$$scope={dirty:y,ctx:g}),c.$set(w)},i(g){if(!f){for(let y=0;y<p.length;y+=1)Q(m[y]);Q(a.$$.fragment,g),Q(u.$$.fragment,g),Q(d),Q(c.$$.fragment,g),f=!0}},o(g){m=m.filter(Boolean);for(let y=0;y<m.length;y+=1)ie(m[y]);ie(a.$$.fragment,g),ie(u.$$.fragment,g),ie(d),ie(c.$$.fragment,g),f=!1},d(g){g&&G(e),Gt(m,g),xe(a),xe(u),d&&d.d(),xe(c)}}}function $ne(r,e,t){let{buttonConfigs:n}=e,{modal:i}=e,a;function o(g){t(0,n=n.filter(y=>y!==g))}function u(){n.push(i.plugin.api.buttonActionRunner.createDefaultButtonConfig()),t(0,n)}function s(){return fc(this,void 0,void 0,function*(){let g;try{g=(0,gf.parseYaml)(yield navigator.clipboard.readText())}catch(_){console.warn(_),new gf.Notice("meta-bind | Can not parse button config. Check your button syntax. See the console for more details.");return}let y=Uu.safeParse(g);if(!y.success){let _=zs(y.error,{unionSeparator:`
OR `,issueSeparator:" AND ",prefix:null});console.warn(new Qa({errorLevel:"ERROR",effect:"can not parse button config",cause:"zod validation failed. Check your button syntax",positionContext:_.message,docs:[Rt.linkToButtonConfig()]})),console.warn(_),new gf.Notice("meta-bind | Can not parse button config. Check your button syntax. See the console for more details.");return}n.push(g),t(0,n)})}function l(){t(2,a=i.save(n)),a===void 0&&i.close()}function c(){i.close()}let f=g=>o(g.detail.template),p=()=>u(),m=()=>s(),h=()=>l(),d=()=>c();return r.$$set=g=>{"buttonConfigs"in g&&t(0,n=g.buttonConfigs),"modal"in g&&t(1,i=g.modal)},[n,i,a,o,u,s,l,c,f,p,m,h,d]}var vD=class extends qe{constructor(e){super(),He(this,e,$ne,Une,ze,{buttonConfigs:0,modal:1})}},WU=vD;var Gh=class extends YU.Modal{constructor(e,t){super(e),this.plugin=t}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new WU({target:this.contentEl,props:{buttonConfigs:sE(this.plugin.settings.buttonTemplates),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(e){let t=this.plugin.api.buttonManager.setButtonTemplates(e);if(t.hasErrors())return t;this.plugin.settings.buttonTemplates=e,this.plugin.saveSettings()}};var QU=require("obsidian");function jU(r,e,t){let n=r.slice();return n[12]=e[t],n[13]=e,n[14]=t,n}function qne(r){let e,t;return e=new Mr({props:{plugin:r[1].plugin,iconName:"x"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1].plugin),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function ZU(r){let e,t,n,i,a,o,u,s,l,c;function f(){r[7].call(n,r[13],r[14])}function p(){return r[8](r[12])}return o=new wt({props:{tooltip:"Delete",$$slots:{default:[qne]},$$scope:{ctx:r}}}),o.$on("click",p),{c(){e=K("tr"),t=K("td"),n=K("input"),i=le(),a=K("td"),we(o.$$.fragment),u=le(),$(n,"type","text"),$(n,"placeholder","path/to/folder"),io(n,"width","100%"),io(t,"width","100%")},m(m,h){W(m,e,h),X(e,t),X(t,n),Ke(n,r[12]),X(e,i),X(e,a),be(o,a,null),X(e,u),s=!0,l||(c=Ie(n,"input",f),l=!0)},p(m,h){r=m,h&1&&n.value!==r[12]&&Ke(n,r[12]);let d={};h&32770&&(d.$$scope={dirty:h,ctx:r}),o.$set(d)},i(m){s||(Q(o.$$.fragment,m),s=!0)},o(m){ie(o.$$.fragment,m),s=!1},d(m){m&&G(e),xe(o),l=!1,c()}}}function zne(r){let e;return{c(){e=Le("Add Folder")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function JU(r){let e,t,n,i,a;return i=new vs({props:{errorCollection:r[2],declaration:void 0}}),{c(){e=K("div"),t=K("h3"),t.textContent="Some Folder Paths are invalid",n=le(),we(i.$$.fragment),$(t,"class","mod-error")},m(o,u){W(o,e,u),X(e,t),X(e,n),be(i,e,null),a=!0},p(o,u){let s={};u&4&&(s.errorCollection=o[2]),i.$set(s)},i(o){a||(Q(i.$$.fragment,o),a=!0)},o(o){ie(i.$$.fragment,o),a=!1},d(o){o&&G(e),xe(i)}}}function Hne(r){let e;return{c(){e=Le("Save")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function Gne(r){let e;return{c(){e=Le("Cancel")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function Wne(r){let e,t,n,i;return e=new wt({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[Hne]},$$scope:{ctx:r}}}),e.$on("click",r[10]),n=new wt({props:{tooltip:"Revert Changes",$$slots:{default:[Gne]},$$scope:{ctx:r}}}),n.$on("click",r[11]),{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment)},m(a,o){be(e,a,o),W(a,t,o),be(n,a,o),i=!0},p(a,o){let u={};o&32768&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);let s={};o&32768&&(s.$$scope={dirty:o,ctx:a}),n.$set(s)},i(a){i||(Q(e.$$.fragment,a),Q(n.$$.fragment,a),i=!0)},o(a){ie(e.$$.fragment,a),ie(n.$$.fragment,a),i=!1},d(a){a&&G(t),xe(e,a),xe(n,a)}}}function Yne(r){let e,t,n,i,a,o,u,s,l,c,f,p=ut(r[0]),m=[];for(let g=0;g<p.length;g+=1)m[g]=ZU(jU(r,p,g));let h=g=>ie(m[g],1,1,()=>{m[g]=null});u=new wt({props:{variant:"primary",tooltip:"Add new excluded Folder",$$slots:{default:[zne]},$$scope:{ctx:r}}}),u.$on("click",r[9]);let d=r[2]&&JU(r);return c=new $a({props:{$$slots:{default:[Wne]},$$scope:{ctx:r}}}),{c(){e=K("div"),t=K("table"),n=K("thead"),n.innerHTML="<tr><th>Folder Path</th> <th></th></tr>",i=le(),a=K("tbody");for(let g=0;g<m.length;g+=1)m[g].c();o=le(),we(u.$$.fragment),s=le(),d&&d.c(),l=le(),we(c.$$.fragment)},m(g,y){W(g,e,y),X(e,t),X(t,n),X(t,i),X(t,a);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(a,null);X(e,o),be(u,e,null),X(e,s),d&&d.m(e,null),X(e,l),be(c,e,null),f=!0},p(g,[y]){if(y&11){p=ut(g[0]);let w;for(w=0;w<p.length;w+=1){let S=jU(g,p,w);m[w]?(m[w].p(S,y),Q(m[w],1)):(m[w]=ZU(S),m[w].c(),Q(m[w],1),m[w].m(a,null))}for(yt(),w=p.length;w<m.length;w+=1)h(w);bt()}let _={};y&32768&&(_.$$scope={dirty:y,ctx:g}),u.$set(_),g[2]?d?(d.p(g,y),y&4&&Q(d,1)):(d=JU(g),d.c(),Q(d,1),d.m(e,l)):d&&(yt(),ie(d,1,1,()=>{d=null}),bt());let b={};y&32768&&(b.$$scope={dirty:y,ctx:g}),c.$set(b)},i(g){if(!f){for(let y=0;y<p.length;y+=1)Q(m[y]);Q(u.$$.fragment,g),Q(d),Q(c.$$.fragment,g),f=!0}},o(g){m=m.filter(Boolean);for(let y=0;y<m.length;y+=1)ie(m[y]);ie(u.$$.fragment,g),ie(d),ie(c.$$.fragment,g),f=!1},d(g){g&&G(e),Gt(m,g),xe(u),d&&d.d(),xe(c)}}}function jne(r,e,t){let{excludedFolders:n}=e,{modal:i}=e,a;function o(d){t(0,n=n.filter(g=>g!==d))}function u(){n.push(""),t(0,n)}function s(){t(2,a=i.save(n)),a===void 0&&i.close()}function l(){i.close()}function c(d,g){d[g]=this.value,t(0,n)}let f=d=>o(d),p=()=>u(),m=()=>s(),h=()=>l();return r.$$set=d=>{"excludedFolders"in d&&t(0,n=d.excludedFolders),"modal"in d&&t(1,i=d.modal)},[n,i,a,o,u,s,l,c,f,p,m,h]}var yD=class extends qe{constructor(e){super(),He(this,e,jne,Yne,ze,{excludedFolders:0,modal:1})}},XU=yD;var Wh=class extends QU.Modal{constructor(e,t){super(e),this.plugin=t}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new XU({target:this.contentEl,props:{excludedFolders:this.plugin.settings.excludedFolders.slice(),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(e){for(let t of e)if(t===""){let n=new Vt("Excluded Folders");return n.add(new Error(`Invalid Folder Path '${t}'. Folder path may not be empty.`)),n}this.plugin.settings.excludedFolders=e,this.plugin.saveSettings()}};var i8=require("obsidian");function Zne(r){let e,t;return e=new Mr({props:{plugin:r[1],iconName:"x"}}),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Jne(r){let e,t,n,i,a,o;return n=new wt({props:{variant:"destructive",tooltip:"Delete Template",$$slots:{default:[Zne]},$$scope:{ctx:r}}}),n.$on("click",r[4]),{c(){e=K("input"),t=le(),we(n.$$.fragment),$(e,"type","text"),$(e,"placeholder","template-name")},m(u,s){W(u,e,s),Ke(e,r[0].name),W(u,t,s),be(n,u,s),i=!0,a||(o=Ie(e,"input",r[3]),a=!0)},p(u,s){s&1&&e.value!==u[0].name&&Ke(e,u[0].name);let l={};s&130&&(l.$$scope={dirty:s,ctx:u}),n.$set(l)},i(u){i||(Q(n.$$.fragment,u),i=!0)},o(u){ie(n.$$.fragment,u),i=!1},d(u){u&&(G(e),G(t)),xe(n,u),a=!1,o()}}}function Xne(r){let e,t,n,i,a,o,u;return t=new Hh({props:{$$slots:{default:[Jne]},$$scope:{ctx:r}}}),{c(){e=K("div"),we(t.$$.fragment),n=le(),i=K("textarea"),$(i,"type","text"),$(i,"placeholder","INPUT[slider(addLabels)]"),io(i,"width","100%"),io(i,"height","100px"),io(i,"resize","vertical"),$(e,"class","mb-card")},m(s,l){W(s,e,l),be(t,e,null),X(e,n),X(e,i),Ke(i,r[0].declaration),a=!0,o||(u=Ie(i,"input",r[5]),o=!0)},p(s,[l]){let c={};l&131&&(c.$$scope={dirty:l,ctx:s}),t.$set(c),l&1&&Ke(i,s[0].declaration)},i(s){a||(Q(t.$$.fragment,s),a=!0)},o(s){ie(t.$$.fragment,s),a=!1},d(s){s&&G(e),xe(t),o=!1,u()}}}function Qne(r,e,t){let{plugin:n}=e,{template:i}=e,a=js();function o(){a("delete-template",{template:i})}function u(){i.name=this.value,t(0,i)}let s=()=>o();function l(){i.declaration=this.value,t(0,i)}return r.$$set=c=>{"plugin"in c&&t(1,n=c.plugin),"template"in c&&t(0,i=c.template)},[i,n,o,u,s,l]}var bD=class extends qe{constructor(e){super(),He(this,e,Qne,Xne,ze,{plugin:1,template:0})}},KU=bD;function e8(r,e,t){let n=r.slice();return n[11]=e[t],n}function t8(r){let e,t;return e=new KU({props:{plugin:r[1].plugin,template:r[11]}}),e.$on("delete-template",r[7]),{c(){we(e.$$.fragment)},m(n,i){be(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1].plugin),i&1&&(a.template=n[11]),e.$set(a)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){xe(e,n)}}}function Kne(r){let e;return{c(){e=Le("Add Template")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function r8(r){let e,t,n,i,a;return i=new vs({props:{settings:{errorCollection:r[2]}}}),{c(){e=K("div"),t=K("h3"),t.textContent="Some Templates Failed to Parse",n=le(),we(i.$$.fragment),$(t,"class","mod-error")},m(o,u){W(o,e,u),X(e,t),X(e,n),be(i,e,null),a=!0},p(o,u){let s={};u&4&&(s.settings={errorCollection:o[2]}),i.$set(s)},i(o){a||(Q(i.$$.fragment,o),a=!0)},o(o){ie(i.$$.fragment,o),a=!1},d(o){o&&G(e),xe(i)}}}function eie(r){let e;return{c(){e=Le("Save")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function tie(r){let e;return{c(){e=Le("Cancel")},m(t,n){W(t,e,n)},d(t){t&&G(e)}}}function rie(r){let e,t,n,i;return e=new wt({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[eie]},$$scope:{ctx:r}}}),e.$on("click",r[9]),n=new wt({props:{tooltip:"Revert Changes",$$slots:{default:[tie]},$$scope:{ctx:r}}}),n.$on("click",r[10]),{c(){we(e.$$.fragment),t=le(),we(n.$$.fragment)},m(a,o){be(e,a,o),W(a,t,o),be(n,a,o),i=!0},p(a,o){let u={};o&16384&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);let s={};o&16384&&(s.$$scope={dirty:o,ctx:a}),n.$set(s)},i(a){i||(Q(e.$$.fragment,a),Q(n.$$.fragment,a),i=!0)},o(a){ie(e.$$.fragment,a),ie(n.$$.fragment,a),i=!1},d(a){a&&G(t),xe(e,a),xe(n,a)}}}function nie(r){let e,t,n,i,a,o,u,s,l,c=ut(r[0]),f=[];for(let h=0;h<c.length;h+=1)f[h]=t8(e8(r,c,h));let p=h=>ie(f[h],1,1,()=>{f[h]=null});a=new wt({props:{variant:"primary",tooltip:"Create New Template",$$slots:{default:[Kne]},$$scope:{ctx:r}}}),a.$on("click",r[8]);let m=r[2]&&r8(r);return s=new $a({props:{$$slots:{default:[rie]},$$scope:{ctx:r}}}),{c(){e=K("div"),t=K("h2"),t.textContent="Meta Bind Input Field Templates",n=le();for(let h=0;h<f.length;h+=1)f[h].c();i=le(),we(a.$$.fragment),o=le(),m&&m.c(),u=le(),we(s.$$.fragment)},m(h,d){W(h,e,d),X(e,t),X(e,n);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(e,null);X(e,i),be(a,e,null),X(e,o),m&&m.m(e,null),X(e,u),be(s,e,null),l=!0},p(h,[d]){if(d&11){c=ut(h[0]);let _;for(_=0;_<c.length;_+=1){let b=e8(h,c,_);f[_]?(f[_].p(b,d),Q(f[_],1)):(f[_]=t8(b),f[_].c(),Q(f[_],1),f[_].m(e,i))}for(yt(),_=c.length;_<f.length;_+=1)p(_);bt()}let g={};d&16384&&(g.$$scope={dirty:d,ctx:h}),a.$set(g),h[2]?m?(m.p(h,d),d&4&&Q(m,1)):(m=r8(h),m.c(),Q(m,1),m.m(e,u)):m&&(yt(),ie(m,1,1,()=>{m=null}),bt());let y={};d&16384&&(y.$$scope={dirty:d,ctx:h}),s.$set(y)},i(h){if(!l){for(let d=0;d<c.length;d+=1)Q(f[d]);Q(a.$$.fragment,h),Q(m),Q(s.$$.fragment,h),l=!0}},o(h){f=f.filter(Boolean);for(let d=0;d<f.length;d+=1)ie(f[d]);ie(a.$$.fragment,h),ie(m),ie(s.$$.fragment,h),l=!1},d(h){h&&G(e),Gt(f,h),xe(a),m&&m.d(),xe(s)}}}function iie(r,e,t){let{inputFieldTemplates:n}=e,{modal:i}=e,a;function o(h){t(0,n=n.filter(d=>d!==h))}function u(){n.push({name:"",declaration:""}),t(0,n)}function s(){t(2,a=i.save(n)),a===void 0&&i.close()}function l(){i.close()}let c=h=>o(h.detail.template),f=()=>u(),p=()=>s(),m=()=>l();return r.$$set=h=>{"inputFieldTemplates"in h&&t(0,n=h.inputFieldTemplates),"modal"in h&&t(1,i=h.modal)},[n,i,a,o,u,s,l,c,f,p,m]}var xD=class extends qe{constructor(e){super(),He(this,e,iie,nie,ze,{inputFieldTemplates:0,modal:1})}},n8=xD;var Yh=class extends i8.Modal{constructor(e,t){super(e),this.plugin=t}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new n8({target:this.contentEl,props:{inputFieldTemplates:JSON.parse(JSON.stringify(this.plugin.settings.inputFieldTemplates)),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(e){let t=this.plugin.api.inputFieldParser.parseTemplates(e);if(t.hasErrors())return t;this.plugin.settings.inputFieldTemplates=e,this.plugin.saveSettings()}};var jh=class extends En.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){let{containerEl:e}=this;if(e.empty(),this.plugin.build==="dev"||this.plugin.build==="canary"){e.createEl("p",{text:`You are using a ${this.plugin.build} build (${this.plugin.manifest.version}). This build is not intended for production use. Use at your own risk.`,cls:"mb-error"});let t=new En.ButtonComponent(e);t.setButtonText("Learn About Canary Builds"),t.setCta(),t.onClick(()=>{Rt.open(Rt.linkToCanaryBuilds())})}new En.Setting(e).setName("Quick access").addButton(t=>{t.setCta(),t.setButtonText("Docs"),t.onClick(()=>{Rt.open(Rt.linkToHome())})}).addButton(t=>{t.setButtonText("Open FAQ"),t.onClick(()=>{this.plugin.activateView(gu)})}).addButton(t=>{t.setButtonText("GitHub"),t.onClick(()=>{Rt.open(Rt.linkToGithub())})}).addButton(t=>{t.setButtonText("Report Issue"),t.onClick(()=>{Rt.open(Rt.linkToIssues())})}),e.createEl("h2",{text:"General Settings"}),new En.Setting(e).setName("Enable Syntax Highlighting").setDesc("Enable syntax highlighting for. RESTART REQUIRED.").addToggle(t=>{t.setValue(this.plugin.settings.enableSyntaxHighlighting),t.onChange(n=>{this.plugin.settings.enableSyntaxHighlighting=n,this.plugin.saveSettings()})}),new En.Setting(e).setName("Enable Editor Right Click Menu").setDesc("Enable a meta bind menu section in the editor right click menu. RESTART REQUIRED.").addToggle(t=>{t.setValue(this.plugin.settings.enableEditorRightClickMenu),t.onChange(n=>{this.plugin.settings.enableEditorRightClickMenu=n,this.plugin.saveSettings()})}),new En.Setting(e).setName("Input Field Templates").setDesc("You can specify input field templates here, and access them using `INPUT[template_name][overrides (optional)]` in your notes.").addButton(t=>{t.setButtonText("Edit Templates"),t.onClick(()=>{new Yh(this.app,this.plugin).open()})}),new En.Setting(e).setName("Button Templates").setDesc("You can specify button field templates here, and access them in inline buttons.").addButton(t=>{t.setButtonText("Edit Templates"),t.onClick(()=>{new Gh(this.app,this.plugin).open()})}),new En.Setting(e).setName("Excluded Folders").setDesc("You can specify excluded folders here. The plugin will not work within excluded folders.").addButton(t=>{t.setButtonText("Edit Excluded Folders"),t.onClick(()=>{new Wh(this.app,this.plugin).open()})}),new En.Setting(e).setName("View Fields display null as empty").setDesc("Display nothing instead of null, if the frontmatter value is empty, in text view fields.").addToggle(t=>{t.setValue(this.plugin.settings.viewFieldDisplayNullAsEmpty),t.onChange(n=>{this.plugin.settings.viewFieldDisplayNullAsEmpty=n,this.plugin.saveSettings()})}),new En.Setting(e).setName("Enable JS Input Fields").setDesc("Enable the processing of JavaScript input fields. This is potentially DANGEROUS, thus it's disabled by default. RESTART REQUIRED.").addToggle(t=>{t.setValue(this.plugin.settings.enableJs),t.onChange(n=>{this.plugin.settings.enableJs=n,this.plugin.saveSettings()})}),e.createEl("h2",{text:"Date and Time Settings"}),new En.Setting(e).setName("Date format").setDesc("The date format to be used by this plugin. Changing this setting will break the parsing of existing date inputs. Here is a list of all available date tokes https://momentjs.com/docs/#/displaying/.").addText(t=>{t.setValue(this.plugin.settings.preferredDateFormat),t.onChange(n=>{this.plugin.settings.preferredDateFormat=n,this.plugin.saveSettings()})}),new En.Setting(e).setName("First Weekday").setDesc("Specify the first weekday for the datepicker.").addDropdown(t=>{for(let n of Es)t.addOption(n.name,n.name);t.setValue(this.plugin.settings.firstWeekday.name),t.onChange(n=>{this.plugin.settings.firstWeekday=Es.find(i=>i.name===n),this.plugin.saveSettings()})}),e.createEl("h2",{text:"Advanced Settings"}),new En.Setting(e).setName("Dev Mode").setDesc("Enable dev mode. Not recommended unless you want to debug this plugin.").addToggle(t=>{t.setValue(this.plugin.settings.devMode),t.onChange(n=>{this.plugin.settings.devMode=n,this.plugin.saveSettings()})}),new En.Setting(e).setName("Disable Code Block Restrictions").setDesc("Disable restrictions on which input fields can be created in which code blocks. Not recommended unless you know what you are doing.").addToggle(t=>{t.setValue(this.plugin.settings.ignoreCodeBlockRestrictions),t.onChange(n=>{this.plugin.settings.ignoreCodeBlockRestrictions=n,this.plugin.saveSettings()})}),new En.Setting(e).setName("Sync interval").setDesc(`The interval in milli-seconds between disk writes. Changing this number is not recommended except if your hard drive is exceptionally slow. Standard: ${oa.syncInterval}; Minimum: ${oa.minSyncInterval}; Maximum: ${oa.maxSyncInterval}`).addText(t=>{t.setValue(this.plugin.settings.syncInterval.toString()),t.onChange(n=>{this.plugin.settings.syncInterval=Number.parseInt(n),Number.isNaN(this.plugin.settings.syncInterval)&&(this.plugin.settings.syncInterval=oa.syncInterval),this.plugin.settings.syncInterval<oa.minSyncInterval&&(this.plugin.settings.syncInterval=oa.minSyncInterval),this.plugin.settings.syncInterval>oa.maxSyncInterval&&(this.plugin.settings.syncInterval=oa.maxSyncInterval),this.plugin.saveSettings()})})}};var wD=(n=>(n.DEV="dev",n.CANARY="canary",n.RELEASE="release",n))(wD||{}),Zh=class extends $l.Plugin{async onload(){console.log("meta-bind | Main >> load"),this.build=this.determineBuild(),await this.loadSettings(),this.addSettingTab(new jh(this.app,this)),this.dependencyManager=new qh(this,[{name:"Dataview",pluginId:"dataview",minVersion:new Li(0,5,64)},{name:"JS Engine",pluginId:"js-engine",minVersion:new Li(0,1,0)},{name:"Templater",pluginId:"templater-obsidian",minVersion:new Li(2,2,3)}]),!this.dependencyManager.checkDependenciesOnStartup()&&(this.api=new Ah(this),this.internal=new kh(this),this.mdrcManager=new Gf,this.setUpMetadataManager(),this.loadTemplates(),this.addPostProcessors(),this.registerEditorExtension(TU(this)),this.addCommands(),g5(this),this.registerView(gu,e=>new zh(e,this)),this.addStatusBarBuildIndicator(),this.settings.enableEditorRightClickMenu&&this.registerEvent(this.app.workspace.on("editor-menu",(e,t)=>{xE(e,t,this)})),await(0,$l.loadPrism)())}onunload(){console.log("meta-bind | Main >> unload"),this.mdrcManager.unload()}determineBuild(){return this.manifest.version.includes("canary")?"canary":"release"}setUpMetadataManager(){this.metadataManager=new qf,this.metadataManager.registerSource(new Rh(this,"frontmatter",this.metadataManager)),this.metadataManager.registerSource(new Of("memory",this.metadataManager)),this.metadataManager.registerSource(new kf("globalMemory",this.metadataManager)),this.metadataManager.registerSource(new Rf("scope",this.metadataManager)),this.metadataManager.setDefaultSource("frontmatter"),this.registerEvent(this.app.vault.on("rename",(e,t)=>{this.mdrcManager.unloadFile(t),this.metadataManager.onStoragePathRenamed(t,e.path)})),this.registerEvent(this.app.vault.on("delete",e=>{this.mdrcManager.unloadFile(e.path),this.metadataManager.onStoragePathDeleted(e.path)})),this.registerInterval(window.setInterval(()=>this.metadataManager.cycle(),this.settings.syncInterval))}addPostProcessors(){this.registerMarkdownPostProcessor((e,t)=>{let n=e.querySelectorAll("code"),i=t.sourcePath;for(let a=0;a<n.length;a++){let o=n.item(a);if(o.hasClass("mb-none"))continue;let u=o.innerText,s=this.api.isInlineFieldDeclarationAndGetType(u);if(s===void 0)continue;let l=this.api.createInlineFieldOfTypeFromString(s,u,i,void 0);this.api.wrapInMDRC(l,o,t)}},1),this.registerMarkdownCodeBlockProcessor("meta-bind",(e,t,n)=>{let i=t,a=e.trim(),o=n.sourcePath,u=this.api.isInlineFieldDeclarationAndGetType(a);if(u===void 0)return;let s=n.getSectionInfo(t),l;s&&(l={lineStart:s.lineStart,lineEnd:s.lineEnd});let c=this.api.createInlineFieldOfTypeFromString(u,a,o,void 0,"block",l);this.api.wrapInMDRC(c,i,n)}),this.registerMarkdownCodeBlockProcessor("meta-bind-js-view",(e,t,n)=>{let i=this.api.createJsViewFieldBase(n.sourcePath,{declaration:e});this.api.wrapInMDRC(i,t,n)}),this.registerMarkdownCodeBlockProcessor("meta-bind-embed",(e,t,n)=>{let i=this.api.createEmbedBase(n.sourcePath,{content:e,depth:0});this.api.wrapInMDRC(i,t,n)});for(let e=1;e<=If;e++)this.registerMarkdownCodeBlockProcessor(`meta-bind-embed-internal-${e}`,(t,n,i)=>{let a=this.api.createEmbedBase(i.sourcePath,{content:t,depth:e});this.api.wrapInMDRC(a,n,i)});this.registerMarkdownCodeBlockProcessor("meta-bind-button",(e,t,n)=>{let i=n.getSectionInfo(t),a;i&&(a={lineStart:i.lineStart,lineEnd:i.lineEnd});let o=this.api.createButtonBase(n.sourcePath,{declaration:e,isPreview:!1,position:a});this.api.wrapInMDRC(o,t,n)})}addCommands(){this.addCommand({id:"open-docs",name:"Open Meta Bind Docs",callback:()=>{window.open("https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/","_blank")}}),this.addCommand({id:"open-faq",name:"Open Meta Bind FAQ",callback:()=>{this.activateView(gu)}}),this.addCommand({id:"open-help",name:"Open Meta Bind Help",callback:()=>{this.activateView(gu)}}),this.addCommand({id:"open-button-builder",name:"Open Button Builder",callback:()=>{this.internal.openButtonBuilderModal({onOkay:e=>{window.navigator.clipboard.writeText(`\`\`\`meta-bind-button
${(0,$l.stringifyYaml)(e)}
\`\`\``)},submitText:"Copy to Clipboard"})}}),this.addCommand({id:"copy-command-id",name:"Select and Copy Command ID",callback:()=>{this.internal.openCommandSelectModal(e=>{window.navigator.clipboard.writeText(e.id)})}})}addStatusBarBuildIndicator(){if(this.build==="dev"){let e=this.addStatusBarItem();e.setText("Meta Bind Dev Build"),e.addClass("mb-error"),this.register(()=>e.remove())}if(this.build==="canary"){let e=this.addStatusBarItem();e.setText(`Meta Bind Canary Build (${this.manifest.version})`),e.addClass("mb-error"),this.register(()=>e.remove())}}loadTemplates(){if(!this.api)return;let e=this.api.inputFieldParser.parseTemplates(this.settings.inputFieldTemplates);e.hasErrors()&&console.warn("meta-bind | failed to parse input field templates",e);let t=this.api.buttonManager.setButtonTemplates(this.settings.buttonTemplates);t.hasErrors()&&console.warn("meta-bind | failed to parse button templates",t)}async loadSettings(){console.log("meta-bind | Main >> settings load");let e=await this.loadData();this.settings=Object.assign({},oa,e),await this.saveSettings()}async saveSettings(){console.log("meta-bind | Main >> settings save"),this.updateInternalSettings(),await this.saveData(this.settings)}updateInternalSettings(){Rn.dateFormat=this.settings.preferredDateFormat,pE(this.settings.firstWeekday),this.loadTemplates()}async onExternalSettingsChange(){await this.loadSettings()}async activateView(e){let{workspace:t}=this.app,n,i=t.getLeavesOfType(e);i.length>0?n=i[0]:(n=t.getLeaf("tab"),await n.setViewState({type:e,active:!0})),t.revealLeaf(n)}};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.3.0 20/08/2023
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2023, Robert Eisele (robert@raw.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/
